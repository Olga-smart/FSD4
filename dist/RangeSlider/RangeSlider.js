(self.webpackChunk=self.webpackChunk||[]).push([[906],{71376:(e,t,i)=>{"use strict";i(83875);class a{constructor(){this.listeners=[]}subscribe(e){this.listeners.push(e)}unsubscribe(e){this.listeners=this.listeners.filter((t=>t!==e))}notify(e,t=null){0!==this.listeners.length&&this.listeners.forEach((i=>i.inform(e,t)))}}const s=class{constructor(e,t){this.component=document.createElement(e),t&&(this.component.className=t)}static createComponent(e,t){const i=document.createElement(e);return t&&(i.className=t),i}getComponent(){return this.component}getBoundingClientRect(){return this.component.getBoundingClientRect()}getWidth(){return this.component.offsetWidth}getHeight(){return this.component.offsetHeight}setIndent(e,t){"number"==typeof t&&(this.component.style[e]=`${t}%`),"string"==typeof t&&(this.component.style[e]=t)}remove(){this.component.remove()}},n=class extends s{constructor(e){super("div","range-slider__track"),this.view=e,this.attachEventHandlers()}append(...e){this.component.append(...e)}handleClick(e){if(e.currentTarget instanceof HTMLElement){const t=e.clientX-e.currentTarget.getBoundingClientRect().left,i=e.clientY-e.currentTarget.getBoundingClientRect().top;this.view.handleScaleOrTrackClick(t,i)}}attachEventHandlers(){this.component.addEventListener("click",this.handleClick.bind(this))}},l=class extends s{constructor(){super("div","range-slider__range")}setWidth(e){this.component.style.width=`${e}%`}setHeight(e){this.component.style.height=`${e}%`}resetWidth(){this.component.style.width="unset"}resetHeight(){this.component.style.height="unset"}resetTopIndent(){this.component.style.top="unset"}};class h extends s{constructor(e,t="left"){super("div",`range-slider__thumb range-slider__thumb_${t}`),this.type=t,this.view=e,this.attachEventHandlers()}getLeftIndent(){return this.component.style.left}getTopIndent(){return this.component.style.top}setZIndex(e){this.component.style.zIndex=`${e}`}static handlePointerOver(e){e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.add("range-slider__thumb_hover")}static handlePointerOut(e){e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.remove("range-slider__thumb_hover")}static handlePointerUp(e){e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.remove("range-slider__thumb_active")}static handleDragStart(){return!1}handlePointerDown(e){if(e.currentTarget instanceof HTMLElement){e.currentTarget.classList.add("range-slider__thumb_active"),e.currentTarget.setPointerCapture(e.pointerId),e.preventDefault();const t=e.clientX-e.currentTarget.getBoundingClientRect().left,i=e.clientY-e.currentTarget.getBoundingClientRect().top,a=e=>{"left"===this.type&&this.view.handleLeftInput(e.clientX,e.clientY,t,i),"right"===this.type&&this.view.handleRightInput(e.clientX,e.clientY,t,i)},s=()=>{this.component.removeEventListener("pointermove",a),this.component.removeEventListener("pointerup",s)};this.component.addEventListener("pointermove",a),this.component.addEventListener("pointerup",s)}}attachEventHandlers(){this.component.addEventListener("pointerover",h.handlePointerOver),this.component.addEventListener("pointerout",h.handlePointerOut),this.component.addEventListener("pointerdown",this.handlePointerDown.bind(this)),this.component.addEventListener("pointerup",h.handlePointerUp),this.component.addEventListener("dragstart",h.handleDragStart)}}const r=h,o=class extends s{constructor(e,t,i){super("div","range-slider__scale"),this.view=i,this.intervals=[],this.values=[],this.valueElements=[];const a=i.getScaleIntervals();this.createIntervals(a),this.addMarksInIntervals(a),this.addValues(e,t,a),this.attachEventHandlers()}fitWidthForVertical(){let e=0;this.valueElements.forEach((t=>{t.offsetWidth>e&&(e=t.offsetWidth)})),this.component.style.paddingRight=`${e+3}px`}fitHeightForHorizontal(){let e=0;this.valueElements.forEach((t=>{t.offsetHeight>e&&(e=t.offsetHeight)})),this.component.style.paddingBottom=`${e+3}px`}handleSwitchFromHorizontalToVertical(){this.component.style.paddingBottom="unset",this.fitWidthForVertical()}handleSwitchFromVerticalToHorizontal(){this.component.style.paddingRight="unset",this.fitHeightForHorizontal()}createIntervals(e){const t=new DocumentFragment;for(let i=0;i<e;i+=1)this.intervals[i]=s.createComponent("div","range-slider__scale-interval"),t.append(this.intervals[i]);this.component.append(t)}addMarksInIntervals(e){this.intervals.forEach((t=>{const i=new DocumentFragment;e<29&&i.append(s.createComponent("span","range-slider__scale-mark")),e<15&&i.append(s.createComponent("span","range-slider__scale-mark")),e<8&&i.append(s.createComponent("span","range-slider__scale-mark")),e<5&&i.append(s.createComponent("span","range-slider__scale-mark")),t.append(i)}))}addValues(e,t,i){this.values[0]=e;const a=(t-e)/i;let n=0;Number.isInteger(e)||(n=e.toString().split(".")[1].length),Number.isInteger(t)||t.toString().split(".")[1].length>n&&(n=t.toString().split(".")[1].length),t-e<i&&(n+=i.toString().length);for(let t=1;t<i;t+=1)this.values[t]=Number((t*a+e).toFixed(n));this.values.push(t);const l=s.createComponent("span","range-slider__scale-interval-value range-slider__scale-interval-value_min");l.textContent=`${this.values[0]}`,this.intervals[0].append(l),this.valueElements.push(l);for(let e=1;e<this.values.length;e+=1){const t=s.createComponent("span","range-slider__scale-interval-value");t.textContent=`${this.values[e]}`,this.intervals[e-1].append(t),this.valueElements.push(t)}}handleClick(e){if(e.currentTarget instanceof HTMLElement){const t=e.clientX-e.currentTarget.getBoundingClientRect().left,i=e.clientY-e.currentTarget.getBoundingClientRect().top;this.view.handleScaleOrTrackClick(t,i)}}attachEventHandlers(){this.component.addEventListener("click",this.handleClick.bind(this))}},u=class extends s{constructor(){super("div","range-slider__labels-container")}append(...e){this.component.append(...e)}fixWidthForVertical(e,t=4){let i=0;e.forEach((e=>{e.offsetWidth>i&&(i=e.offsetWidth)})),this.component.style.paddingLeft=`${i+t}px`}fixHeightForHorizontal(e,t=4){let i=0;e.forEach((e=>{e.offsetHeight>i&&(i=e.offsetHeight)})),this.component.style.paddingTop=`${i+t}px`}},d=class extends s{constructor(e){super("div",e)}setOpacity(e){this.component.style.opacity=`${e}`}setValue(e){this.component.textContent=`${e}`}getValue(){return Number(this.component.textContent)}getLeftIndent(){return this.component.style.left}getTopIndent(){return this.component.style.top}},c=class extends s{constructor(){super("input","range-slider__input"),this.setAttributes()}setValue(e,t=null){this.component.value=null===t?`${e}`:`${e} - ${t}`}setAttributes(){this.component.type="text",this.component.tabIndex=-1,this.component.readOnly=!0}};class m extends s{constructor(e){super("form","panel"),this.view=e,this.min=s.createComponent("input","panel__min panel__input"),this.max=s.createComponent("input","panel__max panel__input"),this.step=s.createComponent("input","panel__step panel__input"),this.from=s.createComponent("input","panel__from panel__input"),this.to=s.createComponent("input","panel__to panel__input"),this.vertical=s.createComponent("input","panel__vertical panel__checkbox"),this.range=s.createComponent("input","panel__range panel__checkbox"),this.scale=s.createComponent("input","panel__scale panel__checkbox"),this.scaleIntervals=s.createComponent("input","panel__scale-intervals panel__input"),this.valueLabels=s.createComponent("input","panel__value-labels panel__checkbox"),this.minMaxLabels=s.createComponent("input","panel__min-max-labels panel__checkbox"),this.render(),this.attachEventHandlers()}setValues(e){this.min.value=`${e.min}`,this.max.value=`${e.max}`,this.step.value=`${e.step}`,this.from.value=`${e.from}`,this.to.value=null!==e.to?`${e.to}`:"",this.vertical.checked=e.vertical,this.range.checked=e.range,this.scale.checked=e.scale,this.scaleIntervals.value=`${e.scaleIntervals}`,this.valueLabels.checked=e.valueLabels,this.minMaxLabels.checked=e.minMaxLabels,this.setCheckMarks(),this.setAttributes(e)}updateFrom(e){this.from.value=`${e}`,this.updateAttributesAfterFromChange()}updateTo(e){this.to.value=`${e}`,this.updateAttributesAfterToChange()}updateStep(e){this.step.value=`${e}`,this.updateAttributesAfterStepChange()}updateMin(e){this.min.value=`${e}`,this.updateAttributesAfterMinChange()}updateMax(e){this.max.value=`${e}`,this.updateAttributesAfterMaxChange()}updateScaleIntervals(e){this.scaleIntervals.value=`${e}`}static addLabel(e,t,i){const a=s.createComponent("label","panel__label");return a.textContent=t,i&&a.classList.add(i),a.append(e),a}static calcStepMin(e){if(Number.isInteger(e))return 1;let t="1";for(let i=e.toString().split(".")[1].length;i>1;i-=1)t=`0${t}`;return t=`0.${t}`,Number(t)}static toggleCheckbox(e){const t=e.closest("label");null==t||t.classList.toggle("panel__label_for-checkbox_checked")}render(){this.setTypes(),this.component.append(m.addLabel(this.range,"Range:","panel__label_for-checkbox"),m.addLabel(this.vertical,"Vertical:","panel__label_for-checkbox"),m.addLabel(this.valueLabels,"Value labels:","panel__label_for-checkbox"),m.addLabel(this.minMaxLabels,"Min&max labels:","panel__label_for-checkbox"),m.addLabel(this.scale,"Scale:","panel__label_for-checkbox"),m.addLabel(this.scaleIntervals,"Scale intervals:"),m.addLabel(this.min,"Min:"),m.addLabel(this.max,"Max:"),m.addLabel(this.from,"From:"),m.addLabel(this.to,"To:"),m.addLabel(this.step,"Step:"))}setTypes(){this.min.type="number",this.max.type="number",this.step.type="number",this.from.type="number",this.to.type="number",this.vertical.type="checkbox",this.range.type="checkbox",this.scale.type="checkbox",this.scaleIntervals.type="number",this.valueLabels.type="checkbox",this.minMaxLabels.type="checkbox"}setAttributes(e){this.from.min=`${e.min}`,this.from.max=e.range?`${e.to}`:`${e.max}`,this.to.min=`${e.from}`,this.to.max=`${e.max}`,this.from.step=`${e.step}`,this.to.step=`${e.step}`,this.min.step=`${e.step}`,this.max.step=`${e.step}`,this.min.max=`${e.from}`,this.max.min=e.range?`${e.to}`:`${e.from}`,this.step.min=`${m.calcStepMin(e.step)}`,this.step.step=this.step.min,this.step.max=`${Math.abs(e.max-e.min)}`,e.range||(this.to.disabled=!0),this.scaleIntervals.min="1",e.scale||(this.scaleIntervals.disabled=!0)}setCheckMarks(){[this.vertical,this.range,this.scale,this.valueLabels,this.minMaxLabels].forEach((e=>{e.checked&&m.toggleCheckbox(e)}))}updateAttributesAfterFromChange(){this.min.max=this.from.value,this.view.isRange()&&(this.to.min=this.from.value),this.view.isRange()||(this.max.min=this.from.value)}updateAttributesAfterToChange(){this.from.max=this.to.value,this.max.min=this.to.value}updateAttributesAfterStepChange(){this.step.min=`${m.calcStepMin(Number(this.step.value))}`,this.step.step=`${m.calcStepMin(Number(this.step.value))}`,this.from.step=this.step.value,this.to.step=this.step.value,this.min.step=this.step.value,this.max.step=this.step.value}updateAttributesAfterMinChange(){this.from.min=this.min.value}updateAttributesAfterMaxChange(){this.view.isRange()||(this.from.max=this.max.value),this.view.isRange()&&(this.to.max=this.max.value)}handleMinChange(){Number(this.min.value)>Number(this.from.value)&&(this.min.value=this.from.value),this.view.changeMinFromOutside(Number(this.min.value)),this.step.max=`${Math.abs(Number(this.max.value)-Number(this.min.value))}`,this.updateAttributesAfterMinChange()}handleMaxChange(){this.view.isRange()||Number(this.max.value)<Number(this.from.value)&&(this.max.value=this.from.value),this.view.isRange()&&Number(this.max.value)<Number(this.to.value)&&(this.max.value=this.to.value),this.view.changeMaxFromOutside(Number(this.max.value)),this.step.max=`${Math.abs(Number(this.max.value)-Number(this.min.value))}`,this.updateAttributesAfterMaxChange()}handleStepChange(){Number(this.step.value)>Number(this.step.max)&&(this.step.value=this.step.max),Number(this.step.value)<=0&&(this.step.value=this.step.min),this.view.changeStepFromOutside(Number(this.step.value)),this.updateAttributesAfterStepChange()}handleFromChange(){Number(this.from.value)>Number(this.from.max)&&(this.from.value=this.from.max),Number(this.from.value)<Number(this.from.min)&&(this.from.value=this.from.min),this.view.changeLeftValueFromOutside(Number(this.from.value)),this.updateAttributesAfterFromChange()}handleToChange(){Number(this.to.value)>Number(this.to.max)&&(this.to.value=this.to.max),Number(this.to.value)<Number(this.to.min)&&(this.to.value=this.to.min),this.view.changeRightValueFromOutside(Number(this.to.value)),this.updateAttributesAfterToChange()}handleVerticalChange(){this.view.changeOrientationFromOutside(),m.toggleCheckbox(this.vertical)}handleRangeChange(){this.view.toggleRangeFromOutside(),this.to.disabled=!this.to.disabled,this.range.checked?this.from.max=this.to.value:this.from.max=this.max.value,m.toggleCheckbox(this.range)}handleScaleChange(){this.view.toggleScaleFromOutside(),this.scaleIntervals.disabled=!this.scaleIntervals.disabled,m.toggleCheckbox(this.scale)}handleScaleIntervalsChange(){Number(this.scaleIntervals.value)<Number(this.scaleIntervals.min)&&(this.scaleIntervals.value=this.scaleIntervals.min),Number.isInteger(this.scaleIntervals.value)||(this.scaleIntervals.value=`${Math.floor(Number(this.scaleIntervals.value))}`),this.view.changeScaleIntervals(Number(this.scaleIntervals.value))}handleValueLabelsChange(){this.view.toggleValueLabels(),m.toggleCheckbox(this.valueLabels)}handleMinMaxLabelsChange(){this.view.toggleMinMaxLabels(),m.toggleCheckbox(this.minMaxLabels)}attachEventHandlers(){this.min.addEventListener("change",this.handleMinChange.bind(this)),this.max.addEventListener("change",this.handleMaxChange.bind(this)),this.step.addEventListener("change",this.handleStepChange.bind(this)),this.from.addEventListener("change",this.handleFromChange.bind(this)),this.to.addEventListener("change",this.handleToChange.bind(this)),this.vertical.addEventListener("change",this.handleVerticalChange.bind(this)),this.range.addEventListener("change",this.handleRangeChange.bind(this)),this.scale.addEventListener("change",this.handleScaleChange.bind(this)),this.scaleIntervals.addEventListener("change",this.handleScaleIntervalsChange.bind(this)),this.valueLabels.addEventListener("change",this.handleValueLabelsChange.bind(this)),this.minMaxLabels.addEventListener("change",this.handleMinMaxLabelsChange.bind(this))}}const g=class extends s{constructor(e,t={}){var i;super("div"),this.component=e,this.eventManager=new a,this.slider=s.createComponent("div","range-slider__slider"),this.track=new n(this),this.range=new l,this.thumbLeft=new r(this,"left"),this.input=new c,t.range&&(this.thumbRight=new r(this,"right")),this.scaleIntervals=null!==(i=t.scaleIntervals)&&void 0!==i?i:4,t.scale&&(this.scale=new o(0,100,this)),(t.minMaxLabels||t.valueLabels)&&(this.labelsContainer=new u,t.minMaxLabels&&(this.minLabel=new d("range-slider__min-max-label range-slider__min-max-label_left"),this.maxLabel=new d("range-slider__min-max-label range-slider__min-max-label_right")),t.valueLabels&&(this.valueLabelLeft=new d("range-slider__value-label range-slider__value-label_left"),t.range&&(this.valueLabelRight=new d("range-slider__value-label range-slider__value-label_right"),this.valueLabelCommon=new d("range-slider__value-label range-slider__value-label_common")))),t.vertical&&(this.vertical=!0),t.panel&&(this.panel=new m(this)),this.render()}subscribe(e){this.eventManager.subscribe(e)}notify(e,t=null){this.eventManager.notify(e,t)}setMinValue(e){var t;null===(t=this.minLabel)||void 0===t||t.setValue(e)}setMaxValue(e){var t;null===(t=this.maxLabel)||void 0===t||t.setValue(e)}setLeftValue(e,t){var i,a;this.vertical||(this.thumbLeft.setIndent("left",t),this.isRange()||this.range.setWidth(t),this.isRange()&&this.range.setIndent("left",t),null===(i=this.valueLabelLeft)||void 0===i||i.setIndent("left",this.thumbLeft.getLeftIndent()),"100%"===this.thumbLeft.getLeftIndent()?this.thumbLeft.setZIndex(100):this.thumbLeft.setZIndex(3)),this.vertical&&(this.thumbLeft.setIndent("top",100-t),this.isRange()||this.range.setHeight(t),this.isRange()&&this.range.setIndent("bottom",t),null===(a=this.valueLabelLeft)||void 0===a||a.setIndent("top",this.thumbLeft.getTopIndent()),"0%"===this.thumbLeft.getTopIndent()?this.thumbLeft.setZIndex(100):this.thumbLeft.setZIndex(3)),this.valueLabelLeft&&(this.valueLabelLeft.setValue(e),this.isRange()&&(this.valueLabelCommon.setValue(`${e} - ${this.valueLabelRight.getValue()}`),this.isTwoValueLabelsClose()?this.mergeLabels():this.splitLabels())),this.valueLabelLeft&&this.minLabel&&(this.isLeftValueLabelCloseToMinLabel()?this.minLabel.setOpacity(0):this.minLabel.setOpacity(1),this.isRange()||(this.isLeftValueLabelCloseToMaxLabel()?this.maxLabel.setOpacity(0):this.maxLabel.setOpacity(1)))}setRightValue(e,t){var i,a,s,n;this.vertical||(null===(i=this.thumbRight)||void 0===i||i.setIndent("left",t),this.range.setIndent("right",100-t),null===(a=this.valueLabelRight)||void 0===a||a.setIndent("left",this.thumbRight.getLeftIndent())),this.vertical&&(null===(s=this.thumbRight)||void 0===s||s.setIndent("top",100-t),this.range.setIndent("top",100-t),null===(n=this.valueLabelRight)||void 0===n||n.setIndent("top",this.thumbRight.getTopIndent())),this.valueLabelRight&&(this.valueLabelRight.setValue(e),this.valueLabelCommon.setValue(`${this.valueLabelLeft.getValue()} - ${e}`),this.isTwoValueLabelsClose()?this.mergeLabels():this.splitLabels()),this.valueLabelRight&&this.maxLabel&&(this.isRightValueLabelCloseToMaxLabel()?this.maxLabel.setOpacity(0):this.maxLabel.setOpacity(1))}updateInput(e,t=null){this.input.setValue(e,t)}handleLeftInput(e,t,i=0,a=0){if(!this.vertical){const t=this.track.getBoundingClientRect().left;let a=e-i-t;if(a<0&&(a=0),!this.isRange()){const e=this.getTrackWidth();a>e&&(a=e)}if(this.isRange()){const e=this.thumbRight.getBoundingClientRect().left+this.thumbRight.getWidth()/2-t;a>e&&(a=e)}this.notify("viewInputLeft",a)}if(this.vertical){const e=this.track.getBoundingClientRect().top;let i=t-a-e;const s=this.getTrackHeight();if(i>s&&(i=s),!this.isRange()&&i<0&&(i=0),this.isRange()){const t=this.thumbRight.getBoundingClientRect().top+this.thumbRight.getHeight()/2-e;i<t&&(i=t)}const n=s-i;this.notify("viewInputLeft",n)}}handleRightInput(e,t,i=0,a=0){if(!this.vertical){const t=this.track.getBoundingClientRect().left;let a=e-i-t;const s=this.thumbLeft.getBoundingClientRect().left+this.thumbLeft.getWidth()/2-t;a<s&&(a=s);const n=this.getTrackWidth();a>n&&(a=n),this.notify("viewInputRight",a)}if(this.vertical){const e=this.track.getBoundingClientRect().top;let i=t-a-e;i<0&&(i=0);const s=this.thumbLeft.getBoundingClientRect().top+this.thumbLeft.getHeight()/2-e;i>s&&(i=s);const n=this.getTrackHeight()-i;this.notify("viewInputRight",n)}}addScale(e,t){this.scale=new o(e,t,this),this.slider.after(this.scale.getComponent()),this.vertical||this.scale.fitHeightForHorizontal(),this.vertical&&this.scale.fitWidthForVertical()}removeScale(){var e;null===(e=this.scale)||void 0===e||e.getComponent().remove(),this.scale=void 0}getScale(){return this.scale}getScaleIntervals(){return this.scaleIntervals||0}handleScaleOrTrackClick(e,t){this.isRange()||(this.addSmoothTransition("left"),this.vertical?this.notify("viewInputLeft",this.getTrackHeight()-t):this.notify("viewInputLeft",e),setTimeout((()=>{this.removeSmoothTransition("left")}),1e3)),this.isRange()&&("left"===this.whichThumbIsNearer(e,t)?(this.addSmoothTransition("left"),this.vertical?this.notify("viewInputLeft",this.getTrackHeight()-t):this.notify("viewInputLeft",e),setTimeout((()=>{this.removeSmoothTransition("left")}),1e3)):(this.addSmoothTransition("right"),this.vertical?this.notify("viewInputRight",this.getTrackHeight()-t):this.notify("viewInputRight",e),setTimeout((()=>{this.removeSmoothTransition("right")}),1e3)))}fixLabelsContainerWidthForVertical(){var e;const t=this.collectLabels();null===(e=this.labelsContainer)||void 0===e||e.fixWidthForVertical(t)}fixLabelsContainerHeightForHorizontal(){var e;const t=this.collectLabels();null===(e=this.labelsContainer)||void 0===e||e.fixHeightForHorizontal(t)}setPanelValues(e){var t;null===(t=this.panel)||void 0===t||t.setValues(e)}updatePanelFrom(e){var t;null===(t=this.panel)||void 0===t||t.updateFrom(e)}updatePanelTo(e){var t;null===(t=this.panel)||void 0===t||t.updateTo(e)}updatePanelScaleIntervals(e){var t;null===(t=this.panel)||void 0===t||t.updateScaleIntervals(e)}updatePanelStep(e){var t;null===(t=this.panel)||void 0===t||t.updateStep(e)}updatePanelMin(e){var t;null===(t=this.panel)||void 0===t||t.updateMin(e)}updatePanelMax(e){var t;null===(t=this.panel)||void 0===t||t.updateMax(e)}changeLeftValueFromOutside(e){this.notify("viewSetLeftFromOutside",e)}changeRightValueFromOutside(e){this.notify("viewSetRightFromOutside",e)}changeMinFromOutside(e){this.notify("viewSetMin",e)}changeMaxFromOutside(e){this.notify("viewSetMax",e)}changeStepFromOutside(e){this.notify("viewSetStep",e)}changeOrientationFromOutside(){var e,t,i,a,s,n,l,h,r,o;if(!this.vertical)return this.vertical=!0,this.destroy(),this.render(),this.thumbLeft.setIndent("left",0),null===(e=this.thumbRight)||void 0===e||e.setIndent("left",0),this.range.setIndent("left",0),this.range.setIndent("right",0),this.range.resetTopIndent(),this.range.resetWidth(),null===(t=this.valueLabelLeft)||void 0===t||t.setIndent("left","unset"),null===(i=this.valueLabelRight)||void 0===i||i.setIndent("left","unset"),null===(a=this.valueLabelCommon)||void 0===a||a.setIndent("left","unset"),null===(s=this.scale)||void 0===s||s.handleSwitchFromHorizontalToVertical(),void this.notify("viewToggleOrientation");this.vertical&&(this.vertical=!1,this.component.classList.remove("range-slider_vertical"),this.destroy(),this.render(),this.thumbLeft.setIndent("top",0),null===(n=this.thumbRight)||void 0===n||n.setIndent("top",0),this.range.setIndent("bottom",0),this.range.setIndent("top",0),this.range.resetHeight(),null===(l=this.valueLabelLeft)||void 0===l||l.setIndent("top","unset"),null===(h=this.valueLabelRight)||void 0===h||h.setIndent("top","unset"),null===(r=this.valueLabelCommon)||void 0===r||r.setIndent("top","unset"),null===(o=this.scale)||void 0===o||o.handleSwitchFromVerticalToHorizontal(),this.notify("viewToggleOrientation"))}toggleRangeFromOutside(){const e=!this.isRange();e&&(this.destroy(),this.thumbRight=new r(this,"right"),this.valueLabelLeft&&(this.valueLabelRight=new d("range-slider__value-label range-slider__value-label_right"),this.valueLabelCommon=new d("range-slider__value-label range-slider__value-label_common")),this.vertical||this.range.resetWidth(),this.vertical&&this.range.resetHeight(),this.render()),e||(this.vertical&&this.range.resetTopIndent(),this.destroy(),this.thumbRight=void 0,this.render()),this.notify("viewToggleRange")}toggleScaleFromOutside(){this.notify("viewToggleScale")}changeScaleIntervals(e){e<=0||(this.scaleIntervals=Math.floor(e),this.removeScale(),this.notify("viewSetScaleIntervals"))}toggleValueLabels(){var e,t,i;if(this.valueLabelLeft)return this.valueLabelLeft.remove(),null===(e=this.valueLabelRight)||void 0===e||e.remove(),null===(t=this.valueLabelCommon)||void 0===t||t.remove(),this.valueLabelLeft=void 0,this.valueLabelRight=void 0,this.valueLabelCommon=void 0,this.minLabel&&(this.vertical||this.fixLabelsContainerHeightForHorizontal(),this.vertical&&this.fixLabelsContainerWidthForVertical()),void(this.minLabel||(null===(i=this.labelsContainer)||void 0===i||i.remove(),this.labelsContainer=void 0));this.valueLabelLeft||(this.valueLabelLeft=new d("range-slider__value-label range-slider__value-label_left"),this.labelsContainer||(this.labelsContainer=new u,this.slider.before(this.labelsContainer.getComponent())),this.labelsContainer.append(this.valueLabelLeft.getComponent()),this.isRange()&&(this.valueLabelRight=new d("range-slider__value-label range-slider__value-label_right"),this.valueLabelCommon=new d("range-slider__value-label range-slider__value-label_common"),this.labelsContainer.append(this.valueLabelRight.getComponent(),this.valueLabelCommon.getComponent())),this.notify("viewAddValueLabels"),this.vertical||this.fixLabelsContainerHeightForHorizontal(),this.vertical&&this.fixLabelsContainerWidthForVertical())}toggleMinMaxLabels(){var e,t;if(this.minLabel)return this.minLabel.remove(),null===(e=this.maxLabel)||void 0===e||e.remove(),this.minLabel=void 0,this.maxLabel=void 0,this.valueLabelLeft&&(this.vertical||this.fixLabelsContainerHeightForHorizontal(),this.vertical&&this.fixLabelsContainerWidthForVertical()),void(this.valueLabelLeft||(null===(t=this.labelsContainer)||void 0===t||t.remove(),this.labelsContainer=void 0));this.minLabel||(this.minLabel=new d("range-slider__min-max-label range-slider__min-max-label_left"),this.maxLabel=new d("range-slider__min-max-label range-slider__min-max-label_right"),this.labelsContainer||(this.labelsContainer=new u,this.slider.before(this.labelsContainer.getComponent())),this.labelsContainer.append(this.minLabel.getComponent(),this.maxLabel.getComponent()),this.notify("viewAddMinMaxLabels"),this.vertical||this.fixLabelsContainerHeightForHorizontal(),this.vertical&&this.fixLabelsContainerWidthForVertical())}hasLabels(){return!(!this.valueLabelLeft&&!this.minLabel)}hasScale(){return!!this.scale}hasMinMaxLabels(){return!!this.maxLabel}hasValueLabels(){return!!this.valueLabelLeft}hasPanel(){return!!this.panel}isRange(){return!!this.thumbRight}isVertical(){return!!this.vertical}getTrackWidth(){return this.track.getWidth()}getTrackHeight(){return this.track.getHeight()}render(){const e=new DocumentFragment;if(this.track.append(this.range.getComponent()),this.slider.append(this.track.getComponent(),this.thumbLeft.getComponent()),e.append(this.slider,this.input.getComponent()),this.isRange()?this.slider.append(this.thumbRight.getComponent()):(this.vertical||this.range.setIndent("left",0),this.vertical&&this.range.setIndent("bottom",0)),this.minLabel&&this.maxLabel&&this.labelsContainer.append(this.minLabel.getComponent(),this.maxLabel.getComponent()),this.valueLabelLeft&&(this.labelsContainer.append(this.valueLabelLeft.getComponent()),this.isRange()&&this.labelsContainer.append(this.valueLabelRight.getComponent(),this.valueLabelCommon.getComponent())),this.labelsContainer&&this.slider.before(this.labelsContainer.getComponent()),this.vertical&&this.component.classList.add("range-slider_vertical"),this.panel){const t=s.createComponent("div","range-slider__panel");t.append(this.panel.getComponent()),e.append(t)}this.scale&&this.slider.after(this.scale.getComponent()),this.component.append(e)}destroy(){this.labelsContainer&&[...this.labelsContainer.getComponent().children].forEach((e=>{e.remove()})),[...this.slider.children].forEach((e=>{e.remove()})),[...this.component.children].forEach((e=>{e.remove()}))}mergeLabels(){var e,t,i,a,s;if(null===(e=this.valueLabelLeft)||void 0===e||e.setOpacity(0),null===(t=this.valueLabelRight)||void 0===t||t.setOpacity(0),null===(i=this.valueLabelCommon)||void 0===i||i.setOpacity(1),!this.vertical){const e=parseInt(this.thumbRight.getLeftIndent(),10)-parseInt(this.thumbLeft.getLeftIndent(),10);null===(a=this.valueLabelCommon)||void 0===a||a.setIndent("left",`${parseInt(this.valueLabelLeft.getLeftIndent(),10)+e/2}%`)}if(this.vertical){const e=parseInt(this.thumbRight.getTopIndent(),10)-parseInt(this.thumbLeft.getTopIndent(),10);null===(s=this.valueLabelCommon)||void 0===s||s.setIndent("top",parseInt(this.valueLabelRight.getTopIndent(),10)-e/2+"%")}}splitLabels(){var e,t,i;null===(e=this.valueLabelCommon)||void 0===e||e.setOpacity(0),null===(t=this.valueLabelLeft)||void 0===t||t.setOpacity(1),null===(i=this.valueLabelRight)||void 0===i||i.setOpacity(1)}isTwoLabelsClose(e,t){if(this.vertical)return e.getBoundingClientRect().top-t.getBoundingClientRect().bottom<3;const i=e.getBoundingClientRect().right;return t.getBoundingClientRect().left-i<3}isTwoValueLabelsClose(){return!(!this.valueLabelLeft||!this.valueLabelRight)&&this.isTwoLabelsClose(this.valueLabelLeft,this.valueLabelRight)}isLeftValueLabelCloseToMinLabel(){return!(!this.minLabel||!this.valueLabelLeft)&&this.isTwoLabelsClose(this.minLabel,this.valueLabelLeft)}isLeftValueLabelCloseToMaxLabel(){return!(!this.valueLabelLeft||!this.maxLabel)&&this.isTwoLabelsClose(this.valueLabelLeft,this.maxLabel)}isRightValueLabelCloseToMaxLabel(){return!(!this.valueLabelRight||!this.maxLabel)&&this.isTwoLabelsClose(this.valueLabelRight,this.maxLabel)}whichThumbIsNearer(e,t){const i=this.thumbLeft.getBoundingClientRect(),a=this.thumbRight.getBoundingClientRect(),s=this.track.getBoundingClientRect();let n=0,l=0;if(!this.vertical){const t=i.left+i.width/2-s.left,h=a.left+a.width/2-s.left;n=Math.abs(e-t),l=Math.abs(e-h)}if(this.vertical){const e=i.top+i.height/2-s.top,h=a.top+a.height/2-s.top;n=Math.abs(t-e),l=Math.abs(t-h)}return n<=l?"left":"right"}addSmoothTransition(e="left"){var t,i;"left"===e&&(this.thumbLeft.getComponent().classList.add("range-slider__thumb_smooth-transition"),this.range.getComponent().classList.add("range-slider__range_smooth-transition"),null===(t=this.valueLabelLeft)||void 0===t||t.getComponent().classList.add("range-slider__value-label_smooth-transition")),"right"===e&&(this.thumbRight.getComponent().classList.add("range-slider__thumb_smooth-transition"),this.range.getComponent().classList.add("range-slider__range_smooth-transition"),null===(i=this.valueLabelRight)||void 0===i||i.getComponent().classList.add("range-slider__value-label_smooth-transition"))}removeSmoothTransition(e="left"){var t,i;"left"===e&&(this.thumbLeft.getComponent().classList.remove("range-slider__thumb_smooth-transition"),this.range.getComponent().classList.remove("range-slider__range_smooth-transition"),null===(t=this.valueLabelLeft)||void 0===t||t.getComponent().classList.remove("range-slider__value-label_smooth-transition")),"right"===e&&(this.thumbRight.getComponent().classList.remove("range-slider__thumb_smooth-transition"),this.range.getComponent().classList.remove("range-slider__range_smooth-transition"),null===(i=this.valueLabelRight)||void 0===i||i.getComponent().classList.remove("range-slider__value-label_smooth-transition"))}collectLabels(){const e=[];return this.minLabel&&this.maxLabel&&(e.push(this.minLabel.getComponent()),e.push(this.maxLabel.getComponent())),this.valueLabelLeft&&e.push(this.valueLabelLeft.getComponent()),this.valueLabelRight&&e.push(this.valueLabelRight.getComponent()),e}};class v{constructor(e,t){this.model=e,this.view=t,this.initViewValues(),this.model.subscribe(this),this.view.subscribe(this)}inform(e,t=null){switch(e){case"viewInputLeft":"number"==typeof t&&this.handleViewInputLeft(t);break;case"viewInputRight":"number"==typeof t&&this.handleViewInputRight(t);break;case"viewSetLeftFromOutside":"number"==typeof t&&this.handleViewSetLeftFromOutside(t);break;case"viewSetRightFromOutside":"number"==typeof t&&this.handleViewSetRightFromOutside(t);break;case"viewSetMin":"number"==typeof t&&this.handleViewSetMin(t);break;case"viewSetMax":"number"==typeof t&&this.handleViewSetMax(t);break;case"viewSetStep":"number"==typeof t&&this.handleViewSetStep(t);break;case"viewToggleOrientation":this.handleViewToggleOrientation();break;case"viewToggleRange":this.handleViewToggleRange();break;case"viewToggleScale":this.handleViewToggleScale();break;case"viewSetScaleIntervals":this.handleViewSetScaleIntervals();break;case"viewAddValueLabels":this.handleViewAddValueLabels();break;case"viewAddMinMaxLabels":this.handleViewAddMinMaxLabels();break;case"modelSetLeft":this.handleModelSetLeft();break;case"modelSetRight":this.handleModelSetRight();break;case"modelSetMin":this.handleModelSetMin();break;case"modelSetMax":this.handleModelSetMax();break;case"modelToggleRange":this.handleModelToggleRange();break;case"modelSetStep":this.handleModelSetStep()}}static removeCalcInaccuracy(e){return Number(e.toFixed(10))}initViewValues(){var e;const{model:t}=this,{view:i}=this,a=t.getMin(),s=t.getMax(),n=t.getLeftValue(),l=t.getRightValue();i.setMinValue(a),i.setMaxValue(s),this.passLeftValueToView(n),i.isRange()&&void 0!==l?(this.passRightValueToView(l),i.updateInput(n,l)):i.updateInput(n),i.hasScale()&&(i.removeScale(),i.addScale(a,s)),this.view.hasLabels()&&(i.isVertical()||i.fixLabelsContainerHeightForHorizontal(),i.isVertical()&&i.fixLabelsContainerWidthForVertical()),i.hasPanel()&&i.setPanelValues({min:a,max:s,step:t.getStep(),from:n,to:null!=l?l:null,vertical:null!==(e=i.isVertical())&&void 0!==e&&e,range:i.isRange(),scale:i.hasScale(),scaleIntervals:i.getScaleIntervals(),valueLabels:i.hasValueLabels(),minMaxLabels:i.hasMinMaxLabels()})}handleViewInputLeft(e){const t=this.convertPxToValue(e);this.model.setLeftValue(t)}handleModelSetLeft(){const e=this.model.getLeftValue();this.passLeftValueToView(e),this.updateViewInput(),this.view.hasPanel()&&this.view.updatePanelFrom(e)}handleViewInputRight(e){const t=this.convertPxToValue(e);this.model.setRightValue(t)}handleModelSetRight(){const e=this.model.getRightValue();this.passRightValueToView(e),this.updateViewInput(),this.view.hasPanel()&&this.view.updatePanelTo(e)}passLeftValueToView(e){const t=this.convertValueToPercent(e);this.view.setLeftValue(e,t)}passRightValueToView(e){const t=this.convertValueToPercent(e);this.view.setRightValue(e,t)}updateViewInput(){this.view.isRange()||this.view.updateInput(this.model.getLeftValue()),this.view.isRange()&&this.view.updateInput(this.model.getLeftValue(),this.model.getRightValue())}convertValueToPercent(e){const t=this.model.getMin();let i=(e-t)/(this.model.getMax()-t)*100;return i=v.removeCalcInaccuracy(i),i}convertPxToValue(e){let t=0;this.view.isVertical()||(t=100*e/this.view.getTrackWidth()),this.view.isVertical()&&(t=100*e/this.view.getTrackHeight());const i=this.model.getMin();let a=t/100*(this.model.getMax()-i)+i;return a=this.fitToStep(a),a=v.removeCalcInaccuracy(a),a}fitToStep(e){let t=Math.round(e/this.model.getStep())*this.model.getStep();return t=v.removeCalcInaccuracy(t),t}handleViewSetLeftFromOutside(e){this.model.setLeftValue(e)}handleViewSetRightFromOutside(e){this.model.setRightValue(e)}handleViewSetMin(e){this.model.setMin(e)}handleModelSetMin(){this.view.setMinValue(this.model.getMin()),this.passLeftValueToView(this.model.getLeftValue());const e=this.model.getRightValue();void 0!==e&&this.passRightValueToView(e),this.view.hasScale()&&(this.view.removeScale(),this.view.addScale(this.model.getMin(),this.model.getMax())),this.view.hasPanel()&&this.view.updatePanelMin(this.model.getMin())}handleViewSetMax(e){this.model.setMax(e)}handleModelSetMax(){this.view.setMaxValue(this.model.getMax()),this.passLeftValueToView(this.model.getLeftValue());const e=this.model.getRightValue();void 0!==e&&this.passRightValueToView(e),this.view.hasScale()&&(this.view.removeScale(),this.view.addScale(this.model.getMin(),this.model.getMax())),this.view.hasPanel()&&this.view.updatePanelMax(this.model.getMax())}handleViewSetStep(e){this.model.setStep(e)}handleViewToggleOrientation(){if(this.passLeftValueToView(this.model.getLeftValue()),this.view.isRange()){const e=this.model.getRightValue();void 0!==e&&this.passRightValueToView(e)}this.view.hasLabels()&&(this.view.isVertical()||this.view.fixLabelsContainerHeightForHorizontal(),this.view.isVertical()&&this.view.fixLabelsContainerWidthForVertical())}handleViewToggleRange(){this.model.toggleRange()}handleModelToggleRange(){if(this.passLeftValueToView(this.model.getLeftValue()),this.model.isRange()){this.model.setRightValue();const e=this.model.getRightValue();void 0!==e&&(this.passRightValueToView(e),this.view.updateInput(this.model.getLeftValue(),e),this.view.hasPanel()&&this.view.updatePanelTo(e))}this.model.isRange()||(this.model.removeRightValue(),this.view.updateInput(this.model.getLeftValue()),this.view.hasPanel()&&this.view.updatePanelTo(""))}handleModelSetStep(){this.view.hasPanel()&&this.view.updatePanelStep(this.model.getStep())}handleViewToggleScale(){var e;if(!this.view.hasScale())return this.view.addScale(this.model.getMin(),this.model.getMax()),void(this.view.hasPanel()&&this.view.updatePanelScaleIntervals(null!==(e=this.view.getScaleIntervals())&&void 0!==e?e:4));this.view.hasScale()&&(this.view.removeScale(),this.view.hasPanel()&&this.view.updatePanelScaleIntervals(""))}handleViewSetScaleIntervals(){this.view.addScale(this.model.getMin(),this.model.getMax())}handleViewAddValueLabels(){if(this.passLeftValueToView(this.model.getLeftValue()),this.view.isRange()){const e=this.model.getRightValue();void 0!==e&&this.passRightValueToView(e)}}handleViewAddMinMaxLabels(){this.view.setMinValue(this.model.getMin()),this.view.setMaxValue(this.model.getMax())}}const p=v;class b{constructor(e,t){this.element=e,this.model=new class{constructor(e){this.eventManager=new a,this.min=e.min,this.max=e.max,this.leftValue=e.leftValue,this.step=e.step,e.range?(this.rightValue=e.rightValue,this.range=!0):this.range=!1}subscribe(e){this.eventManager.subscribe(e)}setLeftValue(e){e<this.min?this.leftValue=this.min:(this.isRange()||(this.leftValue=Math.min(e,this.max)),this.isRange()&&void 0!==this.rightValue&&(this.leftValue=Math.min(e,this.rightValue))),this.eventManager.notify("modelSetLeft")}setRightValue(e=this.max){this.isRange()&&(e>this.max?this.rightValue=this.max:this.rightValue=Math.max(e,this.leftValue),this.eventManager.notify("modelSetRight"))}removeRightValue(){this.rightValue=void 0}setMin(e){e>this.leftValue||(this.min=e,this.eventManager.notify("modelSetMin"))}setMax(e){!this.isRange()&&e<this.leftValue||this.isRange()&&void 0!==this.rightValue&&e<this.rightValue||(this.max=e,this.eventManager.notify("modelSetMax"))}setStep(e){e<=0||e>Math.abs(this.max-this.min)||(this.step=e,this.eventManager.notify("modelSetStep"))}toggleRange(){this.range=!this.range,this.eventManager.notify("modelToggleRange")}getMin(){return this.min}getMax(){return this.max}getLeftValue(){return this.leftValue}getRightValue(){return this.rightValue}getStep(){return this.step}isRange(){return this.range}}({min:t.min,max:t.max,leftValue:t.leftValue,rightValue:t.rightValue,range:t.range,step:t.step}),this.view=new g(e,{minMaxLabels:t.minMaxLabels,valueLabels:t.valueLabels,vertical:t.vertical,range:t.range,scale:t.scale,scaleIntervals:t.scaleIntervals,panel:t.panel}),this.presenter=new p(this.model,this.view),this.model.subscribe(this)}inform(e){switch(e){case"modelLeftSet":case"modelRightSet":this.onChange&&this.onChange(this.model.getLeftValue(),this.model.getRightValue())}}setLeftValue(e){return this.view.changeLeftValueFromOutside(e),this}setRightValue(e){return this.view.changeRightValueFromOutside(e),this}setStep(e){return this.view.changeStepFromOutside(e),this}}!function(e){const t=e,i={min:0,max:100,range:!0,leftValue:25,rightValue:75,step:1,minMaxLabels:!0,valueLabels:!0,vertical:!1,scale:!1,scaleIntervals:5,panel:!1};t.fn.rangeSlider=function(e={}){return this.each((function(){const a={min:t(this).data("min"),max:t(this).data("max"),range:t(this).data("range"),leftValue:t(this).data("leftValue"),rightValue:t(this).data("rightValue"),step:t(this).data("step"),minMaxLabels:t(this).data("minMaxLabels"),valueLabels:t(this).data("valueLabels"),vertical:t(this).data("vertical"),scale:t(this).data("scale"),scaleIntervals:t(this).data("scaleIntervals"),panel:t(this).data("panel")};let s=t.extend({},i,e,a);s=function(e){let a=t.extend({},e);return function(){function t(t){typeof e[t]!=typeof i[t]&&delete a[t]}t("min"),t("max"),t("leftValue"),t("rightValue"),t("range"),t("step"),t("minMaxLabels"),t("valueLabels"),t("vertical"),t("scale"),t("scaleIntervals"),t("panel")}(),a=t.extend({},i,a),a.min>a.max&&([a.min,a.max]=[a.max,a.min]),a.leftValue<a.min&&(a.leftValue=a.min),a.rightValue>a.max&&(a.rightValue=a.max),a.leftValue>a.max&&(a.leftValue=a.max),a.leftValue>a.rightValue&&([a.leftValue,a.rightValue]=[a.rightValue,a.leftValue]),a.step>Math.abs(a.max-a.min)&&(a.step=Math.abs(a.max-a.min)),a.scaleIntervals<1&&(a.scaleIntervals=1),Number.isInteger(a.scaleIntervals)&&(a.scaleIntervals=Math.floor(a.scaleIntervals)),a}(s),this instanceof HTMLDivElement&&t(this).data("rangeSlider",new b(this,s))}))}}(i(65638))},96553:()=>{}},e=>{e.O(0,[216],(()=>(71376,e(e.s=71376)))),e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UXJENEwsRUFJRUksQ0FBU04sR0FFaEI3VCxnQkFBZ0JvVSxnQkFDbEJiLEVBQUV2VCxNQUFNTyxLQUFLLGNBQWUsSUFBSTRTLEVBQU9uVCxLQUFNNlQsUUFoSHJELEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9FdmVudE1hbmFnZXIvRXZlbnRNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL01vZGVsL01vZGVsLnRzIiwid2VicGFjazovLy8uL1ZpZXcvQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vVmlldy9zdWJ2aWV3cy9UcmFjay9UcmFjay50cyIsIndlYnBhY2s6Ly8vLi9WaWV3L3N1YnZpZXdzL1JhbmdlL1JhbmdlLnRzIiwid2VicGFjazovLy8uL1ZpZXcvc3Vidmlld3MvVGh1bWIvVGh1bWIudHMiLCJ3ZWJwYWNrOi8vLy4vVmlldy9zdWJ2aWV3cy9TY2FsZS9TY2FsZS50cyIsIndlYnBhY2s6Ly8vLi9WaWV3L3N1YnZpZXdzL0xhYmVsc0NvbnRhaW5lci9MYWJlbHNDb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vLy4vVmlldy9zdWJ2aWV3cy9MYWJlbC9MYWJlbC50cyIsIndlYnBhY2s6Ly8vLi9WaWV3L3N1YnZpZXdzL0lucHV0L0lucHV0LnRzIiwid2VicGFjazovLy8uL1ZpZXcvc3Vidmlld3MvUGFuZWwvUGFuZWwudHMiLCJ3ZWJwYWNrOi8vLy4vVmlldy9WaWV3LnRzIiwid2VicGFjazovLy8uL1ByZXNlbnRlci9QcmVzZW50ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vU2xpZGVyLnRzIiwid2VicGFjazovLy8uL1dyYXBwZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgRXZlbnRNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnM6IElFdmVudExpc3RlbmVyW10gPSBbXTtcblxuICBzdWJzY3JpYmUobGlzdGVuZXI6IElFdmVudExpc3RlbmVyKTogdm9pZCB7XG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gIH1cblxuICB1bnN1YnNjcmliZShsaXN0ZW5lcjogSUV2ZW50TGlzdGVuZXIpOiB2b2lkIHtcbiAgICB0aGlzLmxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmZpbHRlcigoaXRlbSkgPT4gaXRlbSAhPT0gbGlzdGVuZXIpO1xuICB9XG5cbiAgbm90aWZ5KGV2ZW50VHlwZTogc3RyaW5nLCBkYXRhOiBudW1iZXIgfCBudWxsID0gbnVsbCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmxpc3RlbmVycy5sZW5ndGggPT09IDApIHsgcmV0dXJuOyB9XG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5pbmZvcm0oZXZlbnRUeXBlLCBkYXRhKSk7XG4gIH1cbn1cblxuaW50ZXJmYWNlIElFdmVudExpc3RlbmVyIHtcbiAgaW5mb3JtKGV2ZW50VHlwZTogc3RyaW5nLCBkYXRhOiBudW1iZXIgfCBudWxsKTogdm9pZDtcbn1cblxuZXhwb3J0IHsgRXZlbnRNYW5hZ2VyLCBJRXZlbnRMaXN0ZW5lciB9O1xuIiwiaW1wb3J0IHsgRXZlbnRNYW5hZ2VyLCBJRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4uL0V2ZW50TWFuYWdlci9FdmVudE1hbmFnZXInO1xuXG50eXBlIE1vZGVsT3B0aW9ucyA9IHtcbiAgbWluOiBudW1iZXI7XG4gIG1heDogbnVtYmVyO1xuICBsZWZ0VmFsdWU6IG51bWJlcjtcbiAgcmlnaHRWYWx1ZT86IG51bWJlcjtcbiAgc3RlcDogbnVtYmVyO1xuICByYW5nZT86IGJvb2xlYW47XG59O1xuXG5jbGFzcyBNb2RlbCB7XG4gIHByaXZhdGUgZXZlbnRNYW5hZ2VyOiBFdmVudE1hbmFnZXI7XG5cbiAgcHJpdmF0ZSBtaW46IG51bWJlcjtcblxuICBwcml2YXRlIG1heDogbnVtYmVyO1xuXG4gIHByaXZhdGUgbGVmdFZhbHVlOiBudW1iZXI7XG5cbiAgcHJpdmF0ZSByaWdodFZhbHVlPzogbnVtYmVyO1xuXG4gIHByaXZhdGUgc3RlcDogbnVtYmVyO1xuXG4gIHByaXZhdGUgcmFuZ2U6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogTW9kZWxPcHRpb25zKSB7XG4gICAgdGhpcy5ldmVudE1hbmFnZXIgPSBuZXcgRXZlbnRNYW5hZ2VyKCk7XG5cbiAgICB0aGlzLm1pbiA9IG9wdGlvbnMubWluO1xuICAgIHRoaXMubWF4ID0gb3B0aW9ucy5tYXg7XG4gICAgdGhpcy5sZWZ0VmFsdWUgPSBvcHRpb25zLmxlZnRWYWx1ZTtcbiAgICB0aGlzLnN0ZXAgPSBvcHRpb25zLnN0ZXA7XG5cbiAgICBpZiAob3B0aW9ucy5yYW5nZSkge1xuICAgICAgdGhpcy5yaWdodFZhbHVlID0gb3B0aW9ucy5yaWdodFZhbHVlO1xuICAgICAgdGhpcy5yYW5nZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmFuZ2UgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzdWJzY3JpYmUobGlzdGVuZXI6IElFdmVudExpc3RlbmVyKTogdm9pZCB7XG4gICAgdGhpcy5ldmVudE1hbmFnZXIuc3Vic2NyaWJlKGxpc3RlbmVyKTtcbiAgfVxuXG4gIHNldExlZnRWYWx1ZSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHZhbHVlIDwgdGhpcy5taW4pIHtcbiAgICAgIHRoaXMubGVmdFZhbHVlID0gdGhpcy5taW47XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgICAgdGhpcy5sZWZ0VmFsdWUgPSBNYXRoLm1pbih2YWx1ZSwgdGhpcy5tYXgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pc1JhbmdlKCkgJiYgdGhpcy5yaWdodFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5sZWZ0VmFsdWUgPSBNYXRoLm1pbih2YWx1ZSwgdGhpcy5yaWdodFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmV2ZW50TWFuYWdlci5ub3RpZnkoJ21vZGVsU2V0TGVmdCcpO1xuICB9XG5cbiAgc2V0UmlnaHRWYWx1ZSh2YWx1ZTogbnVtYmVyID0gdGhpcy5tYXgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNSYW5nZSgpKSByZXR1cm47XG5cbiAgICBpZiAodmFsdWUgPiB0aGlzLm1heCkge1xuICAgICAgdGhpcy5yaWdodFZhbHVlID0gdGhpcy5tYXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmlnaHRWYWx1ZSA9IE1hdGgubWF4KHZhbHVlLCB0aGlzLmxlZnRWYWx1ZSk7XG4gICAgfVxuXG4gICAgdGhpcy5ldmVudE1hbmFnZXIubm90aWZ5KCdtb2RlbFNldFJpZ2h0Jyk7XG4gIH1cblxuICByZW1vdmVSaWdodFZhbHVlKCk6IHZvaWQge1xuICAgIHRoaXMucmlnaHRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHNldE1pbih2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHZhbHVlID4gdGhpcy5sZWZ0VmFsdWUpIHJldHVybjtcbiAgICB0aGlzLm1pbiA9IHZhbHVlO1xuXG4gICAgdGhpcy5ldmVudE1hbmFnZXIubm90aWZ5KCdtb2RlbFNldE1pbicpO1xuICB9XG5cbiAgc2V0TWF4KHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICBpZiAodmFsdWUgPCB0aGlzLmxlZnRWYWx1ZSkgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzUmFuZ2UoKSAmJiB0aGlzLnJpZ2h0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHZhbHVlIDwgdGhpcy5yaWdodFZhbHVlKSByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5tYXggPSB2YWx1ZTtcblxuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgnbW9kZWxTZXRNYXgnKTtcbiAgfVxuXG4gIHNldFN0ZXAodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh2YWx1ZSA8PSAwKSByZXR1cm47XG4gICAgaWYgKHZhbHVlID4gTWF0aC5hYnModGhpcy5tYXggLSB0aGlzLm1pbikpIHJldHVybjtcblxuICAgIHRoaXMuc3RlcCA9IHZhbHVlO1xuXG4gICAgdGhpcy5ldmVudE1hbmFnZXIubm90aWZ5KCdtb2RlbFNldFN0ZXAnKTtcbiAgfVxuXG4gIHRvZ2dsZVJhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMucmFuZ2UgPSAhdGhpcy5yYW5nZTtcblxuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgnbW9kZWxUb2dnbGVSYW5nZScpO1xuICB9XG5cbiAgZ2V0TWluKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubWluO1xuICB9XG5cbiAgZ2V0TWF4KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubWF4O1xuICB9XG5cbiAgZ2V0TGVmdFZhbHVlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubGVmdFZhbHVlO1xuICB9XG5cbiAgZ2V0UmlnaHRWYWx1ZSgpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLnJpZ2h0VmFsdWU7XG4gIH1cblxuICBnZXRTdGVwKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuc3RlcDtcbiAgfVxuXG4gIGlzUmFuZ2UoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucmFuZ2U7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9kZWw7XG4iLCJjbGFzcyBCYXNlRWxlbWVudDxUIGV4dGVuZHMga2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwPiB7XG4gIHByb3RlY3RlZCBjb21wb25lbnQ6IEhUTUxFbGVtZW50VGFnTmFtZU1hcFtUXTtcblxuICBjb25zdHJ1Y3Rvcih0YWc6IFQsIGNsYXNzTmFtZT86IHN0cmluZykge1xuICAgIHRoaXMuY29tcG9uZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuXG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgdGhpcy5jb21wb25lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBzdGF0aWMgY3JlYXRlQ29tcG9uZW50PEsgZXh0ZW5kcyBrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXA+KFxuICAgIHRhZzogSywgY2xhc3NOYW1lPzogc3RyaW5nLFxuICApOiBIVE1MRWxlbWVudFRhZ05hbWVNYXBbS10ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG5cbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIGdldENvbXBvbmVudCgpOiBIVE1MRWxlbWVudFRhZ05hbWVNYXBbVF0ge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudDtcbiAgfVxuXG4gIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOiBET01SZWN0IHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIH1cblxuICBnZXRXaWR0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vZmZzZXRXaWR0aDtcbiAgfVxuXG4gIGdldEhlaWdodCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vZmZzZXRIZWlnaHQ7XG4gIH1cblxuICBzZXRJbmRlbnQoc2lkZTogJ3RvcCcgfCAncmlnaHQnIHwgJ2JvdHRvbScgfCAnbGVmdCcsIGluZGVudDogbnVtYmVyIHwgc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiBpbmRlbnQgPT09ICdudW1iZXInKSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC5zdHlsZVtzaWRlXSA9IGAke2luZGVudH0lYDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGluZGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LnN0eWxlW3NpZGVdID0gaW5kZW50O1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZSgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5yZW1vdmUoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCYXNlRWxlbWVudDtcbiIsImltcG9ydCBCYXNlRWxlbWVudCBmcm9tICcuLi8uLi9CYXNlRWxlbWVudC9CYXNlRWxlbWVudCc7XG5cbnR5cGUgVmlld0ZvclRyYWNrID0ge1xuICBoYW5kbGVTY2FsZU9yVHJhY2tDbGljayh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQsXG59O1xuXG5jbGFzcyBUcmFjayBleHRlbmRzIEJhc2VFbGVtZW50PCdkaXYnPiB7XG4gIHByaXZhdGUgdmlldzogVmlld0ZvclRyYWNrO1xuXG4gIGNvbnN0cnVjdG9yKHZpZXc6IFZpZXdGb3JUcmFjaykge1xuICAgIHN1cGVyKCdkaXYnLCAncmFuZ2Utc2xpZGVyX190cmFjaycpO1xuXG4gICAgdGhpcy52aWV3ID0gdmlldztcblxuICAgIHRoaXMuYXR0YWNoRXZlbnRIYW5kbGVycygpO1xuICB9XG5cbiAgYXBwZW5kKC4uLmVsZW1lbnRzOiBIVE1MRWxlbWVudFtdKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuYXBwZW5kKC4uLmVsZW1lbnRzKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICBjb25zdCB4OiBudW1iZXIgPSBldmVudC5jbGllbnRYIC0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICAgICAgY29uc3QgeTogbnVtYmVyID0gZXZlbnQuY2xpZW50WSAtIGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuXG4gICAgICB0aGlzLnZpZXcuaGFuZGxlU2NhbGVPclRyYWNrQ2xpY2soeCwgeSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhdHRhY2hFdmVudEhhbmRsZXJzKCk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmFjaztcbiIsImltcG9ydCBCYXNlRWxlbWVudCBmcm9tICcuLi8uLi9CYXNlRWxlbWVudC9CYXNlRWxlbWVudCc7XG5cbmNsYXNzIFJhbmdlIGV4dGVuZHMgQmFzZUVsZW1lbnQ8J2Rpdic+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ2RpdicsICdyYW5nZS1zbGlkZXJfX3JhbmdlJyk7XG4gIH1cblxuICBzZXRXaWR0aChwZXJjZW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS53aWR0aCA9IGAke3BlcmNlbnR9JWA7XG4gIH1cblxuICBzZXRIZWlnaHQocGVyY2VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7cGVyY2VudH0lYDtcbiAgfVxuXG4gIHJlc2V0V2lkdGgoKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUud2lkdGggPSAndW5zZXQnO1xuICB9XG5cbiAgcmVzZXRIZWlnaHQoKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUuaGVpZ2h0ID0gJ3Vuc2V0JztcbiAgfVxuXG4gIHJlc2V0VG9wSW5kZW50KCk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLnRvcCA9ICd1bnNldCc7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFuZ2U7XG4iLCJpbXBvcnQgQmFzZUVsZW1lbnQgZnJvbSAnLi4vLi4vQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQnO1xuXG50eXBlIFZpZXdGb3JUaHVtYiA9IHtcbiAgaGFuZGxlTGVmdElucHV0KGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyLCBzaGlmdFg6IG51bWJlciwgc2hpZnRZOiBudW1iZXIpOiB2b2lkLFxuICBoYW5kbGVSaWdodElucHV0KGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyLCBzaGlmdFg6IG51bWJlciwgc2hpZnRZOiBudW1iZXIpOiB2b2lkLFxufTtcblxuY2xhc3MgVGh1bWIgZXh0ZW5kcyBCYXNlRWxlbWVudDwnZGl2Jz4ge1xuICBwcml2YXRlIHR5cGU6ICdsZWZ0JyB8ICdyaWdodCc7XG5cbiAgcHJpdmF0ZSB2aWV3OiBWaWV3Rm9yVGh1bWI7XG5cbiAgY29uc3RydWN0b3IodmlldzogVmlld0ZvclRodW1iLCB0eXBlOiAnbGVmdCcgfCAncmlnaHQnID0gJ2xlZnQnKSB7XG4gICAgc3VwZXIoJ2RpdicsIGByYW5nZS1zbGlkZXJfX3RodW1iIHJhbmdlLXNsaWRlcl9fdGh1bWJfJHt0eXBlfWApO1xuXG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLnZpZXcgPSB2aWV3O1xuXG4gICAgdGhpcy5hdHRhY2hFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBnZXRMZWZ0SW5kZW50KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LnN0eWxlLmxlZnQ7XG4gIH1cblxuICBnZXRUb3BJbmRlbnQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnQuc3R5bGUudG9wO1xuICB9XG5cbiAgc2V0WkluZGV4KHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS56SW5kZXggPSBgJHt2YWx1ZX1gO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgaGFuZGxlUG9pbnRlck92ZXIoZXZlbnQ6IFBvaW50ZXJFdmVudCk6IHZvaWQge1xuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZCgncmFuZ2Utc2xpZGVyX190aHVtYl9ob3ZlcicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGhhbmRsZVBvaW50ZXJPdXQoZXZlbnQ6IFBvaW50ZXJFdmVudCk6IHZvaWQge1xuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2Utc2xpZGVyX190aHVtYl9ob3ZlcicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGhhbmRsZVBvaW50ZXJVcChldmVudDogUG9pbnRlckV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdyYW5nZS1zbGlkZXJfX3RodW1iX2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGhhbmRsZURyYWdTdGFydCgpOiBmYWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVQb2ludGVyRG93bihldmVudDogUG9pbnRlckV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKCdyYW5nZS1zbGlkZXJfX3RodW1iX2FjdGl2ZScpO1xuXG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LnNldFBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XG5cbiAgICAgIC8vIHByZXZlbnQgc2VsZWN0aW9uIChicm93c2VyIGFjdGlvbilcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGNvbnN0IHNoaWZ0WDogbnVtYmVyID0gZXZlbnQuY2xpZW50WCAtIGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgIGNvbnN0IHNoaWZ0WTogbnVtYmVyID0gZXZlbnQuY2xpZW50WSAtIGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuXG4gICAgICBjb25zdCBoYW5kbGVQb2ludGVyTW92ZSA9IChuZXdFdmVudDogUG9pbnRlckV2ZW50KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdsZWZ0Jykge1xuICAgICAgICAgIHRoaXMudmlldy5oYW5kbGVMZWZ0SW5wdXQobmV3RXZlbnQuY2xpZW50WCwgbmV3RXZlbnQuY2xpZW50WSwgc2hpZnRYLCBzaGlmdFkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIHRoaXMudmlldy5oYW5kbGVSaWdodElucHV0KG5ld0V2ZW50LmNsaWVudFgsIG5ld0V2ZW50LmNsaWVudFksIHNoaWZ0WCwgc2hpZnRZKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgaGFuZGxlUG9pbnRlclVwID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGhhbmRsZVBvaW50ZXJNb3ZlKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgaGFuZGxlUG9pbnRlclVwKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgaGFuZGxlUG9pbnRlck1vdmUpO1xuICAgICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgaGFuZGxlUG9pbnRlclVwKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGF0dGFjaEV2ZW50SGFuZGxlcnMoKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCBUaHVtYi5oYW5kbGVQb2ludGVyT3Zlcik7XG4gICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm91dCcsIFRodW1iLmhhbmRsZVBvaW50ZXJPdXQpO1xuICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5oYW5kbGVQb2ludGVyRG93bi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBUaHVtYi5oYW5kbGVQb2ludGVyVXApO1xuICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIFRodW1iLmhhbmRsZURyYWdTdGFydCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGh1bWI7XG4iLCJpbXBvcnQgQmFzZUVsZW1lbnQgZnJvbSAnLi4vLi4vQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQnO1xuXG50eXBlIFZpZXdGb3JTY2FsZSA9IHtcbiAgZ2V0U2NhbGVJbnRlcnZhbHMoKTogbnVtYmVyLFxuICBoYW5kbGVTY2FsZU9yVHJhY2tDbGljayh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQsXG59O1xuXG5jbGFzcyBTY2FsZSBleHRlbmRzIEJhc2VFbGVtZW50PCdkaXYnPiB7XG4gIHByaXZhdGUgdmlldzogVmlld0ZvclNjYWxlO1xuXG4gIHByaXZhdGUgaW50ZXJ2YWxzOiBIVE1MRGl2RWxlbWVudFtdO1xuXG4gIHByaXZhdGUgdmFsdWVzOiBudW1iZXJbXTtcblxuICBwcml2YXRlIHZhbHVlRWxlbWVudHM6IEhUTUxTcGFuRWxlbWVudFtdO1xuXG4gIGNvbnN0cnVjdG9yKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgdmlldzogVmlld0ZvclNjYWxlKSB7XG4gICAgc3VwZXIoJ2RpdicsICdyYW5nZS1zbGlkZXJfX3NjYWxlJyk7XG5cbiAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgIHRoaXMuaW50ZXJ2YWxzID0gW107XG4gICAgdGhpcy52YWx1ZXMgPSBbXTtcbiAgICB0aGlzLnZhbHVlRWxlbWVudHMgPSBbXTtcblxuICAgIGNvbnN0IGludGVydmFsc051bWJlciA9IHZpZXcuZ2V0U2NhbGVJbnRlcnZhbHMoKTtcblxuICAgIHRoaXMuY3JlYXRlSW50ZXJ2YWxzKGludGVydmFsc051bWJlcik7XG4gICAgdGhpcy5hZGRNYXJrc0luSW50ZXJ2YWxzKGludGVydmFsc051bWJlcik7XG4gICAgdGhpcy5hZGRWYWx1ZXMobWluLCBtYXgsIGludGVydmFsc051bWJlcik7XG4gICAgdGhpcy5hdHRhY2hFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBmaXRXaWR0aEZvclZlcnRpY2FsKCk6IHZvaWQge1xuICAgIGxldCBtYXhXaWR0aCA9IDA7XG5cbiAgICB0aGlzLnZhbHVlRWxlbWVudHMuZm9yRWFjaCgodmFsdWVFbGVtZW50KSA9PiB7XG4gICAgICBpZiAodmFsdWVFbGVtZW50Lm9mZnNldFdpZHRoID4gbWF4V2lkdGgpIHtcbiAgICAgICAgbWF4V2lkdGggPSB2YWx1ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSBgJHttYXhXaWR0aCArIDN9cHhgO1xuICB9XG5cbiAgZml0SGVpZ2h0Rm9ySG9yaXpvbnRhbCgpOiB2b2lkIHtcbiAgICBsZXQgbWF4SGVpZ2h0ID0gMDtcblxuICAgIHRoaXMudmFsdWVFbGVtZW50cy5mb3JFYWNoKCh2YWx1ZUVsZW1lbnQpID0+IHtcbiAgICAgIGlmICh2YWx1ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0ID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgIG1heEhlaWdodCA9IHZhbHVlRWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5wYWRkaW5nQm90dG9tID0gYCR7bWF4SGVpZ2h0ICsgM31weGA7XG4gIH1cblxuICBoYW5kbGVTd2l0Y2hGcm9tSG9yaXpvbnRhbFRvVmVydGljYWwoKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUucGFkZGluZ0JvdHRvbSA9ICd1bnNldCc7XG4gICAgdGhpcy5maXRXaWR0aEZvclZlcnRpY2FsKCk7XG4gIH1cblxuICBoYW5kbGVTd2l0Y2hGcm9tVmVydGljYWxUb0hvcml6b250YWwoKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gJ3Vuc2V0JztcbiAgICB0aGlzLmZpdEhlaWdodEZvckhvcml6b250YWwoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlSW50ZXJ2YWxzKGludGVydmFsc051bWJlcjogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgZnJhZ21lbnQgPSBuZXcgRG9jdW1lbnRGcmFnbWVudCgpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnRlcnZhbHNOdW1iZXI7IGkgKz0gMSkge1xuICAgICAgdGhpcy5pbnRlcnZhbHNbaV0gPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2RpdicsICdyYW5nZS1zbGlkZXJfX3NjYWxlLWludGVydmFsJyk7XG4gICAgICBmcmFnbWVudC5hcHBlbmQodGhpcy5pbnRlcnZhbHNbaV0pO1xuICAgIH1cblxuICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZChmcmFnbWVudCk7XG4gIH1cblxuICBwcml2YXRlIGFkZE1hcmtzSW5JbnRlcnZhbHMoaW50ZXJ2YWxzTnVtYmVyOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmludGVydmFscy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBmcmFnbWVudCA9IG5ldyBEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICAgIGlmIChpbnRlcnZhbHNOdW1iZXIgPCAyOSkge1xuICAgICAgICBmcmFnbWVudC5hcHBlbmQoQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdzcGFuJywgJ3JhbmdlLXNsaWRlcl9fc2NhbGUtbWFyaycpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGludGVydmFsc051bWJlciA8IDE1KSB7XG4gICAgICAgIGZyYWdtZW50LmFwcGVuZChCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ3NwYW4nLCAncmFuZ2Utc2xpZGVyX19zY2FsZS1tYXJrJykpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW50ZXJ2YWxzTnVtYmVyIDwgOCkge1xuICAgICAgICBmcmFnbWVudC5hcHBlbmQoQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdzcGFuJywgJ3JhbmdlLXNsaWRlcl9fc2NhbGUtbWFyaycpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGludGVydmFsc051bWJlciA8IDUpIHtcbiAgICAgICAgZnJhZ21lbnQuYXBwZW5kKEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnc3BhbicsICdyYW5nZS1zbGlkZXJfX3NjYWxlLW1hcmsnKSk7XG4gICAgICB9XG5cbiAgICAgIGl0ZW0uYXBwZW5kKGZyYWdtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkVmFsdWVzKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgaW50ZXJ2YWxzTnVtYmVyOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnZhbHVlc1swXSA9IG1pbjtcbiAgICBjb25zdCBzdGVwID0gKG1heCAtIG1pbikgLyBpbnRlcnZhbHNOdW1iZXI7XG4gICAgbGV0IG51bWJlck9mRGlnaXRzQWZ0ZXJQb2ludCA9IDA7XG5cbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIobWluKSkge1xuICAgICAgbnVtYmVyT2ZEaWdpdHNBZnRlclBvaW50ID0gbWluLnRvU3RyaW5nKCkuc3BsaXQoJy4nKVsxXS5sZW5ndGg7XG4gICAgfVxuXG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG1heCkpIHtcbiAgICAgIGlmIChtYXgudG9TdHJpbmcoKS5zcGxpdCgnLicpWzFdLmxlbmd0aCA+IG51bWJlck9mRGlnaXRzQWZ0ZXJQb2ludCkge1xuICAgICAgICBudW1iZXJPZkRpZ2l0c0FmdGVyUG9pbnQgPSBtYXgudG9TdHJpbmcoKS5zcGxpdCgnLicpWzFdLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoKG1heCAtIG1pbikgPCBpbnRlcnZhbHNOdW1iZXIpIHtcbiAgICAgIG51bWJlck9mRGlnaXRzQWZ0ZXJQb2ludCArPSBpbnRlcnZhbHNOdW1iZXIudG9TdHJpbmcoKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBpbnRlcnZhbHNOdW1iZXI7IGkgKz0gMSkge1xuICAgICAgdGhpcy52YWx1ZXNbaV0gPSBOdW1iZXIoKChpICogc3RlcCkgKyBtaW4pLnRvRml4ZWQobnVtYmVyT2ZEaWdpdHNBZnRlclBvaW50KSk7XG4gICAgfVxuXG4gICAgdGhpcy52YWx1ZXMucHVzaChtYXgpO1xuXG4gICAgY29uc3QgdmFsdWVFbGVtZW50ID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdzcGFuJywgJ3JhbmdlLXNsaWRlcl9fc2NhbGUtaW50ZXJ2YWwtdmFsdWUgcmFuZ2Utc2xpZGVyX19zY2FsZS1pbnRlcnZhbC12YWx1ZV9taW4nKTtcbiAgICB2YWx1ZUVsZW1lbnQudGV4dENvbnRlbnQgPSBgJHt0aGlzLnZhbHVlc1swXX1gO1xuICAgIHRoaXMuaW50ZXJ2YWxzWzBdLmFwcGVuZCh2YWx1ZUVsZW1lbnQpO1xuICAgIHRoaXMudmFsdWVFbGVtZW50cy5wdXNoKHZhbHVlRWxlbWVudCk7XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMudmFsdWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBuZXdWYWx1ZUVsZW1lbnQgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ3NwYW4nLCAncmFuZ2Utc2xpZGVyX19zY2FsZS1pbnRlcnZhbC12YWx1ZScpO1xuICAgICAgbmV3VmFsdWVFbGVtZW50LnRleHRDb250ZW50ID0gYCR7dGhpcy52YWx1ZXNbaV19YDtcbiAgICAgIHRoaXMuaW50ZXJ2YWxzW2kgLSAxXS5hcHBlbmQobmV3VmFsdWVFbGVtZW50KTtcbiAgICAgIHRoaXMudmFsdWVFbGVtZW50cy5wdXNoKG5ld1ZhbHVlRWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVDbGljayhldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IHg6IG51bWJlciA9IGV2ZW50LmNsaWVudFggLSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICBjb25zdCB5OiBudW1iZXIgPSBldmVudC5jbGllbnRZIC0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG5cbiAgICAgIHRoaXMudmlldy5oYW5kbGVTY2FsZU9yVHJhY2tDbGljayh4LCB5KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGF0dGFjaEV2ZW50SGFuZGxlcnMoKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcykpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjYWxlO1xuIiwiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uLy4uL0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50JztcblxuY2xhc3MgTGFiZWxzQ29udGFpbmVyIGV4dGVuZHMgQmFzZUVsZW1lbnQ8J2Rpdic+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ2RpdicsICdyYW5nZS1zbGlkZXJfX2xhYmVscy1jb250YWluZXInKTtcbiAgfVxuXG4gIGFwcGVuZCguLi5lbGVtZW50czogSFRNTEVsZW1lbnRbXSk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZCguLi5lbGVtZW50cyk7XG4gIH1cblxuICBmaXhXaWR0aEZvclZlcnRpY2FsKGxhYmVsczogSFRNTEVsZW1lbnRbXSwgaW5kZW50OiBudW1iZXIgPSA0KTogdm9pZCB7XG4gICAgbGV0IG1heFdpZHRoID0gMDtcblxuICAgIGxhYmVscy5mb3JFYWNoKChsYWJlbCkgPT4ge1xuICAgICAgaWYgKGxhYmVsLm9mZnNldFdpZHRoID4gbWF4V2lkdGgpIHtcbiAgICAgICAgbWF4V2lkdGggPSBsYWJlbC5vZmZzZXRXaWR0aDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLnBhZGRpbmdMZWZ0ID0gYCR7bWF4V2lkdGggKyBpbmRlbnR9cHhgO1xuICB9XG5cbiAgZml4SGVpZ2h0Rm9ySG9yaXpvbnRhbChsYWJlbHM6IEhUTUxFbGVtZW50W10sIGluZGVudDogbnVtYmVyID0gNCk6IHZvaWQge1xuICAgIGxldCBtYXhIZWlnaHQgPSAwO1xuXG4gICAgbGFiZWxzLmZvckVhY2goKGxhYmVsKSA9PiB7XG4gICAgICBpZiAobGFiZWwub2Zmc2V0SGVpZ2h0ID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgIG1heEhlaWdodCA9IGxhYmVsLm9mZnNldEhlaWdodDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLnBhZGRpbmdUb3AgPSBgJHttYXhIZWlnaHQgKyBpbmRlbnR9cHhgO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExhYmVsc0NvbnRhaW5lcjtcbiIsImltcG9ydCBCYXNlRWxlbWVudCBmcm9tICcuLi8uLi9CYXNlRWxlbWVudC9CYXNlRWxlbWVudCc7XG5cbmNsYXNzIExhYmVsIGV4dGVuZHMgQmFzZUVsZW1lbnQ8J2Rpdic+IHtcbiAgY29uc3RydWN0b3IoY2xhc3NOYW1lPzogc3RyaW5nKSB7XG4gICAgc3VwZXIoJ2RpdicsIGNsYXNzTmFtZSk7XG4gIH1cblxuICBzZXRPcGFjaXR5KHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5vcGFjaXR5ID0gYCR7dmFsdWV9YDtcbiAgfVxuXG4gIHNldFZhbHVlKHZhbHVlOiBudW1iZXIgfCBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC50ZXh0Q29udGVudCA9IGAke3ZhbHVlfWA7XG4gIH1cblxuICBnZXRWYWx1ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiBOdW1iZXIodGhpcy5jb21wb25lbnQudGV4dENvbnRlbnQpO1xuICB9XG5cbiAgZ2V0TGVmdEluZGVudCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5zdHlsZS5sZWZ0O1xuICB9XG5cbiAgZ2V0VG9wSW5kZW50KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LnN0eWxlLnRvcDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMYWJlbDtcbiIsImltcG9ydCBCYXNlRWxlbWVudCBmcm9tICcuLi8uLi9CYXNlRWxlbWVudC9CYXNlRWxlbWVudCc7XG5cbmNsYXNzIElucHV0IGV4dGVuZHMgQmFzZUVsZW1lbnQ8J2lucHV0Jz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignaW5wdXQnLCAncmFuZ2Utc2xpZGVyX19pbnB1dCcpO1xuICAgIHRoaXMuc2V0QXR0cmlidXRlcygpO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWUxOiBudW1iZXIsIHZhbHVlMjogbnVtYmVyIHwgbnVsbCA9IG51bGwpOiB2b2lkIHtcbiAgICBpZiAodmFsdWUyID09PSBudWxsKSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC52YWx1ZSA9IGAke3ZhbHVlMX1gO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC52YWx1ZSA9IGAke3ZhbHVlMX0gLSAke3ZhbHVlMn1gO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2V0QXR0cmlidXRlcygpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC50eXBlID0gJ3RleHQnO1xuICAgIHRoaXMuY29tcG9uZW50LnRhYkluZGV4ID0gLTE7XG4gICAgdGhpcy5jb21wb25lbnQucmVhZE9ubHkgPSB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IElucHV0O1xuIiwiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uLy4uL0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50JztcblxudHlwZSBQYW5lbE9wdGlvbnMgPSB7XG4gIG1pbjogbnVtYmVyLFxuICBtYXg6IG51bWJlcixcbiAgc3RlcDogbnVtYmVyLFxuICBmcm9tOiBudW1iZXIsXG4gIHRvOiBudW1iZXIgfCBudWxsLFxuICB2ZXJ0aWNhbDogYm9vbGVhbixcbiAgcmFuZ2U6IGJvb2xlYW4sXG4gIHNjYWxlOiBib29sZWFuLFxuICBzY2FsZUludGVydmFsczogbnVtYmVyLFxuICB2YWx1ZUxhYmVsczogYm9vbGVhbixcbiAgbWluTWF4TGFiZWxzOiBib29sZWFuXG59O1xuXG50eXBlIFZpZXdGb3JQYW5lbCA9IHtcbiAgaXNSYW5nZSgpOiBib29sZWFuLFxuICBjaGFuZ2VNaW5Gcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCxcbiAgY2hhbmdlTWF4RnJvbU91dHNpZGUodmFsdWU6IG51bWJlcik6IHZvaWQsXG4gIGNoYW5nZVN0ZXBGcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCxcbiAgY2hhbmdlTGVmdFZhbHVlRnJvbU91dHNpZGUodmFsdWU6IG51bWJlcik6IHZvaWQsXG4gIGNoYW5nZVJpZ2h0VmFsdWVGcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCxcbiAgY2hhbmdlT3JpZW50YXRpb25Gcm9tT3V0c2lkZSgpOiB2b2lkLFxuICB0b2dnbGVSYW5nZUZyb21PdXRzaWRlKCk6IHZvaWQsXG4gIHRvZ2dsZVNjYWxlRnJvbU91dHNpZGUoKTogdm9pZCxcbiAgY2hhbmdlU2NhbGVJbnRlcnZhbHModmFsdWU6IG51bWJlcik6IHZvaWQsXG4gIHRvZ2dsZVZhbHVlTGFiZWxzKCk6IHZvaWQsXG4gIHRvZ2dsZU1pbk1heExhYmVscygpOiB2b2lkLFxufTtcblxuY2xhc3MgUGFuZWwgZXh0ZW5kcyBCYXNlRWxlbWVudDwnZm9ybSc+IHtcbiAgcHJpdmF0ZSB2aWV3OiBWaWV3Rm9yUGFuZWw7XG5cbiAgcHJpdmF0ZSBtaW46IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBtYXg6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBzdGVwOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHByaXZhdGUgZnJvbTogSFRNTElucHV0RWxlbWVudDtcblxuICBwcml2YXRlIHRvOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHByaXZhdGUgdmVydGljYWw6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSByYW5nZTogSFRNTElucHV0RWxlbWVudDtcblxuICBwcml2YXRlIHNjYWxlOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHByaXZhdGUgc2NhbGVJbnRlcnZhbHM6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSB2YWx1ZUxhYmVsczogSFRNTElucHV0RWxlbWVudDtcblxuICBwcml2YXRlIG1pbk1heExhYmVsczogSFRNTElucHV0RWxlbWVudDtcblxuICBjb25zdHJ1Y3Rvcih2aWV3OiBWaWV3Rm9yUGFuZWwpIHtcbiAgICBzdXBlcignZm9ybScsICdwYW5lbCcpO1xuXG4gICAgdGhpcy52aWV3ID0gdmlldztcblxuICAgIHRoaXMubWluID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fbWluIHBhbmVsX19pbnB1dCcpO1xuICAgIHRoaXMubWF4ID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fbWF4IHBhbmVsX19pbnB1dCcpO1xuICAgIHRoaXMuc3RlcCA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX3N0ZXAgcGFuZWxfX2lucHV0Jyk7XG4gICAgdGhpcy5mcm9tID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fZnJvbSBwYW5lbF9faW5wdXQnKTtcbiAgICB0aGlzLnRvID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fdG8gcGFuZWxfX2lucHV0Jyk7XG5cbiAgICB0aGlzLnZlcnRpY2FsID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fdmVydGljYWwgcGFuZWxfX2NoZWNrYm94Jyk7XG4gICAgdGhpcy5yYW5nZSA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX3JhbmdlIHBhbmVsX19jaGVja2JveCcpO1xuICAgIHRoaXMuc2NhbGUgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX19zY2FsZSBwYW5lbF9fY2hlY2tib3gnKTtcbiAgICB0aGlzLnNjYWxlSW50ZXJ2YWxzID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fc2NhbGUtaW50ZXJ2YWxzIHBhbmVsX19pbnB1dCcpO1xuICAgIHRoaXMudmFsdWVMYWJlbHMgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX192YWx1ZS1sYWJlbHMgcGFuZWxfX2NoZWNrYm94Jyk7XG4gICAgdGhpcy5taW5NYXhMYWJlbHMgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX19taW4tbWF4LWxhYmVscyBwYW5lbF9fY2hlY2tib3gnKTtcblxuICAgIHRoaXMucmVuZGVyKCk7XG4gICAgdGhpcy5hdHRhY2hFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBzZXRWYWx1ZXMob3B0aW9uczogUGFuZWxPcHRpb25zKTogdm9pZCB7XG4gICAgdGhpcy5taW4udmFsdWUgPSBgJHtvcHRpb25zLm1pbn1gO1xuICAgIHRoaXMubWF4LnZhbHVlID0gYCR7b3B0aW9ucy5tYXh9YDtcbiAgICB0aGlzLnN0ZXAudmFsdWUgPSBgJHtvcHRpb25zLnN0ZXB9YDtcbiAgICB0aGlzLmZyb20udmFsdWUgPSBgJHtvcHRpb25zLmZyb219YDtcbiAgICB0aGlzLnRvLnZhbHVlID0gb3B0aW9ucy50byAhPT0gbnVsbCA/IGAke29wdGlvbnMudG99YCA6ICcnO1xuICAgIHRoaXMudmVydGljYWwuY2hlY2tlZCA9IG9wdGlvbnMudmVydGljYWw7XG4gICAgdGhpcy5yYW5nZS5jaGVja2VkID0gb3B0aW9ucy5yYW5nZTtcbiAgICB0aGlzLnNjYWxlLmNoZWNrZWQgPSBvcHRpb25zLnNjYWxlO1xuICAgIHRoaXMuc2NhbGVJbnRlcnZhbHMudmFsdWUgPSBgJHtvcHRpb25zLnNjYWxlSW50ZXJ2YWxzfWA7XG4gICAgdGhpcy52YWx1ZUxhYmVscy5jaGVja2VkID0gb3B0aW9ucy52YWx1ZUxhYmVscztcbiAgICB0aGlzLm1pbk1heExhYmVscy5jaGVja2VkID0gb3B0aW9ucy5taW5NYXhMYWJlbHM7XG5cbiAgICB0aGlzLnNldENoZWNrTWFya3MoKTtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZXMob3B0aW9ucyk7XG4gIH1cblxuICB1cGRhdGVGcm9tKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmZyb20udmFsdWUgPSBgJHt2YWx1ZX1gO1xuICAgIHRoaXMudXBkYXRlQXR0cmlidXRlc0FmdGVyRnJvbUNoYW5nZSgpO1xuICB9XG5cbiAgdXBkYXRlVG8odmFsdWU6IG51bWJlciB8ICcnKTogdm9pZCB7XG4gICAgdGhpcy50by52YWx1ZSA9IGAke3ZhbHVlfWA7XG4gICAgdGhpcy51cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJUb0NoYW5nZSgpO1xuICB9XG5cbiAgdXBkYXRlU3RlcCh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5zdGVwLnZhbHVlID0gYCR7dmFsdWV9YDtcbiAgICB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXNBZnRlclN0ZXBDaGFuZ2UoKTtcbiAgfVxuXG4gIHVwZGF0ZU1pbih2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5taW4udmFsdWUgPSBgJHt2YWx1ZX1gO1xuICAgIHRoaXMudXBkYXRlQXR0cmlidXRlc0FmdGVyTWluQ2hhbmdlKCk7XG4gIH1cblxuICB1cGRhdGVNYXgodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubWF4LnZhbHVlID0gYCR7dmFsdWV9YDtcbiAgICB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXNBZnRlck1heENoYW5nZSgpO1xuICB9XG5cbiAgdXBkYXRlU2NhbGVJbnRlcnZhbHModmFsdWU6IG51bWJlciB8ICcnKTogdm9pZCB7XG4gICAgdGhpcy5zY2FsZUludGVydmFscy52YWx1ZSA9IGAke3ZhbHVlfWA7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBhZGRMYWJlbChcbiAgICBpbnB1dDogSFRNTElucHV0RWxlbWVudCwgbmFtZTogc3RyaW5nLCBjbGFzc05hbWU/OiBzdHJpbmcsXG4gICk6IEhUTUxMYWJlbEVsZW1lbnQge1xuICAgIGNvbnN0IGxhYmVsOiBIVE1MTGFiZWxFbGVtZW50ID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdsYWJlbCcsICdwYW5lbF9fbGFiZWwnKTtcbiAgICBsYWJlbC50ZXh0Q29udGVudCA9IG5hbWU7XG5cbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgbGFiZWwuYXBwZW5kKGlucHV0KTtcblxuICAgIHJldHVybiBsYWJlbDtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGNhbGNTdGVwTWluKHN0ZXA6IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKE51bWJlci5pc0ludGVnZXIoc3RlcCkpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIGNvbnN0IG51bWJlck9mRGlnaXRzQWZ0ZXJQb2ludCA9IHN0ZXAudG9TdHJpbmcoKS5zcGxpdCgnLicpWzFdLmxlbmd0aDtcbiAgICBsZXQgcmVzdWx0OiBzdHJpbmcgPSAnMSc7XG5cbiAgICBmb3IgKGxldCBpID0gbnVtYmVyT2ZEaWdpdHNBZnRlclBvaW50OyBpID4gMTsgaSAtPSAxKSB7XG4gICAgICByZXN1bHQgPSBgMCR7cmVzdWx0fWA7XG4gICAgfVxuXG4gICAgcmVzdWx0ID0gYDAuJHtyZXN1bHR9YDtcblxuICAgIHJldHVybiBOdW1iZXIocmVzdWx0KTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHRvZ2dsZUNoZWNrYm94KGlucHV0OiBIVE1MSW5wdXRFbGVtZW50KTogdm9pZCB7XG4gICAgY29uc3QgbGFiZWw6IEhUTUxMYWJlbEVsZW1lbnQgfCBudWxsID0gaW5wdXQuY2xvc2VzdCgnbGFiZWwnKTtcbiAgICBsYWJlbD8uY2xhc3NMaXN0LnRvZ2dsZSgncGFuZWxfX2xhYmVsX2Zvci1jaGVja2JveF9jaGVja2VkJyk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlcigpOiB2b2lkIHtcbiAgICB0aGlzLnNldFR5cGVzKCk7XG4gICAgdGhpcy5jb21wb25lbnQuYXBwZW5kKFxuICAgICAgUGFuZWwuYWRkTGFiZWwodGhpcy5yYW5nZSwgJ1JhbmdlOicsICdwYW5lbF9fbGFiZWxfZm9yLWNoZWNrYm94JyksXG4gICAgICBQYW5lbC5hZGRMYWJlbCh0aGlzLnZlcnRpY2FsLCAnVmVydGljYWw6JywgJ3BhbmVsX19sYWJlbF9mb3ItY2hlY2tib3gnKSxcbiAgICAgIFBhbmVsLmFkZExhYmVsKHRoaXMudmFsdWVMYWJlbHMsICdWYWx1ZSBsYWJlbHM6JywgJ3BhbmVsX19sYWJlbF9mb3ItY2hlY2tib3gnKSxcbiAgICAgIFBhbmVsLmFkZExhYmVsKHRoaXMubWluTWF4TGFiZWxzLCAnTWluJm1heCBsYWJlbHM6JywgJ3BhbmVsX19sYWJlbF9mb3ItY2hlY2tib3gnKSxcbiAgICAgIFBhbmVsLmFkZExhYmVsKHRoaXMuc2NhbGUsICdTY2FsZTonLCAncGFuZWxfX2xhYmVsX2Zvci1jaGVja2JveCcpLFxuICAgICAgUGFuZWwuYWRkTGFiZWwodGhpcy5zY2FsZUludGVydmFscywgJ1NjYWxlIGludGVydmFsczonKSxcbiAgICAgIFBhbmVsLmFkZExhYmVsKHRoaXMubWluLCAnTWluOicpLFxuICAgICAgUGFuZWwuYWRkTGFiZWwodGhpcy5tYXgsICdNYXg6JyksXG4gICAgICBQYW5lbC5hZGRMYWJlbCh0aGlzLmZyb20sICdGcm9tOicpLFxuICAgICAgUGFuZWwuYWRkTGFiZWwodGhpcy50bywgJ1RvOicpLFxuICAgICAgUGFuZWwuYWRkTGFiZWwodGhpcy5zdGVwLCAnU3RlcDonKSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRUeXBlcygpOiB2b2lkIHtcbiAgICB0aGlzLm1pbi50eXBlID0gJ251bWJlcic7XG4gICAgdGhpcy5tYXgudHlwZSA9ICdudW1iZXInO1xuICAgIHRoaXMuc3RlcC50eXBlID0gJ251bWJlcic7XG4gICAgdGhpcy5mcm9tLnR5cGUgPSAnbnVtYmVyJztcbiAgICB0aGlzLnRvLnR5cGUgPSAnbnVtYmVyJztcbiAgICB0aGlzLnZlcnRpY2FsLnR5cGUgPSAnY2hlY2tib3gnO1xuICAgIHRoaXMucmFuZ2UudHlwZSA9ICdjaGVja2JveCc7XG4gICAgdGhpcy5zY2FsZS50eXBlID0gJ2NoZWNrYm94JztcbiAgICB0aGlzLnNjYWxlSW50ZXJ2YWxzLnR5cGUgPSAnbnVtYmVyJztcbiAgICB0aGlzLnZhbHVlTGFiZWxzLnR5cGUgPSAnY2hlY2tib3gnO1xuICAgIHRoaXMubWluTWF4TGFiZWxzLnR5cGUgPSAnY2hlY2tib3gnO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRBdHRyaWJ1dGVzKG9wdGlvbnM6IFBhbmVsT3B0aW9ucyk6IHZvaWQge1xuICAgIHRoaXMuZnJvbS5taW4gPSBgJHtvcHRpb25zLm1pbn1gO1xuICAgIHRoaXMuZnJvbS5tYXggPSBvcHRpb25zLnJhbmdlID8gYCR7b3B0aW9ucy50b31gIDogYCR7b3B0aW9ucy5tYXh9YDtcblxuICAgIHRoaXMudG8ubWluID0gYCR7b3B0aW9ucy5mcm9tfWA7XG4gICAgdGhpcy50by5tYXggPSBgJHtvcHRpb25zLm1heH1gO1xuXG4gICAgdGhpcy5mcm9tLnN0ZXAgPSBgJHtvcHRpb25zLnN0ZXB9YDtcbiAgICB0aGlzLnRvLnN0ZXAgPSBgJHtvcHRpb25zLnN0ZXB9YDtcblxuICAgIHRoaXMubWluLnN0ZXAgPSBgJHtvcHRpb25zLnN0ZXB9YDtcbiAgICB0aGlzLm1heC5zdGVwID0gYCR7b3B0aW9ucy5zdGVwfWA7XG5cbiAgICB0aGlzLm1pbi5tYXggPSBgJHtvcHRpb25zLmZyb219YDtcbiAgICB0aGlzLm1heC5taW4gPSBvcHRpb25zLnJhbmdlID8gYCR7b3B0aW9ucy50b31gIDogYCR7b3B0aW9ucy5mcm9tfWA7XG5cbiAgICB0aGlzLnN0ZXAubWluID0gYCR7UGFuZWwuY2FsY1N0ZXBNaW4ob3B0aW9ucy5zdGVwKX1gO1xuICAgIHRoaXMuc3RlcC5zdGVwID0gdGhpcy5zdGVwLm1pbjtcbiAgICB0aGlzLnN0ZXAubWF4ID0gYCR7TWF0aC5hYnMob3B0aW9ucy5tYXggLSBvcHRpb25zLm1pbil9YDtcblxuICAgIGlmICghb3B0aW9ucy5yYW5nZSkge1xuICAgICAgdGhpcy50by5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5zY2FsZUludGVydmFscy5taW4gPSAnMSc7XG5cbiAgICBpZiAoIW9wdGlvbnMuc2NhbGUpIHtcbiAgICAgIHRoaXMuc2NhbGVJbnRlcnZhbHMuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2V0Q2hlY2tNYXJrcygpOiB2b2lkIHtcbiAgICBjb25zdCBjaGVja2JveGVzID0gW1xuICAgICAgdGhpcy52ZXJ0aWNhbCxcbiAgICAgIHRoaXMucmFuZ2UsXG4gICAgICB0aGlzLnNjYWxlLFxuICAgICAgdGhpcy52YWx1ZUxhYmVscyxcbiAgICAgIHRoaXMubWluTWF4TGFiZWxzLFxuICAgIF07XG4gICAgY2hlY2tib3hlcy5mb3JFYWNoKChjaGVja2JveCkgPT4ge1xuICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgUGFuZWwudG9nZ2xlQ2hlY2tib3goY2hlY2tib3gpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJGcm9tQ2hhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMubWluLm1heCA9IHRoaXMuZnJvbS52YWx1ZTtcblxuICAgIGlmICh0aGlzLnZpZXcuaXNSYW5nZSgpKSB7XG4gICAgICB0aGlzLnRvLm1pbiA9IHRoaXMuZnJvbS52YWx1ZTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMudmlldy5pc1JhbmdlKCkpIHtcbiAgICAgIHRoaXMubWF4Lm1pbiA9IHRoaXMuZnJvbS52YWx1ZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUF0dHJpYnV0ZXNBZnRlclRvQ2hhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMuZnJvbS5tYXggPSB0aGlzLnRvLnZhbHVlO1xuICAgIHRoaXMubWF4Lm1pbiA9IHRoaXMudG8udmFsdWU7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUF0dHJpYnV0ZXNBZnRlclN0ZXBDaGFuZ2UoKTogdm9pZCB7XG4gICAgdGhpcy5zdGVwLm1pbiA9IGAke1BhbmVsLmNhbGNTdGVwTWluKE51bWJlcih0aGlzLnN0ZXAudmFsdWUpKX1gO1xuICAgIHRoaXMuc3RlcC5zdGVwID0gYCR7UGFuZWwuY2FsY1N0ZXBNaW4oTnVtYmVyKHRoaXMuc3RlcC52YWx1ZSkpfWA7XG5cbiAgICB0aGlzLmZyb20uc3RlcCA9IHRoaXMuc3RlcC52YWx1ZTtcbiAgICB0aGlzLnRvLnN0ZXAgPSB0aGlzLnN0ZXAudmFsdWU7XG4gICAgdGhpcy5taW4uc3RlcCA9IHRoaXMuc3RlcC52YWx1ZTtcbiAgICB0aGlzLm1heC5zdGVwID0gdGhpcy5zdGVwLnZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJNaW5DaGFuZ2UoKTogdm9pZCB7XG4gICAgdGhpcy5mcm9tLm1pbiA9IHRoaXMubWluLnZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJNYXhDaGFuZ2UoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnZpZXcuaXNSYW5nZSgpKSB7XG4gICAgICB0aGlzLmZyb20ubWF4ID0gdGhpcy5tYXgudmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmlldy5pc1JhbmdlKCkpIHtcbiAgICAgIHRoaXMudG8ubWF4ID0gdGhpcy5tYXgudmFsdWU7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNaW5DaGFuZ2UoKTogdm9pZCB7XG4gICAgaWYgKE51bWJlcih0aGlzLm1pbi52YWx1ZSkgPiBOdW1iZXIodGhpcy5mcm9tLnZhbHVlKSkge1xuICAgICAgdGhpcy5taW4udmFsdWUgPSB0aGlzLmZyb20udmFsdWU7XG4gICAgfVxuXG4gICAgdGhpcy52aWV3LmNoYW5nZU1pbkZyb21PdXRzaWRlKE51bWJlcih0aGlzLm1pbi52YWx1ZSkpO1xuICAgIHRoaXMuc3RlcC5tYXggPSBgJHtNYXRoLmFicyhOdW1iZXIodGhpcy5tYXgudmFsdWUpIC0gTnVtYmVyKHRoaXMubWluLnZhbHVlKSl9YDtcbiAgICB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXNBZnRlck1pbkNoYW5nZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNYXhDaGFuZ2UoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnZpZXcuaXNSYW5nZSgpKSB7XG4gICAgICBpZiAoTnVtYmVyKHRoaXMubWF4LnZhbHVlKSA8IE51bWJlcih0aGlzLmZyb20udmFsdWUpKSB7XG4gICAgICAgIHRoaXMubWF4LnZhbHVlID0gdGhpcy5mcm9tLnZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnZpZXcuaXNSYW5nZSgpKSB7XG4gICAgICBpZiAoTnVtYmVyKHRoaXMubWF4LnZhbHVlKSA8IE51bWJlcih0aGlzLnRvLnZhbHVlKSkge1xuICAgICAgICB0aGlzLm1heC52YWx1ZSA9IHRoaXMudG8udmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy52aWV3LmNoYW5nZU1heEZyb21PdXRzaWRlKE51bWJlcih0aGlzLm1heC52YWx1ZSkpO1xuICAgIHRoaXMuc3RlcC5tYXggPSBgJHtNYXRoLmFicyhOdW1iZXIodGhpcy5tYXgudmFsdWUpIC0gTnVtYmVyKHRoaXMubWluLnZhbHVlKSl9YDtcbiAgICB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXNBZnRlck1heENoYW5nZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVTdGVwQ2hhbmdlKCk6IHZvaWQge1xuICAgIGlmIChOdW1iZXIodGhpcy5zdGVwLnZhbHVlKSA+IE51bWJlcih0aGlzLnN0ZXAubWF4KSkge1xuICAgICAgdGhpcy5zdGVwLnZhbHVlID0gdGhpcy5zdGVwLm1heDtcbiAgICB9XG5cbiAgICBpZiAoTnVtYmVyKHRoaXMuc3RlcC52YWx1ZSkgPD0gMCkge1xuICAgICAgdGhpcy5zdGVwLnZhbHVlID0gdGhpcy5zdGVwLm1pbjtcbiAgICB9XG5cbiAgICB0aGlzLnZpZXcuY2hhbmdlU3RlcEZyb21PdXRzaWRlKE51bWJlcih0aGlzLnN0ZXAudmFsdWUpKTtcbiAgICB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXNBZnRlclN0ZXBDaGFuZ2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlRnJvbUNoYW5nZSgpOiB2b2lkIHtcbiAgICBpZiAoTnVtYmVyKHRoaXMuZnJvbS52YWx1ZSkgPiBOdW1iZXIodGhpcy5mcm9tLm1heCkpIHtcbiAgICAgIHRoaXMuZnJvbS52YWx1ZSA9IHRoaXMuZnJvbS5tYXg7XG4gICAgfVxuXG4gICAgaWYgKE51bWJlcih0aGlzLmZyb20udmFsdWUpIDwgTnVtYmVyKHRoaXMuZnJvbS5taW4pKSB7XG4gICAgICB0aGlzLmZyb20udmFsdWUgPSB0aGlzLmZyb20ubWluO1xuICAgIH1cblxuICAgIHRoaXMudmlldy5jaGFuZ2VMZWZ0VmFsdWVGcm9tT3V0c2lkZShOdW1iZXIodGhpcy5mcm9tLnZhbHVlKSk7XG4gICAgdGhpcy51cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJGcm9tQ2hhbmdlKCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVRvQ2hhbmdlKCk6IHZvaWQge1xuICAgIGlmIChOdW1iZXIodGhpcy50by52YWx1ZSkgPiBOdW1iZXIodGhpcy50by5tYXgpKSB7XG4gICAgICB0aGlzLnRvLnZhbHVlID0gdGhpcy50by5tYXg7XG4gICAgfVxuXG4gICAgaWYgKE51bWJlcih0aGlzLnRvLnZhbHVlKSA8IE51bWJlcih0aGlzLnRvLm1pbikpIHtcbiAgICAgIHRoaXMudG8udmFsdWUgPSB0aGlzLnRvLm1pbjtcbiAgICB9XG5cbiAgICB0aGlzLnZpZXcuY2hhbmdlUmlnaHRWYWx1ZUZyb21PdXRzaWRlKE51bWJlcih0aGlzLnRvLnZhbHVlKSk7XG4gICAgdGhpcy51cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJUb0NoYW5nZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWZXJ0aWNhbENoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXcuY2hhbmdlT3JpZW50YXRpb25Gcm9tT3V0c2lkZSgpO1xuICAgIFBhbmVsLnRvZ2dsZUNoZWNrYm94KHRoaXMudmVydGljYWwpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVSYW5nZUNoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXcudG9nZ2xlUmFuZ2VGcm9tT3V0c2lkZSgpO1xuXG4gICAgdGhpcy50by5kaXNhYmxlZCA9ICF0aGlzLnRvLmRpc2FibGVkO1xuXG4gICAgaWYgKHRoaXMucmFuZ2UuY2hlY2tlZCkge1xuICAgICAgdGhpcy5mcm9tLm1heCA9IHRoaXMudG8udmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZnJvbS5tYXggPSB0aGlzLm1heC52YWx1ZTtcbiAgICB9XG5cbiAgICBQYW5lbC50b2dnbGVDaGVja2JveCh0aGlzLnJhbmdlKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlU2NhbGVDaGFuZ2UoKTogdm9pZCB7XG4gICAgdGhpcy52aWV3LnRvZ2dsZVNjYWxlRnJvbU91dHNpZGUoKTtcblxuICAgIHRoaXMuc2NhbGVJbnRlcnZhbHMuZGlzYWJsZWQgPSAhdGhpcy5zY2FsZUludGVydmFscy5kaXNhYmxlZDtcblxuICAgIFBhbmVsLnRvZ2dsZUNoZWNrYm94KHRoaXMuc2NhbGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVTY2FsZUludGVydmFsc0NoYW5nZSgpOiB2b2lkIHtcbiAgICBpZiAoTnVtYmVyKHRoaXMuc2NhbGVJbnRlcnZhbHMudmFsdWUpIDwgTnVtYmVyKHRoaXMuc2NhbGVJbnRlcnZhbHMubWluKSkge1xuICAgICAgdGhpcy5zY2FsZUludGVydmFscy52YWx1ZSA9IHRoaXMuc2NhbGVJbnRlcnZhbHMubWluO1xuICAgIH1cblxuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcih0aGlzLnNjYWxlSW50ZXJ2YWxzLnZhbHVlKSkge1xuICAgICAgdGhpcy5zY2FsZUludGVydmFscy52YWx1ZSA9IGAke01hdGguZmxvb3IoTnVtYmVyKHRoaXMuc2NhbGVJbnRlcnZhbHMudmFsdWUpKX1gO1xuICAgIH1cblxuICAgIHRoaXMudmlldy5jaGFuZ2VTY2FsZUludGVydmFscyhOdW1iZXIodGhpcy5zY2FsZUludGVydmFscy52YWx1ZSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWYWx1ZUxhYmVsc0NoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXcudG9nZ2xlVmFsdWVMYWJlbHMoKTtcbiAgICBQYW5lbC50b2dnbGVDaGVja2JveCh0aGlzLnZhbHVlTGFiZWxzKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTWluTWF4TGFiZWxzQ2hhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMudmlldy50b2dnbGVNaW5NYXhMYWJlbHMoKTtcbiAgICBQYW5lbC50b2dnbGVDaGVja2JveCh0aGlzLm1pbk1heExhYmVscyk7XG4gIH1cblxuICBwcml2YXRlIGF0dGFjaEV2ZW50SGFuZGxlcnMoKTogdm9pZCB7XG4gICAgdGhpcy5taW4uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVNaW5DaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5tYXguYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVNYXhDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5zdGVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlU3RlcENoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmZyb20uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVGcm9tQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMudG8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVUb0NoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnZlcnRpY2FsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlVmVydGljYWxDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5yYW5nZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZVJhbmdlQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2NhbGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVTY2FsZUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnNjYWxlSW50ZXJ2YWxzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlU2NhbGVJbnRlcnZhbHNDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy52YWx1ZUxhYmVscy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZVZhbHVlTGFiZWxzQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMubWluTWF4TGFiZWxzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlTWluTWF4TGFiZWxzQ2hhbmdlLmJpbmQodGhpcykpO1xuICB9XG59XG5cbmV4cG9ydCB7IFBhbmVsT3B0aW9ucywgUGFuZWwgfTtcbiIsImltcG9ydCBCYXNlRWxlbWVudCBmcm9tICcuL0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50JztcbmltcG9ydCBUcmFjayBmcm9tICcuL3N1YnZpZXdzL1RyYWNrL1RyYWNrJztcbmltcG9ydCBSYW5nZSBmcm9tICcuL3N1YnZpZXdzL1JhbmdlL1JhbmdlJztcbmltcG9ydCBUaHVtYiBmcm9tICcuL3N1YnZpZXdzL1RodW1iL1RodW1iJztcbmltcG9ydCBTY2FsZSBmcm9tICcuL3N1YnZpZXdzL1NjYWxlL1NjYWxlJztcbmltcG9ydCBMYWJlbHNDb250YWluZXIgZnJvbSAnLi9zdWJ2aWV3cy9MYWJlbHNDb250YWluZXIvTGFiZWxzQ29udGFpbmVyJztcbmltcG9ydCBMYWJlbCBmcm9tICcuL3N1YnZpZXdzL0xhYmVsL0xhYmVsJztcbmltcG9ydCBJbnB1dCBmcm9tICcuL3N1YnZpZXdzL0lucHV0L0lucHV0JztcbmltcG9ydCB7IFBhbmVsLCBQYW5lbE9wdGlvbnMgfSBmcm9tICcuL3N1YnZpZXdzL1BhbmVsL1BhbmVsJztcbmltcG9ydCB7IEV2ZW50TWFuYWdlciwgSUV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi9FdmVudE1hbmFnZXIvRXZlbnRNYW5hZ2VyJztcblxudHlwZSBWaWV3T3B0aW9ucyA9IHtcbiAgbWluTWF4TGFiZWxzPzogYm9vbGVhbixcbiAgdmFsdWVMYWJlbHM/OiBib29sZWFuLFxuICB2ZXJ0aWNhbD86IGJvb2xlYW4sXG4gIHJhbmdlPzogYm9vbGVhbixcbiAgc2NhbGU/OiBib29sZWFuLFxuICBzY2FsZUludGVydmFscz86IG51bWJlcixcbiAgcGFuZWw/OiBib29sZWFuXG59O1xuXG5jbGFzcyBWaWV3IGV4dGVuZHMgQmFzZUVsZW1lbnQ8J2Rpdic+IHtcbiAgcHJpdmF0ZSBldmVudE1hbmFnZXI6IEV2ZW50TWFuYWdlcjtcblxuICBwcml2YXRlIHNsaWRlcjogSFRNTERpdkVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSB0cmFjazogVHJhY2s7XG5cbiAgcHJpdmF0ZSByYW5nZTogUmFuZ2U7XG5cbiAgcHJpdmF0ZSBpbnB1dDogSW5wdXQ7XG5cbiAgcHJpdmF0ZSB0aHVtYkxlZnQ6IFRodW1iO1xuXG4gIHByaXZhdGUgdGh1bWJSaWdodD86IFRodW1iO1xuXG4gIHByaXZhdGUgc2NhbGU/OiBTY2FsZTtcblxuICBwcml2YXRlIHNjYWxlSW50ZXJ2YWxzOiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBtaW5MYWJlbD86IExhYmVsO1xuXG4gIHByaXZhdGUgbWF4TGFiZWw/OiBMYWJlbDtcblxuICBwcml2YXRlIHZhbHVlTGFiZWxMZWZ0PzogTGFiZWw7XG5cbiAgcHJpdmF0ZSB2YWx1ZUxhYmVsUmlnaHQ/OiBMYWJlbDtcblxuICBwcml2YXRlIHZhbHVlTGFiZWxDb21tb24/OiBMYWJlbDtcblxuICBwcml2YXRlIHZlcnRpY2FsPzogYm9vbGVhbjtcblxuICBwcml2YXRlIGxhYmVsc0NvbnRhaW5lcj86IExhYmVsc0NvbnRhaW5lcjtcblxuICBwcml2YXRlIHBhbmVsPzogUGFuZWw7XG5cbiAgY29uc3RydWN0b3IoY29tcG9uZW50OiBIVE1MRGl2RWxlbWVudCwgb3B0aW9uczogVmlld09wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKCdkaXYnKTtcblxuICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyID0gbmV3IEV2ZW50TWFuYWdlcigpO1xuXG4gICAgdGhpcy5zbGlkZXIgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2RpdicsICdyYW5nZS1zbGlkZXJfX3NsaWRlcicpO1xuICAgIHRoaXMudHJhY2sgPSBuZXcgVHJhY2sodGhpcyk7XG4gICAgdGhpcy5yYW5nZSA9IG5ldyBSYW5nZSgpO1xuXG4gICAgdGhpcy50aHVtYkxlZnQgPSBuZXcgVGh1bWIodGhpcywgJ2xlZnQnKTtcblxuICAgIHRoaXMuaW5wdXQgPSBuZXcgSW5wdXQoKTtcblxuICAgIGlmIChvcHRpb25zLnJhbmdlKSB7XG4gICAgICB0aGlzLnRodW1iUmlnaHQgPSBuZXcgVGh1bWIodGhpcywgJ3JpZ2h0Jyk7XG4gICAgfVxuXG4gICAgLy8gdGhpcyBmaWVsZCBpcyBhbHdheXMgaW5pdGlhbGl6ZWQgaW4gY2FzZSB0aGUgdG9nZ2xlU2NhbGVGcm9tT3V0c2lkZSgpIG1ldGhvZCB3aWxsIGJlIGNhbGxlZFxuICAgIHRoaXMuc2NhbGVJbnRlcnZhbHMgPSBvcHRpb25zLnNjYWxlSW50ZXJ2YWxzID8/IDQ7XG5cbiAgICBpZiAob3B0aW9ucy5zY2FsZSkge1xuICAgICAgLyogY3JlYXRlIHNjYWxlIHdpdGggYXJiaXRyYXJ5IHZhbHVlcywgd2hpY2ggd2lsbCBiZSByZXBsYWNlZCBsYXRlciBieSBQcmVzZW50ZXJcbiAgICAgICAqIGl0IGlzIG5lY2Vzc2FyeSBmb3IgaGFzU2NhbGUoKSByZXR1cm4gdHJ1ZSAqL1xuICAgICAgdGhpcy5zY2FsZSA9IG5ldyBTY2FsZSgwLCAxMDAsIHRoaXMpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLm1pbk1heExhYmVscyB8fCBvcHRpb25zLnZhbHVlTGFiZWxzKSB7XG4gICAgICB0aGlzLmxhYmVsc0NvbnRhaW5lciA9IG5ldyBMYWJlbHNDb250YWluZXIoKTtcblxuICAgICAgaWYgKG9wdGlvbnMubWluTWF4TGFiZWxzKSB7XG4gICAgICAgIHRoaXMubWluTGFiZWwgPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fbWluLW1heC1sYWJlbCByYW5nZS1zbGlkZXJfX21pbi1tYXgtbGFiZWxfbGVmdCcpO1xuICAgICAgICB0aGlzLm1heExhYmVsID0gbmV3IExhYmVsKCdyYW5nZS1zbGlkZXJfX21pbi1tYXgtbGFiZWwgcmFuZ2Utc2xpZGVyX19taW4tbWF4LWxhYmVsX3JpZ2h0Jyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLnZhbHVlTGFiZWxzKSB7XG4gICAgICAgIHRoaXMudmFsdWVMYWJlbExlZnQgPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWwgcmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9sZWZ0Jyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucmFuZ2UpIHtcbiAgICAgICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodCA9IG5ldyBMYWJlbCgncmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbCByYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsX3JpZ2h0Jyk7XG4gICAgICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uID0gbmV3IExhYmVsKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsIHJhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWxfY29tbW9uJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy52ZXJ0aWNhbCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMucGFuZWwpIHtcbiAgICAgIHRoaXMucGFuZWwgPSBuZXcgUGFuZWwodGhpcyk7XG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHN1YnNjcmliZShsaXN0ZW5lcjogSUV2ZW50TGlzdGVuZXIpOiB2b2lkIHtcbiAgICB0aGlzLmV2ZW50TWFuYWdlci5zdWJzY3JpYmUobGlzdGVuZXIpO1xuICB9XG5cbiAgbm90aWZ5KGV2ZW50VHlwZTogc3RyaW5nLCBkYXRhOiBudW1iZXIgfCBudWxsID0gbnVsbCk6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeShldmVudFR5cGUsIGRhdGEpO1xuICB9XG5cbiAgc2V0TWluVmFsdWUobWluOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm1pbkxhYmVsPy5zZXRWYWx1ZShtaW4pO1xuICB9XG5cbiAgc2V0TWF4VmFsdWUobWF4OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm1heExhYmVsPy5zZXRWYWx1ZShtYXgpO1xuICB9XG5cbiAgc2V0TGVmdFZhbHVlKHZhbHVlOiBudW1iZXIsIHBlcmNlbnQ6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy50aHVtYkxlZnQuc2V0SW5kZW50KCdsZWZ0JywgcGVyY2VudCk7XG5cbiAgICAgIGlmICghdGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgICAgdGhpcy5yYW5nZS5zZXRXaWR0aChwZXJjZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCdsZWZ0JywgcGVyY2VudCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudmFsdWVMYWJlbExlZnQ/LnNldEluZGVudCgnbGVmdCcsIHRoaXMudGh1bWJMZWZ0LmdldExlZnRJbmRlbnQoKSk7XG5cbiAgICAgIGlmICh0aGlzLnRodW1iTGVmdC5nZXRMZWZ0SW5kZW50KCkgPT09ICcxMDAlJykge1xuICAgICAgICB0aGlzLnRodW1iTGVmdC5zZXRaSW5kZXgoMTAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudGh1bWJMZWZ0LnNldFpJbmRleCgzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy50aHVtYkxlZnQuc2V0SW5kZW50KCd0b3AnLCAxMDAgLSBwZXJjZW50KTtcblxuICAgICAgaWYgKCF0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgICB0aGlzLnJhbmdlLnNldEhlaWdodChwZXJjZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCdib3R0b20nLCBwZXJjZW50KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdD8uc2V0SW5kZW50KCd0b3AnLCB0aGlzLnRodW1iTGVmdC5nZXRUb3BJbmRlbnQoKSk7XG5cbiAgICAgIGlmICh0aGlzLnRodW1iTGVmdC5nZXRUb3BJbmRlbnQoKSA9PT0gJzAlJykge1xuICAgICAgICB0aGlzLnRodW1iTGVmdC5zZXRaSW5kZXgoMTAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudGh1bWJMZWZ0LnNldFpJbmRleCgzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy52YWx1ZUxhYmVsTGVmdCkge1xuICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdC5zZXRWYWx1ZSh2YWx1ZSk7XG5cbiAgICAgIGlmICh0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgICB0aGlzLnZhbHVlTGFiZWxDb21tb24hLnNldFZhbHVlKGAke3ZhbHVlfSAtICR7dGhpcy52YWx1ZUxhYmVsUmlnaHQhLmdldFZhbHVlKCl9YCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNUd29WYWx1ZUxhYmVsc0Nsb3NlKCkpIHtcbiAgICAgICAgICB0aGlzLm1lcmdlTGFiZWxzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zcGxpdExhYmVscygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmFsdWVMYWJlbExlZnQgJiYgdGhpcy5taW5MYWJlbCkge1xuICAgICAgaWYgKHRoaXMuaXNMZWZ0VmFsdWVMYWJlbENsb3NlVG9NaW5MYWJlbCgpKSB7XG4gICAgICAgIHRoaXMubWluTGFiZWwuc2V0T3BhY2l0eSgwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWluTGFiZWwuc2V0T3BhY2l0eSgxKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgICBpZiAodGhpcy5pc0xlZnRWYWx1ZUxhYmVsQ2xvc2VUb01heExhYmVsKCkpIHtcbiAgICAgICAgICB0aGlzLm1heExhYmVsIS5zZXRPcGFjaXR5KDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubWF4TGFiZWwhLnNldE9wYWNpdHkoMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXRSaWdodFZhbHVlKHZhbHVlOiBudW1iZXIsIHBlcmNlbnQ6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy50aHVtYlJpZ2h0Py5zZXRJbmRlbnQoJ2xlZnQnLCBwZXJjZW50KTtcbiAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCdyaWdodCcsIDEwMCAtIHBlcmNlbnQpO1xuXG4gICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodD8uc2V0SW5kZW50KCdsZWZ0JywgdGhpcy50aHVtYlJpZ2h0IS5nZXRMZWZ0SW5kZW50KCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLnRodW1iUmlnaHQ/LnNldEluZGVudCgndG9wJywgMTAwIC0gcGVyY2VudCk7XG4gICAgICB0aGlzLnJhbmdlLnNldEluZGVudCgndG9wJywgMTAwIC0gcGVyY2VudCk7XG5cbiAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0Py5zZXRJbmRlbnQoJ3RvcCcsIHRoaXMudGh1bWJSaWdodCEuZ2V0VG9wSW5kZW50KCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxSaWdodCkge1xuICAgICAgdGhpcy52YWx1ZUxhYmVsUmlnaHQuc2V0VmFsdWUodmFsdWUpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uIS5zZXRWYWx1ZShgJHt0aGlzLnZhbHVlTGFiZWxMZWZ0IS5nZXRWYWx1ZSgpfSAtICR7dmFsdWV9YCk7XG5cbiAgICAgIGlmICh0aGlzLmlzVHdvVmFsdWVMYWJlbHNDbG9zZSgpKSB7XG4gICAgICAgIHRoaXMubWVyZ2VMYWJlbHMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3BsaXRMYWJlbHMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy52YWx1ZUxhYmVsUmlnaHQgJiYgdGhpcy5tYXhMYWJlbCkge1xuICAgICAgaWYgKHRoaXMuaXNSaWdodFZhbHVlTGFiZWxDbG9zZVRvTWF4TGFiZWwoKSkge1xuICAgICAgICB0aGlzLm1heExhYmVsLnNldE9wYWNpdHkoMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1heExhYmVsLnNldE9wYWNpdHkoMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlSW5wdXQodmFsdWUxOiBudW1iZXIsIHZhbHVlMjogbnVtYmVyIHwgbnVsbCA9IG51bGwpOiB2b2lkIHtcbiAgICB0aGlzLmlucHV0LnNldFZhbHVlKHZhbHVlMSwgdmFsdWUyKTtcbiAgfVxuXG4gIGhhbmRsZUxlZnRJbnB1dChjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlciwgc2hpZnRYOiBudW1iZXIgPSAwLCBzaGlmdFk6IG51bWJlciA9IDApOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgIGNvbnN0IHRyYWNrU2hpZnQgPSB0aGlzLnRyYWNrLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICBsZXQgbmV3TGVmdCA9IGNsaWVudFggLSBzaGlmdFggLSB0cmFja1NoaWZ0O1xuXG4gICAgICBpZiAobmV3TGVmdCA8IDApIHtcbiAgICAgICAgbmV3TGVmdCA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgICAgY29uc3QgdHJhY2tXaWR0aCA9IHRoaXMuZ2V0VHJhY2tXaWR0aCgpO1xuXG4gICAgICAgIGlmIChuZXdMZWZ0ID4gdHJhY2tXaWR0aCkge1xuICAgICAgICAgIG5ld0xlZnQgPSB0cmFja1dpZHRoO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgICBjb25zdCByaWdodFRodW1iU2hpZnQgPSB0aGlzLnRodW1iUmlnaHQhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICAgIGNvbnN0IHJpZ2h0VGh1bWJQb3NpdGlvbiA9IHJpZ2h0VGh1bWJTaGlmdCArIHRoaXMudGh1bWJSaWdodCEuZ2V0V2lkdGgoKSAvIDIgLSB0cmFja1NoaWZ0O1xuXG4gICAgICAgIGlmIChuZXdMZWZ0ID4gcmlnaHRUaHVtYlBvc2l0aW9uKSB7XG4gICAgICAgICAgbmV3TGVmdCA9IHJpZ2h0VGh1bWJQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLm5vdGlmeSgndmlld0lucHV0TGVmdCcsIG5ld0xlZnQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBjb25zdCB0cmFja1NoaWZ0ID0gdGhpcy50cmFjay5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICBsZXQgbmV3VG9wID0gY2xpZW50WSAtIHNoaWZ0WSAtIHRyYWNrU2hpZnQ7XG5cbiAgICAgIGNvbnN0IHRyYWNrSGVpZ2h0ID0gdGhpcy5nZXRUcmFja0hlaWdodCgpO1xuICAgICAgaWYgKG5ld1RvcCA+IHRyYWNrSGVpZ2h0KSB7XG4gICAgICAgIG5ld1RvcCA9IHRyYWNrSGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaXNSYW5nZSgpICYmIG5ld1RvcCA8IDApIHtcbiAgICAgICAgbmV3VG9wID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIGNvbnN0IHJpZ2h0VGh1bWJTaGlmdCA9IHRoaXMudGh1bWJSaWdodCEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgICBjb25zdCByaWdodFRodW1iUG9zaXRpb24gPSByaWdodFRodW1iU2hpZnQgKyB0aGlzLnRodW1iUmlnaHQhLmdldEhlaWdodCgpIC8gMiAtIHRyYWNrU2hpZnQ7XG5cbiAgICAgICAgaWYgKG5ld1RvcCA8IHJpZ2h0VGh1bWJQb3NpdGlvbikge1xuICAgICAgICAgIG5ld1RvcCA9IHJpZ2h0VGh1bWJQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXdCb3R0b20gPSB0cmFja0hlaWdodCAtIG5ld1RvcDtcblxuICAgICAgdGhpcy5ub3RpZnkoJ3ZpZXdJbnB1dExlZnQnLCBuZXdCb3R0b20pO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVJpZ2h0SW5wdXQoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIsIHNoaWZ0WDogbnVtYmVyID0gMCwgc2hpZnRZOiBudW1iZXIgPSAwKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBjb25zdCB0cmFja1NoaWZ0ID0gdGhpcy50cmFjay5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICAgICAgbGV0IG5ld0xlZnQgPSBjbGllbnRYIC0gc2hpZnRYIC0gdHJhY2tTaGlmdDtcblxuICAgICAgY29uc3QgbGVmdFRodW1iU2hpZnQgPSB0aGlzLnRodW1iTGVmdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICAgICAgY29uc3QgbGVmdFRodW1iUG9zaXRpb24gPSBsZWZ0VGh1bWJTaGlmdCArIHRoaXMudGh1bWJMZWZ0LmdldFdpZHRoKCkgLyAyIC0gdHJhY2tTaGlmdDtcblxuICAgICAgaWYgKG5ld0xlZnQgPCBsZWZ0VGh1bWJQb3NpdGlvbikge1xuICAgICAgICBuZXdMZWZ0ID0gbGVmdFRodW1iUG9zaXRpb247XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRyYWNrV2lkdGggPSB0aGlzLmdldFRyYWNrV2lkdGgoKTtcblxuICAgICAgaWYgKG5ld0xlZnQgPiB0cmFja1dpZHRoKSB7XG4gICAgICAgIG5ld0xlZnQgPSB0cmFja1dpZHRoO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm5vdGlmeSgndmlld0lucHV0UmlnaHQnLCBuZXdMZWZ0KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgY29uc3QgdHJhY2tTaGlmdCA9IHRoaXMudHJhY2suZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgbGV0IG5ld1RvcCA9IGNsaWVudFkgLSBzaGlmdFkgLSB0cmFja1NoaWZ0O1xuXG4gICAgICBpZiAobmV3VG9wIDwgMCkge1xuICAgICAgICBuZXdUb3AgPSAwO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBsZWZ0VGh1bWJTaGlmdCA9IHRoaXMudGh1bWJMZWZ0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgIGNvbnN0IGxlZnRUaHVtYlBvc2l0aW9uID0gbGVmdFRodW1iU2hpZnQgKyB0aGlzLnRodW1iTGVmdC5nZXRIZWlnaHQoKSAvIDIgLSB0cmFja1NoaWZ0O1xuXG4gICAgICBpZiAobmV3VG9wID4gbGVmdFRodW1iUG9zaXRpb24pIHtcbiAgICAgICAgbmV3VG9wID0gbGVmdFRodW1iUG9zaXRpb247XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5ld0JvdHRvbSA9IHRoaXMuZ2V0VHJhY2tIZWlnaHQoKSAtIG5ld1RvcDtcblxuICAgICAgdGhpcy5ub3RpZnkoJ3ZpZXdJbnB1dFJpZ2h0JywgbmV3Qm90dG9tKTtcbiAgICB9XG4gIH1cblxuICBhZGRTY2FsZShtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnNjYWxlID0gbmV3IFNjYWxlKG1pbiwgbWF4LCB0aGlzKTtcbiAgICB0aGlzLnNsaWRlci5hZnRlcih0aGlzLnNjYWxlLmdldENvbXBvbmVudCgpKTtcblxuICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy5zY2FsZS5maXRIZWlnaHRGb3JIb3Jpem9udGFsKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMuc2NhbGUuZml0V2lkdGhGb3JWZXJ0aWNhbCgpO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZVNjYWxlKCk6IHZvaWQge1xuICAgIHRoaXMuc2NhbGU/LmdldENvbXBvbmVudCgpLnJlbW92ZSgpO1xuICAgIHRoaXMuc2NhbGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBnZXRTY2FsZSgpOiBTY2FsZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuc2NhbGU7XG4gIH1cblxuICBnZXRTY2FsZUludGVydmFscygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnNjYWxlSW50ZXJ2YWxzIHx8IDA7XG4gIH1cblxuICBoYW5kbGVTY2FsZU9yVHJhY2tDbGljayh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgIHRoaXMuYWRkU21vb3RoVHJhbnNpdGlvbignbGVmdCcpO1xuXG4gICAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgICAgdGhpcy5ub3RpZnkoJ3ZpZXdJbnB1dExlZnQnLCB4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubm90aWZ5KCd2aWV3SW5wdXRMZWZ0JywgdGhpcy5nZXRUcmFja0hlaWdodCgpIC0geSk7XG4gICAgICB9XG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnJlbW92ZVNtb290aFRyYW5zaXRpb24oJ2xlZnQnKTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgaWYgKHRoaXMud2hpY2hUaHVtYklzTmVhcmVyKHgsIHkpID09PSAnbGVmdCcpIHtcbiAgICAgICAgdGhpcy5hZGRTbW9vdGhUcmFuc2l0aW9uKCdsZWZ0Jyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgdGhpcy5ub3RpZnkoJ3ZpZXdJbnB1dExlZnQnLCB4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm5vdGlmeSgndmlld0lucHV0TGVmdCcsIHRoaXMuZ2V0VHJhY2tIZWlnaHQoKSAtIHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVTbW9vdGhUcmFuc2l0aW9uKCdsZWZ0Jyk7XG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hZGRTbW9vdGhUcmFuc2l0aW9uKCdyaWdodCcpO1xuXG4gICAgICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICAgIHRoaXMubm90aWZ5KCd2aWV3SW5wdXRSaWdodCcsIHgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubm90aWZ5KCd2aWV3SW5wdXRSaWdodCcsIHRoaXMuZ2V0VHJhY2tIZWlnaHQoKSAtIHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVTbW9vdGhUcmFuc2l0aW9uKCdyaWdodCcpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmaXhMYWJlbHNDb250YWluZXJXaWR0aEZvclZlcnRpY2FsKCk6IHZvaWQge1xuICAgIGNvbnN0IGxhYmVsczogSFRNTEVsZW1lbnRbXSA9IHRoaXMuY29sbGVjdExhYmVscygpO1xuICAgIHRoaXMubGFiZWxzQ29udGFpbmVyPy5maXhXaWR0aEZvclZlcnRpY2FsKGxhYmVscyk7XG4gIH1cblxuICBmaXhMYWJlbHNDb250YWluZXJIZWlnaHRGb3JIb3Jpem9udGFsKCk6IHZvaWQge1xuICAgIGNvbnN0IGxhYmVsczogSFRNTEVsZW1lbnRbXSA9IHRoaXMuY29sbGVjdExhYmVscygpO1xuICAgIHRoaXMubGFiZWxzQ29udGFpbmVyPy5maXhIZWlnaHRGb3JIb3Jpem9udGFsKGxhYmVscyk7XG4gIH1cblxuICBzZXRQYW5lbFZhbHVlcyhvcHRpb25zOiBQYW5lbE9wdGlvbnMpOiB2b2lkIHtcbiAgICB0aGlzLnBhbmVsPy5zZXRWYWx1ZXMob3B0aW9ucyk7XG4gIH1cblxuICB1cGRhdGVQYW5lbEZyb20odmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMucGFuZWw/LnVwZGF0ZUZyb20odmFsdWUpO1xuICB9XG5cbiAgdXBkYXRlUGFuZWxUbyh2YWx1ZTogbnVtYmVyIHwgJycpOiB2b2lkIHtcbiAgICB0aGlzLnBhbmVsPy51cGRhdGVUbyh2YWx1ZSk7XG4gIH1cblxuICB1cGRhdGVQYW5lbFNjYWxlSW50ZXJ2YWxzKHZhbHVlOiBudW1iZXIgfCAnJyk6IHZvaWQge1xuICAgIHRoaXMucGFuZWw/LnVwZGF0ZVNjYWxlSW50ZXJ2YWxzKHZhbHVlKTtcbiAgfVxuXG4gIHVwZGF0ZVBhbmVsU3RlcCh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5wYW5lbD8udXBkYXRlU3RlcCh2YWx1ZSk7XG4gIH1cblxuICB1cGRhdGVQYW5lbE1pbih2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5wYW5lbD8udXBkYXRlTWluKHZhbHVlKTtcbiAgfVxuXG4gIHVwZGF0ZVBhbmVsTWF4KHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnBhbmVsPy51cGRhdGVNYXgodmFsdWUpO1xuICB9XG5cbiAgY2hhbmdlTGVmdFZhbHVlRnJvbU91dHNpZGUodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubm90aWZ5KCd2aWV3U2V0TGVmdEZyb21PdXRzaWRlJywgdmFsdWUpO1xuICB9XG5cbiAgY2hhbmdlUmlnaHRWYWx1ZUZyb21PdXRzaWRlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm5vdGlmeSgndmlld1NldFJpZ2h0RnJvbU91dHNpZGUnLCB2YWx1ZSk7XG4gIH1cblxuICBjaGFuZ2VNaW5Gcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5ub3RpZnkoJ3ZpZXdTZXRNaW4nLCB2YWx1ZSk7XG4gIH1cblxuICBjaGFuZ2VNYXhGcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5ub3RpZnkoJ3ZpZXdTZXRNYXgnLCB2YWx1ZSk7XG4gIH1cblxuICBjaGFuZ2VTdGVwRnJvbU91dHNpZGUodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubm90aWZ5KCd2aWV3U2V0U3RlcCcsIHZhbHVlKTtcbiAgfVxuXG4gIGNoYW5nZU9yaWVudGF0aW9uRnJvbU91dHNpZGUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLnZlcnRpY2FsID0gdHJ1ZTtcbiAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIHRoaXMudGh1bWJMZWZ0LnNldEluZGVudCgnbGVmdCcsIDApO1xuICAgICAgdGhpcy50aHVtYlJpZ2h0Py5zZXRJbmRlbnQoJ2xlZnQnLCAwKTtcbiAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCdsZWZ0JywgMCk7XG4gICAgICB0aGlzLnJhbmdlLnNldEluZGVudCgncmlnaHQnLCAwKTtcbiAgICAgIHRoaXMucmFuZ2UucmVzZXRUb3BJbmRlbnQoKTtcbiAgICAgIHRoaXMucmFuZ2UucmVzZXRXaWR0aCgpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdD8uc2V0SW5kZW50KCdsZWZ0JywgJ3Vuc2V0Jyk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodD8uc2V0SW5kZW50KCdsZWZ0JywgJ3Vuc2V0Jyk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxDb21tb24/LnNldEluZGVudCgnbGVmdCcsICd1bnNldCcpO1xuICAgICAgdGhpcy5zY2FsZT8uaGFuZGxlU3dpdGNoRnJvbUhvcml6b250YWxUb1ZlcnRpY2FsKCk7XG4gICAgICB0aGlzLm5vdGlmeSgndmlld1RvZ2dsZU9yaWVudGF0aW9uJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMudmVydGljYWwgPSBmYWxzZTtcbiAgICAgIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3JhbmdlLXNsaWRlcl92ZXJ0aWNhbCcpO1xuICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgdGhpcy50aHVtYkxlZnQuc2V0SW5kZW50KCd0b3AnLCAwKTtcbiAgICAgIHRoaXMudGh1bWJSaWdodD8uc2V0SW5kZW50KCd0b3AnLCAwKTtcbiAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCdib3R0b20nLCAwKTtcbiAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCd0b3AnLCAwKTtcbiAgICAgIHRoaXMucmFuZ2UucmVzZXRIZWlnaHQoKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbExlZnQ/LnNldEluZGVudCgndG9wJywgJ3Vuc2V0Jyk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodD8uc2V0SW5kZW50KCd0b3AnLCAndW5zZXQnKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbj8uc2V0SW5kZW50KCd0b3AnLCAndW5zZXQnKTtcbiAgICAgIHRoaXMuc2NhbGU/LmhhbmRsZVN3aXRjaEZyb21WZXJ0aWNhbFRvSG9yaXpvbnRhbCgpO1xuICAgICAgdGhpcy5ub3RpZnkoJ3ZpZXdUb2dnbGVPcmllbnRhdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZVJhbmdlRnJvbU91dHNpZGUoKTogdm9pZCB7XG4gICAgY29uc3QgaXNSYW5nZSA9ICF0aGlzLmlzUmFuZ2UoKTtcblxuICAgIGlmIChpc1JhbmdlKSB7XG4gICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMudGh1bWJSaWdodCA9IG5ldyBUaHVtYih0aGlzLCAncmlnaHQnKTtcblxuICAgICAgaWYgKHRoaXMudmFsdWVMYWJlbExlZnQpIHtcbiAgICAgICAgdGhpcy52YWx1ZUxhYmVsUmlnaHQgPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWwgcmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9yaWdodCcpO1xuICAgICAgICB0aGlzLnZhbHVlTGFiZWxDb21tb24gPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWwgcmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9jb21tb24nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMucmFuZ2UucmVzZXRXaWR0aCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLnJhbmdlLnJlc2V0SGVpZ2h0KCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpc1JhbmdlKSB7XG4gICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLnJhbmdlLnJlc2V0VG9wSW5kZW50KCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgdGhpcy50aHVtYlJpZ2h0ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICB0aGlzLm5vdGlmeSgndmlld1RvZ2dsZVJhbmdlJyk7XG4gIH1cblxuICB0b2dnbGVTY2FsZUZyb21PdXRzaWRlKCk6IHZvaWQge1xuICAgIHRoaXMubm90aWZ5KCd2aWV3VG9nZ2xlU2NhbGUnKTtcbiAgfVxuXG4gIGNoYW5nZVNjYWxlSW50ZXJ2YWxzKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodmFsdWUgPD0gMCkgcmV0dXJuO1xuXG4gICAgdGhpcy5zY2FsZUludGVydmFscyA9IE1hdGguZmxvb3IodmFsdWUpO1xuICAgIHRoaXMucmVtb3ZlU2NhbGUoKTtcbiAgICB0aGlzLm5vdGlmeSgndmlld1NldFNjYWxlSW50ZXJ2YWxzJyk7XG4gIH1cblxuICB0b2dnbGVWYWx1ZUxhYmVscygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy52YWx1ZUxhYmVsTGVmdCkge1xuICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdC5yZW1vdmUoKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0Py5yZW1vdmUoKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbj8ucmVtb3ZlKCk7XG5cbiAgICAgIHRoaXMudmFsdWVMYWJlbExlZnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbiA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKHRoaXMubWluTGFiZWwpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgdGhpcy5maXhMYWJlbHNDb250YWluZXJIZWlnaHRGb3JIb3Jpem9udGFsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICAgIHRoaXMuZml4TGFiZWxzQ29udGFpbmVyV2lkdGhGb3JWZXJ0aWNhbCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5taW5MYWJlbCkge1xuICAgICAgICB0aGlzLmxhYmVsc0NvbnRhaW5lcj8ucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnZhbHVlTGFiZWxMZWZ0KSB7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0ID0gbmV3IExhYmVsKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsIHJhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWxfbGVmdCcpO1xuXG4gICAgICBpZiAoIXRoaXMubGFiZWxzQ29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyID0gbmV3IExhYmVsc0NvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLnNsaWRlci5iZWZvcmUodGhpcy5sYWJlbHNDb250YWluZXIuZ2V0Q29tcG9uZW50KCkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxhYmVsc0NvbnRhaW5lci5hcHBlbmQodGhpcy52YWx1ZUxhYmVsTGVmdC5nZXRDb21wb25lbnQoKSk7XG5cbiAgICAgIGlmICh0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodCA9IG5ldyBMYWJlbCgncmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbCByYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsX3JpZ2h0Jyk7XG4gICAgICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbiA9IG5ldyBMYWJlbCgncmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbCByYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsX2NvbW1vbicpO1xuXG4gICAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyXG4gICAgICAgICAgLmFwcGVuZCh0aGlzLnZhbHVlTGFiZWxSaWdodCEuZ2V0Q29tcG9uZW50KCksIHRoaXMudmFsdWVMYWJlbENvbW1vbiEuZ2V0Q29tcG9uZW50KCkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm5vdGlmeSgndmlld0FkZFZhbHVlTGFiZWxzJyk7XG5cbiAgICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLmZpeExhYmVsc0NvbnRhaW5lckhlaWdodEZvckhvcml6b250YWwoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgdGhpcy5maXhMYWJlbHNDb250YWluZXJXaWR0aEZvclZlcnRpY2FsKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlTWluTWF4TGFiZWxzKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm1pbkxhYmVsKSB7XG4gICAgICB0aGlzLm1pbkxhYmVsLnJlbW92ZSgpO1xuICAgICAgdGhpcy5tYXhMYWJlbD8ucmVtb3ZlKCk7XG5cbiAgICAgIHRoaXMubWluTGFiZWwgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLm1heExhYmVsID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAodGhpcy52YWx1ZUxhYmVsTGVmdCkge1xuICAgICAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgICAgICB0aGlzLmZpeExhYmVsc0NvbnRhaW5lckhlaWdodEZvckhvcml6b250YWwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgdGhpcy5maXhMYWJlbHNDb250YWluZXJXaWR0aEZvclZlcnRpY2FsKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnZhbHVlTGFiZWxMZWZ0KSB7XG4gICAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyPy5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXIgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMubWluTGFiZWwpIHtcbiAgICAgIHRoaXMubWluTGFiZWwgPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fbWluLW1heC1sYWJlbCByYW5nZS1zbGlkZXJfX21pbi1tYXgtbGFiZWxfbGVmdCcpO1xuICAgICAgdGhpcy5tYXhMYWJlbCA9IG5ldyBMYWJlbCgncmFuZ2Utc2xpZGVyX19taW4tbWF4LWxhYmVsIHJhbmdlLXNsaWRlcl9fbWluLW1heC1sYWJlbF9yaWdodCcpO1xuXG4gICAgICBpZiAoIXRoaXMubGFiZWxzQ29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyID0gbmV3IExhYmVsc0NvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLnNsaWRlci5iZWZvcmUodGhpcy5sYWJlbHNDb250YWluZXIuZ2V0Q29tcG9uZW50KCkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxhYmVsc0NvbnRhaW5lci5hcHBlbmQodGhpcy5taW5MYWJlbC5nZXRDb21wb25lbnQoKSwgdGhpcy5tYXhMYWJlbC5nZXRDb21wb25lbnQoKSk7XG5cbiAgICAgIHRoaXMubm90aWZ5KCd2aWV3QWRkTWluTWF4TGFiZWxzJyk7XG5cbiAgICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLmZpeExhYmVsc0NvbnRhaW5lckhlaWdodEZvckhvcml6b250YWwoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgdGhpcy5maXhMYWJlbHNDb250YWluZXJXaWR0aEZvclZlcnRpY2FsKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFzTGFiZWxzKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxMZWZ0IHx8IHRoaXMubWluTGFiZWwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBoYXNTY2FsZSgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5zY2FsZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGhhc01pbk1heExhYmVscygpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5tYXhMYWJlbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGhhc1ZhbHVlTGFiZWxzKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxMZWZ0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaGFzUGFuZWwoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMucGFuZWwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpc1JhbmdlKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnRodW1iUmlnaHQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpc1ZlcnRpY2FsKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZ2V0VHJhY2tXaWR0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnRyYWNrLmdldFdpZHRoKCk7XG4gIH1cblxuICBnZXRUcmFja0hlaWdodCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnRyYWNrLmdldEhlaWdodCgpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXIoKTogdm9pZCB7XG4gICAgY29uc3QgZnJhZ21lbnQgPSBuZXcgRG9jdW1lbnRGcmFnbWVudCgpO1xuXG4gICAgdGhpcy50cmFjay5hcHBlbmQodGhpcy5yYW5nZS5nZXRDb21wb25lbnQoKSk7XG4gICAgdGhpcy5zbGlkZXIuYXBwZW5kKHRoaXMudHJhY2suZ2V0Q29tcG9uZW50KCksIHRoaXMudGh1bWJMZWZ0LmdldENvbXBvbmVudCgpKTtcbiAgICBmcmFnbWVudC5hcHBlbmQodGhpcy5zbGlkZXIsIHRoaXMuaW5wdXQuZ2V0Q29tcG9uZW50KCkpO1xuXG4gICAgaWYgKHRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICB0aGlzLnNsaWRlci5hcHBlbmQodGhpcy50aHVtYlJpZ2h0IS5nZXRDb21wb25lbnQoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLnJhbmdlLnNldEluZGVudCgnbGVmdCcsIDApO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLnJhbmdlLnNldEluZGVudCgnYm90dG9tJywgMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubWluTGFiZWwgJiYgdGhpcy5tYXhMYWJlbCkge1xuICAgICAgdGhpcy5sYWJlbHNDb250YWluZXIhLmFwcGVuZCh0aGlzLm1pbkxhYmVsLmdldENvbXBvbmVudCgpLCB0aGlzLm1heExhYmVsLmdldENvbXBvbmVudCgpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52YWx1ZUxhYmVsTGVmdCkge1xuICAgICAgdGhpcy5sYWJlbHNDb250YWluZXIhLmFwcGVuZCh0aGlzLnZhbHVlTGFiZWxMZWZ0LmdldENvbXBvbmVudCgpKTtcblxuICAgICAgaWYgKHRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyIVxuICAgICAgICAgIC5hcHBlbmQodGhpcy52YWx1ZUxhYmVsUmlnaHQhLmdldENvbXBvbmVudCgpLCB0aGlzLnZhbHVlTGFiZWxDb21tb24hLmdldENvbXBvbmVudCgpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5sYWJlbHNDb250YWluZXIpIHtcbiAgICAgIHRoaXMuc2xpZGVyLmJlZm9yZSh0aGlzLmxhYmVsc0NvbnRhaW5lci5nZXRDb21wb25lbnQoKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoJ3JhbmdlLXNsaWRlcl92ZXJ0aWNhbCcpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBhbmVsKSB7XG4gICAgICBjb25zdCBwYW5lbFdyYXBwZXIgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2RpdicsICdyYW5nZS1zbGlkZXJfX3BhbmVsJyk7XG4gICAgICBwYW5lbFdyYXBwZXIuYXBwZW5kKHRoaXMucGFuZWwuZ2V0Q29tcG9uZW50KCkpO1xuICAgICAgZnJhZ21lbnQuYXBwZW5kKHBhbmVsV3JhcHBlcik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2NhbGUpIHtcbiAgICAgIHRoaXMuc2xpZGVyLmFmdGVyKHRoaXMuc2NhbGUuZ2V0Q29tcG9uZW50KCkpO1xuICAgIH1cblxuICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZChmcmFnbWVudCk7XG4gIH1cblxuICBwcml2YXRlIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubGFiZWxzQ29udGFpbmVyKSB7XG4gICAgICBbLi4udGhpcy5sYWJlbHNDb250YWluZXIuZ2V0Q29tcG9uZW50KCkuY2hpbGRyZW5dLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIFsuLi50aGlzLnNsaWRlci5jaGlsZHJlbl0uZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICB9KTtcblxuICAgIFsuLi50aGlzLmNvbXBvbmVudC5jaGlsZHJlbl0uZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgbWVyZ2VMYWJlbHMoKTogdm9pZCB7XG4gICAgdGhpcy52YWx1ZUxhYmVsTGVmdD8uc2V0T3BhY2l0eSgwKTtcbiAgICB0aGlzLnZhbHVlTGFiZWxSaWdodD8uc2V0T3BhY2l0eSgwKTtcbiAgICB0aGlzLnZhbHVlTGFiZWxDb21tb24/LnNldE9wYWNpdHkoMSk7XG5cbiAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgIGNvbnN0IGRpc3RhbmNlQmV0d2VlblRodW1icyA9IChcbiAgICAgICAgcGFyc2VJbnQodGhpcy50aHVtYlJpZ2h0IS5nZXRMZWZ0SW5kZW50KCksIDEwKVxuICAgICAgICAtIHBhcnNlSW50KHRoaXMudGh1bWJMZWZ0LmdldExlZnRJbmRlbnQoKSwgMTApXG4gICAgICApO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uPy5zZXRJbmRlbnQoJ2xlZnQnLCBgJHtwYXJzZUludCh0aGlzLnZhbHVlTGFiZWxMZWZ0IS5nZXRMZWZ0SW5kZW50KCksIDEwKSArIGRpc3RhbmNlQmV0d2VlblRodW1icyAvIDJ9JWApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBjb25zdCBkaXN0YW5jZUJldHdlZW5UaHVtYnMgPSAoXG4gICAgICAgIHBhcnNlSW50KHRoaXMudGh1bWJSaWdodCEuZ2V0VG9wSW5kZW50KCksIDEwKSAtIHBhcnNlSW50KHRoaXMudGh1bWJMZWZ0LmdldFRvcEluZGVudCgpLCAxMClcbiAgICAgICk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxDb21tb24/LnNldEluZGVudCgndG9wJywgYCR7cGFyc2VJbnQodGhpcy52YWx1ZUxhYmVsUmlnaHQhLmdldFRvcEluZGVudCgpLCAxMCkgLSBkaXN0YW5jZUJldHdlZW5UaHVtYnMgLyAyfSVgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNwbGl0TGFiZWxzKCk6IHZvaWQge1xuICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbj8uc2V0T3BhY2l0eSgwKTtcbiAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0Py5zZXRPcGFjaXR5KDEpO1xuICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0Py5zZXRPcGFjaXR5KDEpO1xuICB9XG5cbiAgcHJpdmF0ZSBpc1R3b0xhYmVsc0Nsb3NlKGxhYmVsMTogTGFiZWwsIGxhYmVsMjogTGFiZWwpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgY29uc3QgYm90dG9tTGFiZWxFZGdlID0gbGFiZWwxLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgIGNvbnN0IHRvcExhYmVsRWRnZSA9IGxhYmVsMi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207XG5cbiAgICAgIHJldHVybiAoKGJvdHRvbUxhYmVsRWRnZSAtIHRvcExhYmVsRWRnZSkgPCAzKTtcbiAgICB9XG5cbiAgICBjb25zdCBsZWZ0TGFiZWxFZGdlID0gbGFiZWwxLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0O1xuICAgIGNvbnN0IHJpZ2h0TGFiZWxFZGdlID0gbGFiZWwyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG5cbiAgICByZXR1cm4gKChyaWdodExhYmVsRWRnZSAtIGxlZnRMYWJlbEVkZ2UpIDwgMyk7XG4gIH1cblxuICBwcml2YXRlIGlzVHdvVmFsdWVMYWJlbHNDbG9zZSgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy52YWx1ZUxhYmVsTGVmdCAmJiB0aGlzLnZhbHVlTGFiZWxSaWdodCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNUd29MYWJlbHNDbG9zZSh0aGlzLnZhbHVlTGFiZWxMZWZ0LCB0aGlzLnZhbHVlTGFiZWxSaWdodCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0xlZnRWYWx1ZUxhYmVsQ2xvc2VUb01pbkxhYmVsKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLm1pbkxhYmVsICYmIHRoaXMudmFsdWVMYWJlbExlZnQpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVHdvTGFiZWxzQ2xvc2UodGhpcy5taW5MYWJlbCwgdGhpcy52YWx1ZUxhYmVsTGVmdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0xlZnRWYWx1ZUxhYmVsQ2xvc2VUb01heExhYmVsKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxMZWZ0ICYmIHRoaXMubWF4TGFiZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVHdvTGFiZWxzQ2xvc2UodGhpcy52YWx1ZUxhYmVsTGVmdCwgdGhpcy5tYXhMYWJlbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBpc1JpZ2h0VmFsdWVMYWJlbENsb3NlVG9NYXhMYWJlbCgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy52YWx1ZUxhYmVsUmlnaHQgJiYgdGhpcy5tYXhMYWJlbCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNUd29MYWJlbHNDbG9zZSh0aGlzLnZhbHVlTGFiZWxSaWdodCwgdGhpcy5tYXhMYWJlbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSB3aGljaFRodW1iSXNOZWFyZXIoeDogbnVtYmVyLCB5OiBudW1iZXIpOiAnbGVmdCcgfCAncmlnaHQnIHtcbiAgICBjb25zdCBsZWZ0VGh1bWJDb29yZHMgPSB0aGlzLnRodW1iTGVmdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCByaWdodFRodW1iQ29vcmRzID0gdGhpcy50aHVtYlJpZ2h0IS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCB0cmFja0Nvb3JkcyA9IHRoaXMudHJhY2suZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBsZXQgZGlzdGFuY2VGcm9tTGVmdFRodW1iQ2VudGVyOiBudW1iZXIgPSAwO1xuICAgIGxldCBkaXN0YW5jZUZyb21SaWdodFRodW1iQ2VudGVyOiBudW1iZXIgPSAwO1xuXG4gICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBjb25zdCBsZWZ0VGh1bWJDZW50ZXIgPSBsZWZ0VGh1bWJDb29yZHMubGVmdCArIGxlZnRUaHVtYkNvb3Jkcy53aWR0aCAvIDIgLSB0cmFja0Nvb3Jkcy5sZWZ0O1xuICAgICAgY29uc3QgcmlnaHRUaHVtYkNlbnRlciA9IHJpZ2h0VGh1bWJDb29yZHMubGVmdFxuICAgICAgICArIHJpZ2h0VGh1bWJDb29yZHMud2lkdGggLyAyXG4gICAgICAgIC0gdHJhY2tDb29yZHMubGVmdDtcblxuICAgICAgZGlzdGFuY2VGcm9tTGVmdFRodW1iQ2VudGVyID0gTWF0aC5hYnMoeCAtIGxlZnRUaHVtYkNlbnRlcik7XG4gICAgICBkaXN0YW5jZUZyb21SaWdodFRodW1iQ2VudGVyID0gTWF0aC5hYnMoeCAtIHJpZ2h0VGh1bWJDZW50ZXIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBjb25zdCBsZWZ0VGh1bWJDZW50ZXIgPSBsZWZ0VGh1bWJDb29yZHMudG9wICsgbGVmdFRodW1iQ29vcmRzLmhlaWdodCAvIDIgLSB0cmFja0Nvb3Jkcy50b3A7XG4gICAgICBjb25zdCByaWdodFRodW1iQ2VudGVyID0gcmlnaHRUaHVtYkNvb3Jkcy50b3AgKyByaWdodFRodW1iQ29vcmRzLmhlaWdodCAvIDIgLSB0cmFja0Nvb3Jkcy50b3A7XG5cbiAgICAgIGRpc3RhbmNlRnJvbUxlZnRUaHVtYkNlbnRlciA9IE1hdGguYWJzKHkgLSBsZWZ0VGh1bWJDZW50ZXIpO1xuICAgICAgZGlzdGFuY2VGcm9tUmlnaHRUaHVtYkNlbnRlciA9IE1hdGguYWJzKHkgLSByaWdodFRodW1iQ2VudGVyKTtcbiAgICB9XG5cbiAgICBpZiAoZGlzdGFuY2VGcm9tTGVmdFRodW1iQ2VudGVyIDw9IGRpc3RhbmNlRnJvbVJpZ2h0VGh1bWJDZW50ZXIpIHtcbiAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgfVxuXG4gICAgcmV0dXJuICdyaWdodCc7XG4gIH1cblxuICBwcml2YXRlIGFkZFNtb290aFRyYW5zaXRpb24oc2lkZTogJ2xlZnQnIHwgJ3JpZ2h0JyA9ICdsZWZ0Jyk6IHZvaWQge1xuICAgIGlmIChzaWRlID09PSAnbGVmdCcpIHtcbiAgICAgIHRoaXMudGh1bWJMZWZ0LmdldENvbXBvbmVudCgpLmNsYXNzTGlzdC5hZGQoJ3JhbmdlLXNsaWRlcl9fdGh1bWJfc21vb3RoLXRyYW5zaXRpb24nKTtcbiAgICAgIHRoaXMucmFuZ2UuZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LmFkZCgncmFuZ2Utc2xpZGVyX19yYW5nZV9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdD8uZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LmFkZCgncmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgIH1cblxuICAgIGlmIChzaWRlID09PSAncmlnaHQnKSB7XG4gICAgICB0aGlzLnRodW1iUmlnaHQhLmdldENvbXBvbmVudCgpLmNsYXNzTGlzdC5hZGQoJ3JhbmdlLXNsaWRlcl9fdGh1bWJfc21vb3RoLXRyYW5zaXRpb24nKTtcbiAgICAgIHRoaXMucmFuZ2UuZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LmFkZCgncmFuZ2Utc2xpZGVyX19yYW5nZV9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsUmlnaHQ/LmdldENvbXBvbmVudCgpLmNsYXNzTGlzdC5hZGQoJ3JhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWxfc21vb3RoLXRyYW5zaXRpb24nKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZVNtb290aFRyYW5zaXRpb24oc2lkZTogJ2xlZnQnIHwgJ3JpZ2h0JyA9ICdsZWZ0Jyk6IHZvaWQge1xuICAgIGlmIChzaWRlID09PSAnbGVmdCcpIHtcbiAgICAgIHRoaXMudGh1bWJMZWZ0LmdldENvbXBvbmVudCgpLmNsYXNzTGlzdC5yZW1vdmUoJ3JhbmdlLXNsaWRlcl9fdGh1bWJfc21vb3RoLXRyYW5zaXRpb24nKTtcbiAgICAgIHRoaXMucmFuZ2UuZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2Utc2xpZGVyX19yYW5nZV9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdD8uZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgIH1cblxuICAgIGlmIChzaWRlID09PSAncmlnaHQnKSB7XG4gICAgICB0aGlzLnRodW1iUmlnaHQhLmdldENvbXBvbmVudCgpLmNsYXNzTGlzdC5yZW1vdmUoJ3JhbmdlLXNsaWRlcl9fdGh1bWJfc21vb3RoLXRyYW5zaXRpb24nKTtcbiAgICAgIHRoaXMucmFuZ2UuZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2Utc2xpZGVyX19yYW5nZV9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsUmlnaHQ/LmdldENvbXBvbmVudCgpLmNsYXNzTGlzdC5yZW1vdmUoJ3JhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWxfc21vb3RoLXRyYW5zaXRpb24nKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbGxlY3RMYWJlbHMoKTogSFRNTEVsZW1lbnRbXSB7XG4gICAgY29uc3QgbGFiZWxzOiBIVE1MRWxlbWVudFtdID0gW107XG5cbiAgICBpZiAodGhpcy5taW5MYWJlbCAmJiB0aGlzLm1heExhYmVsKSB7XG4gICAgICBsYWJlbHMucHVzaCh0aGlzLm1pbkxhYmVsLmdldENvbXBvbmVudCgpKTtcbiAgICAgIGxhYmVscy5wdXNoKHRoaXMubWF4TGFiZWwuZ2V0Q29tcG9uZW50KCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxMZWZ0KSB7XG4gICAgICBsYWJlbHMucHVzaCh0aGlzLnZhbHVlTGFiZWxMZWZ0LmdldENvbXBvbmVudCgpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52YWx1ZUxhYmVsUmlnaHQpIHtcbiAgICAgIGxhYmVscy5wdXNoKHRoaXMudmFsdWVMYWJlbFJpZ2h0LmdldENvbXBvbmVudCgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGFiZWxzO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZXc7XG4iLCJpbXBvcnQgTW9kZWwgZnJvbSAnLi4vTW9kZWwvTW9kZWwnO1xuaW1wb3J0IFZpZXcgZnJvbSAnLi4vVmlldy9WaWV3JztcbmltcG9ydCB7IElFdmVudExpc3RlbmVyIH0gZnJvbSAnLi4vRXZlbnRNYW5hZ2VyL0V2ZW50TWFuYWdlcic7XG5cbmNsYXNzIFByZXNlbnRlciBpbXBsZW1lbnRzIElFdmVudExpc3RlbmVyIHtcbiAgcHJpdmF0ZSBtb2RlbDogTW9kZWw7XG5cbiAgcHJpdmF0ZSB2aWV3OiBWaWV3O1xuXG4gIGNvbnN0cnVjdG9yKG1vZGVsOiBNb2RlbCwgdmlldzogVmlldykge1xuICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICB0aGlzLnZpZXcgPSB2aWV3O1xuXG4gICAgdGhpcy5pbml0Vmlld1ZhbHVlcygpO1xuICAgIHRoaXMubW9kZWwuc3Vic2NyaWJlKHRoaXMpO1xuICAgIHRoaXMudmlldy5zdWJzY3JpYmUodGhpcyk7XG4gIH1cblxuICBpbmZvcm0oZXZlbnRUeXBlOiBzdHJpbmcsIGRhdGE6IG51bWJlciB8IG51bGwgPSBudWxsKTogdm9pZCB7XG4gICAgc3dpdGNoIChldmVudFR5cGUpIHtcbiAgICAgIGNhc2UgJ3ZpZXdJbnB1dExlZnQnOlxuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVWaWV3SW5wdXRMZWZ0KGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlld0lucHV0UmlnaHQnOlxuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVWaWV3SW5wdXRSaWdodChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZXdTZXRMZWZ0RnJvbU91dHNpZGUnOlxuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVWaWV3U2V0TGVmdEZyb21PdXRzaWRlKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlld1NldFJpZ2h0RnJvbU91dHNpZGUnOlxuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVWaWV3U2V0UmlnaHRGcm9tT3V0c2lkZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZXdTZXRNaW4nOlxuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVWaWV3U2V0TWluKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlld1NldE1heCc6XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVZpZXdTZXRNYXgoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3U2V0U3RlcCc6XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVZpZXdTZXRTdGVwKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlld1RvZ2dsZU9yaWVudGF0aW9uJzpcbiAgICAgICAgdGhpcy5oYW5kbGVWaWV3VG9nZ2xlT3JpZW50YXRpb24oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3VG9nZ2xlUmFuZ2UnOlxuICAgICAgICB0aGlzLmhhbmRsZVZpZXdUb2dnbGVSYW5nZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZXdUb2dnbGVTY2FsZSc6XG4gICAgICAgIHRoaXMuaGFuZGxlVmlld1RvZ2dsZVNjYWxlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlld1NldFNjYWxlSW50ZXJ2YWxzJzpcbiAgICAgICAgdGhpcy5oYW5kbGVWaWV3U2V0U2NhbGVJbnRlcnZhbHMoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3QWRkVmFsdWVMYWJlbHMnOlxuICAgICAgICB0aGlzLmhhbmRsZVZpZXdBZGRWYWx1ZUxhYmVscygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZXdBZGRNaW5NYXhMYWJlbHMnOlxuICAgICAgICB0aGlzLmhhbmRsZVZpZXdBZGRNaW5NYXhMYWJlbHMoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ21vZGVsU2V0TGVmdCc6XG4gICAgICAgIHRoaXMuaGFuZGxlTW9kZWxTZXRMZWZ0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbW9kZWxTZXRSaWdodCc6XG4gICAgICAgIHRoaXMuaGFuZGxlTW9kZWxTZXRSaWdodCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21vZGVsU2V0TWluJzpcbiAgICAgICAgdGhpcy5oYW5kbGVNb2RlbFNldE1pbigpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21vZGVsU2V0TWF4JzpcbiAgICAgICAgdGhpcy5oYW5kbGVNb2RlbFNldE1heCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21vZGVsVG9nZ2xlUmFuZ2UnOlxuICAgICAgICB0aGlzLmhhbmRsZU1vZGVsVG9nZ2xlUmFuZ2UoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtb2RlbFNldFN0ZXAnOlxuICAgICAgICB0aGlzLmhhbmRsZU1vZGVsU2V0U3RlcCgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgcmVtb3ZlQ2FsY0luYWNjdXJhY3kodmFsdWU6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIE51bWJlcih2YWx1ZS50b0ZpeGVkKDEwKSk7XG4gIH1cblxuICBwcml2YXRlIGluaXRWaWV3VmFsdWVzKCk6IHZvaWQge1xuICAgIGNvbnN0IHsgbW9kZWwgfSA9IHRoaXM7XG4gICAgY29uc3QgeyB2aWV3IH0gPSB0aGlzO1xuXG4gICAgY29uc3QgbWluID0gbW9kZWwuZ2V0TWluKCk7XG4gICAgY29uc3QgbWF4ID0gbW9kZWwuZ2V0TWF4KCk7XG4gICAgY29uc3QgbGVmdFZhbHVlID0gbW9kZWwuZ2V0TGVmdFZhbHVlKCk7XG4gICAgY29uc3QgcmlnaHRWYWx1ZSA9IG1vZGVsLmdldFJpZ2h0VmFsdWUoKTtcblxuICAgIHZpZXcuc2V0TWluVmFsdWUobWluKTtcbiAgICB2aWV3LnNldE1heFZhbHVlKG1heCk7XG4gICAgdGhpcy5wYXNzTGVmdFZhbHVlVG9WaWV3KGxlZnRWYWx1ZSk7XG5cbiAgICBpZiAodmlldy5pc1JhbmdlKCkgJiYgKHJpZ2h0VmFsdWUgIT09IHVuZGVmaW5lZCkpIHtcbiAgICAgIHRoaXMucGFzc1JpZ2h0VmFsdWVUb1ZpZXcocmlnaHRWYWx1ZSk7XG4gICAgICB2aWV3LnVwZGF0ZUlucHV0KGxlZnRWYWx1ZSwgcmlnaHRWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZpZXcudXBkYXRlSW5wdXQobGVmdFZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodmlldy5oYXNTY2FsZSgpKSB7XG4gICAgICAvLyBmaXJzdCByZW1vdmUgc2NhbGUgd2l0aCBhcmJpdHJhcnkgdmFsdWVzLCB3aGljaCB3YXMgYWRkZWQgYXMgYSBwbHVnXG4gICAgICB2aWV3LnJlbW92ZVNjYWxlKCk7XG4gICAgICB2aWV3LmFkZFNjYWxlKG1pbiwgbWF4KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWV3Lmhhc0xhYmVscygpKSB7XG4gICAgICBpZiAoIXZpZXcuaXNWZXJ0aWNhbCgpKSB7XG4gICAgICAgIHZpZXcuZml4TGFiZWxzQ29udGFpbmVySGVpZ2h0Rm9ySG9yaXpvbnRhbCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodmlldy5pc1ZlcnRpY2FsKCkpIHtcbiAgICAgICAgdmlldy5maXhMYWJlbHNDb250YWluZXJXaWR0aEZvclZlcnRpY2FsKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHZpZXcuaGFzUGFuZWwoKSkge1xuICAgICAgdmlldy5zZXRQYW5lbFZhbHVlcyh7XG4gICAgICAgIG1pbixcbiAgICAgICAgbWF4LFxuICAgICAgICBzdGVwOiBtb2RlbC5nZXRTdGVwKCksXG4gICAgICAgIGZyb206IGxlZnRWYWx1ZSxcbiAgICAgICAgdG86IHJpZ2h0VmFsdWUgPz8gbnVsbCxcbiAgICAgICAgdmVydGljYWw6IHZpZXcuaXNWZXJ0aWNhbCgpID8/IGZhbHNlLFxuICAgICAgICByYW5nZTogdmlldy5pc1JhbmdlKCksXG4gICAgICAgIHNjYWxlOiB2aWV3Lmhhc1NjYWxlKCksXG4gICAgICAgIHNjYWxlSW50ZXJ2YWxzOiB2aWV3LmdldFNjYWxlSW50ZXJ2YWxzKCksXG4gICAgICAgIHZhbHVlTGFiZWxzOiB2aWV3Lmhhc1ZhbHVlTGFiZWxzKCksXG4gICAgICAgIG1pbk1heExhYmVsczogdmlldy5oYXNNaW5NYXhMYWJlbHMoKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld0lucHV0TGVmdChweDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLmNvbnZlcnRQeFRvVmFsdWUocHgpO1xuICAgIHRoaXMubW9kZWwuc2V0TGVmdFZhbHVlKHZhbHVlKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTW9kZWxTZXRMZWZ0KCk6IHZvaWQge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKTtcbiAgICB0aGlzLnBhc3NMZWZ0VmFsdWVUb1ZpZXcodmFsdWUpO1xuICAgIHRoaXMudXBkYXRlVmlld0lucHV0KCk7XG5cbiAgICBpZiAodGhpcy52aWV3Lmhhc1BhbmVsKCkpIHtcbiAgICAgIHRoaXMudmlldy51cGRhdGVQYW5lbEZyb20odmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld0lucHV0UmlnaHQocHg6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5jb252ZXJ0UHhUb1ZhbHVlKHB4KTtcbiAgICB0aGlzLm1vZGVsLnNldFJpZ2h0VmFsdWUodmFsdWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNb2RlbFNldFJpZ2h0KCk6IHZvaWQge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5tb2RlbC5nZXRSaWdodFZhbHVlKCkhO1xuICAgIHRoaXMucGFzc1JpZ2h0VmFsdWVUb1ZpZXcodmFsdWUpO1xuICAgIHRoaXMudXBkYXRlVmlld0lucHV0KCk7XG5cbiAgICBpZiAodGhpcy52aWV3Lmhhc1BhbmVsKCkpIHtcbiAgICAgIHRoaXMudmlldy51cGRhdGVQYW5lbFRvKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBhc3NMZWZ0VmFsdWVUb1ZpZXcodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHBlcmNlbnQgPSB0aGlzLmNvbnZlcnRWYWx1ZVRvUGVyY2VudCh2YWx1ZSk7XG4gICAgdGhpcy52aWV3LnNldExlZnRWYWx1ZSh2YWx1ZSwgcGVyY2VudCk7XG4gIH1cblxuICBwcml2YXRlIHBhc3NSaWdodFZhbHVlVG9WaWV3KHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBwZXJjZW50ID0gdGhpcy5jb252ZXJ0VmFsdWVUb1BlcmNlbnQodmFsdWUpO1xuICAgIHRoaXMudmlldy5zZXRSaWdodFZhbHVlKHZhbHVlLCBwZXJjZW50KTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlVmlld0lucHV0KCk6IHZvaWQge1xuICAgIGlmICghdGhpcy52aWV3LmlzUmFuZ2UoKSkge1xuICAgICAgdGhpcy52aWV3LnVwZGF0ZUlucHV0KHRoaXMubW9kZWwuZ2V0TGVmdFZhbHVlKCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZpZXcuaXNSYW5nZSgpKSB7XG4gICAgICB0aGlzLnZpZXcudXBkYXRlSW5wdXQodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSwgdGhpcy5tb2RlbC5nZXRSaWdodFZhbHVlKCkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY29udmVydFZhbHVlVG9QZXJjZW50KHZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IG1pbiA9IHRoaXMubW9kZWwuZ2V0TWluKCk7XG4gICAgY29uc3QgbWF4ID0gdGhpcy5tb2RlbC5nZXRNYXgoKTtcbiAgICBsZXQgcGVyY2VudCA9ICgodmFsdWUgLSBtaW4pIC8gKG1heCAtIG1pbikpICogMTAwO1xuICAgIHBlcmNlbnQgPSBQcmVzZW50ZXIucmVtb3ZlQ2FsY0luYWNjdXJhY3kocGVyY2VudCk7XG5cbiAgICByZXR1cm4gcGVyY2VudDtcbiAgfVxuXG4gIHByaXZhdGUgY29udmVydFB4VG9WYWx1ZShweDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgcGVyY2VudCA9IDA7XG5cbiAgICBpZiAoIXRoaXMudmlldy5pc1ZlcnRpY2FsKCkpIHtcbiAgICAgIGNvbnN0IHRyYWNrV2lkdGhJblB4ID0gdGhpcy52aWV3LmdldFRyYWNrV2lkdGgoKTtcbiAgICAgIHBlcmNlbnQgPSAocHggKiAxMDApIC8gdHJhY2tXaWR0aEluUHg7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmlldy5pc1ZlcnRpY2FsKCkpIHtcbiAgICAgIGNvbnN0IHRyYWNrSGVpZ2h0SW5QeCA9IHRoaXMudmlldy5nZXRUcmFja0hlaWdodCgpO1xuICAgICAgcGVyY2VudCA9IChweCAqIDEwMCkgLyB0cmFja0hlaWdodEluUHg7XG4gICAgfVxuXG4gICAgY29uc3QgbWluID0gdGhpcy5tb2RlbC5nZXRNaW4oKTtcbiAgICBjb25zdCBtYXggPSB0aGlzLm1vZGVsLmdldE1heCgpO1xuICAgIGxldCB2YWx1ZSA9ICgobWF4IC0gbWluKSAqIChwZXJjZW50IC8gMTAwKSArIG1pbik7XG4gICAgdmFsdWUgPSB0aGlzLmZpdFRvU3RlcCh2YWx1ZSk7XG4gICAgdmFsdWUgPSBQcmVzZW50ZXIucmVtb3ZlQ2FsY0luYWNjdXJhY3kodmFsdWUpO1xuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBmaXRUb1N0ZXAodmFsdWU6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IHJlc3VsdCA9IE1hdGgucm91bmQodmFsdWUgLyB0aGlzLm1vZGVsLmdldFN0ZXAoKSkgKiB0aGlzLm1vZGVsLmdldFN0ZXAoKTtcbiAgICByZXN1bHQgPSBQcmVzZW50ZXIucmVtb3ZlQ2FsY0luYWNjdXJhY3kocmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3U2V0TGVmdEZyb21PdXRzaWRlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm1vZGVsLnNldExlZnRWYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZpZXdTZXRSaWdodEZyb21PdXRzaWRlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm1vZGVsLnNldFJpZ2h0VmFsdWUodmFsdWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3U2V0TWluKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm1vZGVsLnNldE1pbih2YWx1ZSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1vZGVsU2V0TWluKCk6IHZvaWQge1xuICAgIHRoaXMudmlldy5zZXRNaW5WYWx1ZSh0aGlzLm1vZGVsLmdldE1pbigpKTtcbiAgICB0aGlzLnBhc3NMZWZ0VmFsdWVUb1ZpZXcodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSk7XG5cbiAgICBjb25zdCByaWdodFZhbHVlID0gdGhpcy5tb2RlbC5nZXRSaWdodFZhbHVlKCk7XG4gICAgaWYgKHJpZ2h0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5wYXNzUmlnaHRWYWx1ZVRvVmlldyhyaWdodFZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWV3Lmhhc1NjYWxlKCkpIHtcbiAgICAgIHRoaXMudmlldy5yZW1vdmVTY2FsZSgpO1xuICAgICAgdGhpcy52aWV3LmFkZFNjYWxlKHRoaXMubW9kZWwuZ2V0TWluKCksIHRoaXMubW9kZWwuZ2V0TWF4KCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZpZXcuaGFzUGFuZWwoKSkge1xuICAgICAgdGhpcy52aWV3LnVwZGF0ZVBhbmVsTWluKHRoaXMubW9kZWwuZ2V0TWluKCkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld1NldE1heCh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5tb2RlbC5zZXRNYXgodmFsdWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNb2RlbFNldE1heCgpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXcuc2V0TWF4VmFsdWUodGhpcy5tb2RlbC5nZXRNYXgoKSk7XG4gICAgdGhpcy5wYXNzTGVmdFZhbHVlVG9WaWV3KHRoaXMubW9kZWwuZ2V0TGVmdFZhbHVlKCkpO1xuXG4gICAgY29uc3QgcmlnaHRWYWx1ZSA9IHRoaXMubW9kZWwuZ2V0UmlnaHRWYWx1ZSgpO1xuICAgIGlmIChyaWdodFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMucGFzc1JpZ2h0VmFsdWVUb1ZpZXcocmlnaHRWYWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmlldy5oYXNTY2FsZSgpKSB7XG4gICAgICB0aGlzLnZpZXcucmVtb3ZlU2NhbGUoKTtcbiAgICAgIHRoaXMudmlldy5hZGRTY2FsZSh0aGlzLm1vZGVsLmdldE1pbigpLCB0aGlzLm1vZGVsLmdldE1heCgpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWV3Lmhhc1BhbmVsKCkpIHtcbiAgICAgIHRoaXMudmlldy51cGRhdGVQYW5lbE1heCh0aGlzLm1vZGVsLmdldE1heCgpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZpZXdTZXRTdGVwKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm1vZGVsLnNldFN0ZXAodmFsdWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3VG9nZ2xlT3JpZW50YXRpb24oKTogdm9pZCB7XG4gICAgdGhpcy5wYXNzTGVmdFZhbHVlVG9WaWV3KHRoaXMubW9kZWwuZ2V0TGVmdFZhbHVlKCkpO1xuXG4gICAgaWYgKHRoaXMudmlldy5pc1JhbmdlKCkpIHtcbiAgICAgIGNvbnN0IHJpZ2h0VmFsdWUgPSB0aGlzLm1vZGVsLmdldFJpZ2h0VmFsdWUoKTtcbiAgICAgIGlmIChyaWdodFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5wYXNzUmlnaHRWYWx1ZVRvVmlldyhyaWdodFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWV3Lmhhc0xhYmVscygpKSB7XG4gICAgICBpZiAoIXRoaXMudmlldy5pc1ZlcnRpY2FsKCkpIHtcbiAgICAgICAgdGhpcy52aWV3LmZpeExhYmVsc0NvbnRhaW5lckhlaWdodEZvckhvcml6b250YWwoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudmlldy5pc1ZlcnRpY2FsKCkpIHtcbiAgICAgICAgdGhpcy52aWV3LmZpeExhYmVsc0NvbnRhaW5lcldpZHRoRm9yVmVydGljYWwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZpZXdUb2dnbGVSYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLm1vZGVsLnRvZ2dsZVJhbmdlKCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1vZGVsVG9nZ2xlUmFuZ2UoKTogdm9pZCB7XG4gICAgdGhpcy5wYXNzTGVmdFZhbHVlVG9WaWV3KHRoaXMubW9kZWwuZ2V0TGVmdFZhbHVlKCkpO1xuXG4gICAgaWYgKHRoaXMubW9kZWwuaXNSYW5nZSgpKSB7XG4gICAgICB0aGlzLm1vZGVsLnNldFJpZ2h0VmFsdWUoKTtcbiAgICAgIGNvbnN0IHJpZ2h0VmFsdWUgPSB0aGlzLm1vZGVsLmdldFJpZ2h0VmFsdWUoKTtcbiAgICAgIGlmIChyaWdodFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5wYXNzUmlnaHRWYWx1ZVRvVmlldyhyaWdodFZhbHVlKTtcbiAgICAgICAgdGhpcy52aWV3LnVwZGF0ZUlucHV0KHRoaXMubW9kZWwuZ2V0TGVmdFZhbHVlKCksIHJpZ2h0VmFsdWUpO1xuICAgICAgICBpZiAodGhpcy52aWV3Lmhhc1BhbmVsKCkpIHtcbiAgICAgICAgICB0aGlzLnZpZXcudXBkYXRlUGFuZWxUbyhyaWdodFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdGhpcy5tb2RlbC5pc1JhbmdlKCkpIHtcbiAgICAgIHRoaXMubW9kZWwucmVtb3ZlUmlnaHRWYWx1ZSgpO1xuICAgICAgdGhpcy52aWV3LnVwZGF0ZUlucHV0KHRoaXMubW9kZWwuZ2V0TGVmdFZhbHVlKCkpO1xuICAgICAgaWYgKHRoaXMudmlldy5oYXNQYW5lbCgpKSB7XG4gICAgICAgIHRoaXMudmlldy51cGRhdGVQYW5lbFRvKCcnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1vZGVsU2V0U3RlcCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy52aWV3Lmhhc1BhbmVsKCkpIHtcbiAgICAgIHRoaXMudmlldy51cGRhdGVQYW5lbFN0ZXAodGhpcy5tb2RlbC5nZXRTdGVwKCkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld1RvZ2dsZVNjYWxlKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy52aWV3Lmhhc1NjYWxlKCkpIHtcbiAgICAgIHRoaXMudmlldy5hZGRTY2FsZSh0aGlzLm1vZGVsLmdldE1pbigpLCB0aGlzLm1vZGVsLmdldE1heCgpKTtcblxuICAgICAgaWYgKHRoaXMudmlldy5oYXNQYW5lbCgpKSB7XG4gICAgICAgIHRoaXMudmlldy51cGRhdGVQYW5lbFNjYWxlSW50ZXJ2YWxzKHRoaXMudmlldy5nZXRTY2FsZUludGVydmFscygpID8/IDQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmlldy5oYXNTY2FsZSgpKSB7XG4gICAgICB0aGlzLnZpZXcucmVtb3ZlU2NhbGUoKTtcblxuICAgICAgaWYgKHRoaXMudmlldy5oYXNQYW5lbCgpKSB7XG4gICAgICAgIHRoaXMudmlldy51cGRhdGVQYW5lbFNjYWxlSW50ZXJ2YWxzKCcnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZpZXdTZXRTY2FsZUludGVydmFscygpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXcuYWRkU2NhbGUodGhpcy5tb2RlbC5nZXRNaW4oKSwgdGhpcy5tb2RlbC5nZXRNYXgoKSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZpZXdBZGRWYWx1ZUxhYmVscygpOiB2b2lkIHtcbiAgICB0aGlzLnBhc3NMZWZ0VmFsdWVUb1ZpZXcodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSk7XG4gICAgaWYgKHRoaXMudmlldy5pc1JhbmdlKCkpIHtcbiAgICAgIGNvbnN0IHJpZ2h0VmFsdWUgPSB0aGlzLm1vZGVsLmdldFJpZ2h0VmFsdWUoKTtcbiAgICAgIGlmIChyaWdodFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5wYXNzUmlnaHRWYWx1ZVRvVmlldyhyaWdodFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZpZXdBZGRNaW5NYXhMYWJlbHMoKTogdm9pZCB7XG4gICAgdGhpcy52aWV3LnNldE1pblZhbHVlKHRoaXMubW9kZWwuZ2V0TWluKCkpO1xuICAgIHRoaXMudmlldy5zZXRNYXhWYWx1ZSh0aGlzLm1vZGVsLmdldE1heCgpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQcmVzZW50ZXI7XG4iLCJpbXBvcnQgTW9kZWwgZnJvbSAnLi9Nb2RlbC9Nb2RlbCc7XG5pbXBvcnQgVmlldyBmcm9tICcuL1ZpZXcvVmlldyc7XG5pbXBvcnQgUHJlc2VudGVyIGZyb20gJy4vUHJlc2VudGVyL1ByZXNlbnRlcic7XG5cbnR5cGUgU2xpZGVyT3B0aW9ucyA9IHtcbiAgbWluOiBudW1iZXIsXG4gIG1heDogbnVtYmVyLFxuICBsZWZ0VmFsdWU6IG51bWJlcixcbiAgcmlnaHRWYWx1ZTogbnVtYmVyLFxuICByYW5nZTogYm9vbGVhbixcbiAgc3RlcDogbnVtYmVyLFxuICBtaW5NYXhMYWJlbHM6IGJvb2xlYW4sXG4gIHZhbHVlTGFiZWxzOiBib29sZWFuLFxuICB2ZXJ0aWNhbDogYm9vbGVhbixcbiAgc2NhbGU6IGJvb2xlYW4sXG4gIHNjYWxlSW50ZXJ2YWxzOiBudW1iZXIsXG4gIHBhbmVsOiBib29sZWFuLFxufTtcblxuY2xhc3MgU2xpZGVyIHtcbiAgZWxlbWVudDogSFRNTERpdkVsZW1lbnQ7XG5cbiAgbW9kZWw6IE1vZGVsO1xuXG4gIHZpZXc6IFZpZXc7XG5cbiAgcHJlc2VudGVyOiBQcmVzZW50ZXI7XG5cbiAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTERpdkVsZW1lbnQsIG9wdGlvbnM6IFNsaWRlck9wdGlvbnMpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMubW9kZWwgPSBuZXcgTW9kZWwoe1xuICAgICAgbWluOiBvcHRpb25zLm1pbixcbiAgICAgIG1heDogb3B0aW9ucy5tYXgsXG4gICAgICBsZWZ0VmFsdWU6IG9wdGlvbnMubGVmdFZhbHVlLFxuICAgICAgcmlnaHRWYWx1ZTogb3B0aW9ucy5yaWdodFZhbHVlLFxuICAgICAgcmFuZ2U6IG9wdGlvbnMucmFuZ2UsXG4gICAgICBzdGVwOiBvcHRpb25zLnN0ZXAsXG4gICAgfSk7XG4gICAgdGhpcy52aWV3ID0gbmV3IFZpZXcoZWxlbWVudCwge1xuICAgICAgbWluTWF4TGFiZWxzOiBvcHRpb25zLm1pbk1heExhYmVscyxcbiAgICAgIHZhbHVlTGFiZWxzOiBvcHRpb25zLnZhbHVlTGFiZWxzLFxuICAgICAgdmVydGljYWw6IG9wdGlvbnMudmVydGljYWwsXG4gICAgICByYW5nZTogb3B0aW9ucy5yYW5nZSxcbiAgICAgIHNjYWxlOiBvcHRpb25zLnNjYWxlLFxuICAgICAgc2NhbGVJbnRlcnZhbHM6IG9wdGlvbnMuc2NhbGVJbnRlcnZhbHMsXG4gICAgICBwYW5lbDogb3B0aW9ucy5wYW5lbCxcbiAgICB9KTtcbiAgICB0aGlzLnByZXNlbnRlciA9IG5ldyBQcmVzZW50ZXIodGhpcy5tb2RlbCwgdGhpcy52aWV3KTtcblxuICAgIHRoaXMubW9kZWwuc3Vic2NyaWJlKHRoaXMpO1xuICB9XG5cbiAgaW5mb3JtKGV2ZW50VHlwZTogc3RyaW5nKTogdm9pZCB7XG4gICAgc3dpdGNoIChldmVudFR5cGUpIHtcbiAgICAgIGNhc2UgJ21vZGVsTGVmdFNldCc6XG4gICAgICAgIGlmICh0aGlzLm9uQ2hhbmdlKSB7XG4gICAgICAgICAgdGhpcy5vbkNoYW5nZSh0aGlzLm1vZGVsLmdldExlZnRWYWx1ZSgpLCB0aGlzLm1vZGVsLmdldFJpZ2h0VmFsdWUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtb2RlbFJpZ2h0U2V0JzpcbiAgICAgICAgaWYgKHRoaXMub25DaGFuZ2UpIHtcbiAgICAgICAgICB0aGlzLm9uQ2hhbmdlKHRoaXMubW9kZWwuZ2V0TGVmdFZhbHVlKCksIHRoaXMubW9kZWwuZ2V0UmlnaHRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgc2V0TGVmdFZhbHVlKHZhbHVlOiBudW1iZXIpOiB0aGlzIHtcbiAgICB0aGlzLnZpZXcuY2hhbmdlTGVmdFZhbHVlRnJvbU91dHNpZGUodmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2V0UmlnaHRWYWx1ZSh2YWx1ZTogbnVtYmVyKTogdGhpcyB7XG4gICAgdGhpcy52aWV3LmNoYW5nZVJpZ2h0VmFsdWVGcm9tT3V0c2lkZSh2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZXRTdGVwKHZhbHVlOiBudW1iZXIpOiB0aGlzIHtcbiAgICB0aGlzLnZpZXcuY2hhbmdlU3RlcEZyb21PdXRzaWRlKHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIG9uQ2hhbmdlPzogKGxlZnRWYWx1ZTogbnVtYmVyLCByaWdodFZhbHVlOiBudW1iZXIgfCB1bmRlZmluZWQpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCB7IFNsaWRlciwgU2xpZGVyT3B0aW9ucyB9O1xuIiwiaW1wb3J0ICdhaXJibmItYnJvd3Nlci1zaGltcyc7XG5cbmltcG9ydCB7IFNsaWRlciwgU2xpZGVyT3B0aW9ucyB9IGZyb20gJy4vU2xpZGVyJztcbmltcG9ydCAnLi9zdHlsZS5zY3NzJztcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSlF1ZXJ5IHtcbiAgICByYW5nZVNsaWRlcjogSVJhbmdlU2xpZGVyO1xuICB9XG5cbiAgaW50ZXJmYWNlIElSYW5nZVNsaWRlciB7XG4gICAgKG9wdGlvbnM/OiBvYmplY3QpOiBKUXVlcnk8SFRNTEVsZW1lbnQ+O1xuICB9XG59XG5cbihmdW5jdGlvbiByYW5nZVNsaWRlcldyYXBwZXIoalEpIHtcbiAgY29uc3QgJCA9IGpRO1xuXG4gIGNvbnN0IGRlZmF1bHRzOiBSZWFkb25seTxTbGlkZXJPcHRpb25zPiA9IHtcbiAgICBtaW46IDAsXG4gICAgbWF4OiAxMDAsXG4gICAgcmFuZ2U6IHRydWUsXG4gICAgbGVmdFZhbHVlOiAyNSxcbiAgICByaWdodFZhbHVlOiA3NSxcbiAgICBzdGVwOiAxLFxuICAgIG1pbk1heExhYmVsczogdHJ1ZSxcbiAgICB2YWx1ZUxhYmVsczogdHJ1ZSxcbiAgICB2ZXJ0aWNhbDogZmFsc2UsXG4gICAgc2NhbGU6IGZhbHNlLFxuICAgIHNjYWxlSW50ZXJ2YWxzOiA1LFxuICAgIHBhbmVsOiBmYWxzZSxcbiAgfTtcblxuICAkLmZuLnJhbmdlU2xpZGVyID0gZnVuY3Rpb24gaW5pdFNsaWRlcnMob3B0aW9uczogUGFydGlhbDxTbGlkZXJPcHRpb25zPiA9IHt9KTogSlF1ZXJ5IHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIGluaXRTbGlkZXIoKSB7XG4gICAgICBjb25zdCBzZXR0aW5nc0Zyb21EYXRhc2V0OiBQYXJ0aWFsPFNsaWRlck9wdGlvbnM+ID0ge1xuICAgICAgICBtaW46ICQodGhpcykuZGF0YSgnbWluJyksXG4gICAgICAgIG1heDogJCh0aGlzKS5kYXRhKCdtYXgnKSxcbiAgICAgICAgcmFuZ2U6ICQodGhpcykuZGF0YSgncmFuZ2UnKSxcbiAgICAgICAgbGVmdFZhbHVlOiAkKHRoaXMpLmRhdGEoJ2xlZnRWYWx1ZScpLFxuICAgICAgICByaWdodFZhbHVlOiAkKHRoaXMpLmRhdGEoJ3JpZ2h0VmFsdWUnKSxcbiAgICAgICAgc3RlcDogJCh0aGlzKS5kYXRhKCdzdGVwJyksXG4gICAgICAgIG1pbk1heExhYmVsczogJCh0aGlzKS5kYXRhKCdtaW5NYXhMYWJlbHMnKSxcbiAgICAgICAgdmFsdWVMYWJlbHM6ICQodGhpcykuZGF0YSgndmFsdWVMYWJlbHMnKSxcbiAgICAgICAgdmVydGljYWw6ICQodGhpcykuZGF0YSgndmVydGljYWwnKSxcbiAgICAgICAgc2NhbGU6ICQodGhpcykuZGF0YSgnc2NhbGUnKSxcbiAgICAgICAgc2NhbGVJbnRlcnZhbHM6ICQodGhpcykuZGF0YSgnc2NhbGVJbnRlcnZhbHMnKSxcbiAgICAgICAgcGFuZWw6ICQodGhpcykuZGF0YSgncGFuZWwnKSxcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHNldHRpbmdzOiBTbGlkZXJPcHRpb25zKTogU2xpZGVyT3B0aW9ucyB7XG4gICAgICAgIGxldCBmaXhlZFNldHRpbmdzOiBTbGlkZXJPcHRpb25zID0gJC5leHRlbmQoe30sIHNldHRpbmdzKTtcblxuICAgICAgICBmdW5jdGlvbiByZW1vdmVXcm9uZ1R5cGVzKCk6IHZvaWQge1xuICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrVHlwZShwcm9wZXJ0eToga2V5b2YgU2xpZGVyT3B0aW9ucyk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5nc1twcm9wZXJ0eV0gIT09IHR5cGVvZiBkZWZhdWx0c1twcm9wZXJ0eV0pIHtcbiAgICAgICAgICAgICAgZGVsZXRlIGZpeGVkU2V0dGluZ3NbcHJvcGVydHldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qIFRoZXJlIGlzIG5vIE9iamVjdC5rZXlzKCkuZm9yRWFjaCBiZWNhdXNlIFRTIHRocm93cyBhbiBlcnJvcjpcbiAgICAgICAgICAgKiBcIlR5cGUgJ3N0cmluZ1tdJyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdrZXlvZiBSYW5nZVNsaWRlck9wdGlvbnNbXSdcIiAqL1xuICAgICAgICAgIGNoZWNrVHlwZSgnbWluJyk7XG4gICAgICAgICAgY2hlY2tUeXBlKCdtYXgnKTtcbiAgICAgICAgICBjaGVja1R5cGUoJ2xlZnRWYWx1ZScpO1xuICAgICAgICAgIGNoZWNrVHlwZSgncmlnaHRWYWx1ZScpO1xuICAgICAgICAgIGNoZWNrVHlwZSgncmFuZ2UnKTtcbiAgICAgICAgICBjaGVja1R5cGUoJ3N0ZXAnKTtcbiAgICAgICAgICBjaGVja1R5cGUoJ21pbk1heExhYmVscycpO1xuICAgICAgICAgIGNoZWNrVHlwZSgndmFsdWVMYWJlbHMnKTtcbiAgICAgICAgICBjaGVja1R5cGUoJ3ZlcnRpY2FsJyk7XG4gICAgICAgICAgY2hlY2tUeXBlKCdzY2FsZScpO1xuICAgICAgICAgIGNoZWNrVHlwZSgnc2NhbGVJbnRlcnZhbHMnKTtcbiAgICAgICAgICBjaGVja1R5cGUoJ3BhbmVsJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBtZXJnZVdpdGhEZWZhdWx0cygpOiB2b2lkIHtcbiAgICAgICAgICBmaXhlZFNldHRpbmdzID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBmaXhlZFNldHRpbmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGZpeFZhbHVlcygpOiB2b2lkIHtcbiAgICAgICAgICBpZiAoZml4ZWRTZXR0aW5ncy5taW4gPiBmaXhlZFNldHRpbmdzLm1heCkge1xuICAgICAgICAgICAgW2ZpeGVkU2V0dGluZ3MubWluLCBmaXhlZFNldHRpbmdzLm1heF0gPSBbZml4ZWRTZXR0aW5ncy5tYXgsIGZpeGVkU2V0dGluZ3MubWluXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZml4ZWRTZXR0aW5ncy5sZWZ0VmFsdWUgPCBmaXhlZFNldHRpbmdzLm1pbikge1xuICAgICAgICAgICAgZml4ZWRTZXR0aW5ncy5sZWZ0VmFsdWUgPSBmaXhlZFNldHRpbmdzLm1pbjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZml4ZWRTZXR0aW5ncy5yaWdodFZhbHVlID4gZml4ZWRTZXR0aW5ncy5tYXgpIHtcbiAgICAgICAgICAgIGZpeGVkU2V0dGluZ3MucmlnaHRWYWx1ZSA9IGZpeGVkU2V0dGluZ3MubWF4O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChmaXhlZFNldHRpbmdzLmxlZnRWYWx1ZSA+IGZpeGVkU2V0dGluZ3MubWF4KSB7XG4gICAgICAgICAgICBmaXhlZFNldHRpbmdzLmxlZnRWYWx1ZSA9IGZpeGVkU2V0dGluZ3MubWF4O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChmaXhlZFNldHRpbmdzLmxlZnRWYWx1ZSA+IGZpeGVkU2V0dGluZ3MucmlnaHRWYWx1ZSkge1xuICAgICAgICAgICAgW2ZpeGVkU2V0dGluZ3MubGVmdFZhbHVlLCBmaXhlZFNldHRpbmdzLnJpZ2h0VmFsdWVdID0gKFxuICAgICAgICAgICAgICBbZml4ZWRTZXR0aW5ncy5yaWdodFZhbHVlLCBmaXhlZFNldHRpbmdzLmxlZnRWYWx1ZV1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGZpeGVkU2V0dGluZ3Muc3RlcCA+IE1hdGguYWJzKGZpeGVkU2V0dGluZ3MubWF4IC0gZml4ZWRTZXR0aW5ncy5taW4pKSB7XG4gICAgICAgICAgICBmaXhlZFNldHRpbmdzLnN0ZXAgPSBNYXRoLmFicyhmaXhlZFNldHRpbmdzLm1heCAtIGZpeGVkU2V0dGluZ3MubWluKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZml4ZWRTZXR0aW5ncy5zY2FsZUludGVydmFscyA8IDEpIHtcbiAgICAgICAgICAgIGZpeGVkU2V0dGluZ3Muc2NhbGVJbnRlcnZhbHMgPSAxO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKGZpeGVkU2V0dGluZ3Muc2NhbGVJbnRlcnZhbHMpKSB7XG4gICAgICAgICAgICBmaXhlZFNldHRpbmdzLnNjYWxlSW50ZXJ2YWxzID0gTWF0aC5mbG9vcihmaXhlZFNldHRpbmdzLnNjYWxlSW50ZXJ2YWxzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZW1vdmVXcm9uZ1R5cGVzKCk7XG4gICAgICAgIG1lcmdlV2l0aERlZmF1bHRzKCk7XG4gICAgICAgIGZpeFZhbHVlcygpO1xuXG4gICAgICAgIHJldHVybiBmaXhlZFNldHRpbmdzO1xuICAgICAgfVxuXG4gICAgICBsZXQgc2V0dGluZ3M6IFNsaWRlck9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMsIHNldHRpbmdzRnJvbURhdGFzZXQpO1xuICAgICAgc2V0dGluZ3MgPSB2YWxpZGF0ZShzZXR0aW5ncyk7XG5cbiAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgSFRNTERpdkVsZW1lbnQpIHtcbiAgICAgICAgJCh0aGlzKS5kYXRhKCdyYW5nZVNsaWRlcicsIG5ldyBTbGlkZXIodGhpcywgc2V0dGluZ3MpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0oalF1ZXJ5KSk7XG4iXSwibmFtZXMiOlsiRXZlbnRNYW5hZ2VyIiwibGlzdGVuZXJzIiwic3Vic2NyaWJlIiwibGlzdGVuZXIiLCJ0aGlzIiwicHVzaCIsInVuc3Vic2NyaWJlIiwiZmlsdGVyIiwiaXRlbSIsIm5vdGlmeSIsImV2ZW50VHlwZSIsImRhdGEiLCJsZW5ndGgiLCJmb3JFYWNoIiwiaW5mb3JtIiwiY29uc3RydWN0b3IiLCJ0YWciLCJjbGFzc05hbWUiLCJjb21wb25lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJlbGVtZW50IiwiZ2V0Q29tcG9uZW50IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZ2V0V2lkdGgiLCJvZmZzZXRXaWR0aCIsImdldEhlaWdodCIsIm9mZnNldEhlaWdodCIsInNldEluZGVudCIsInNpZGUiLCJpbmRlbnQiLCJzdHlsZSIsInJlbW92ZSIsInZpZXciLCJzdXBlciIsImF0dGFjaEV2ZW50SGFuZGxlcnMiLCJhcHBlbmQiLCJlbGVtZW50cyIsImhhbmRsZUNsaWNrIiwiZXZlbnQiLCJjdXJyZW50VGFyZ2V0IiwiSFRNTEVsZW1lbnQiLCJ4IiwiY2xpZW50WCIsImxlZnQiLCJ5IiwiY2xpZW50WSIsInRvcCIsImhhbmRsZVNjYWxlT3JUcmFja0NsaWNrIiwiYWRkRXZlbnRMaXN0ZW5lciIsImJpbmQiLCJzZXRXaWR0aCIsInBlcmNlbnQiLCJ3aWR0aCIsInNldEhlaWdodCIsImhlaWdodCIsInJlc2V0V2lkdGgiLCJyZXNldEhlaWdodCIsInJlc2V0VG9wSW5kZW50IiwiVGh1bWIiLCJ0eXBlIiwiZ2V0TGVmdEluZGVudCIsImdldFRvcEluZGVudCIsInNldFpJbmRleCIsInZhbHVlIiwiekluZGV4IiwiY2xhc3NMaXN0IiwiYWRkIiwiaGFuZGxlUG9pbnRlckRvd24iLCJzZXRQb2ludGVyQ2FwdHVyZSIsInBvaW50ZXJJZCIsInByZXZlbnREZWZhdWx0Iiwic2hpZnRYIiwic2hpZnRZIiwiaGFuZGxlUG9pbnRlck1vdmUiLCJuZXdFdmVudCIsImhhbmRsZUxlZnRJbnB1dCIsImhhbmRsZVJpZ2h0SW5wdXQiLCJoYW5kbGVQb2ludGVyVXAiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlUG9pbnRlck92ZXIiLCJoYW5kbGVQb2ludGVyT3V0IiwiaGFuZGxlRHJhZ1N0YXJ0IiwibWluIiwibWF4IiwiaW50ZXJ2YWxzIiwidmFsdWVzIiwidmFsdWVFbGVtZW50cyIsImludGVydmFsc051bWJlciIsImdldFNjYWxlSW50ZXJ2YWxzIiwiY3JlYXRlSW50ZXJ2YWxzIiwiYWRkTWFya3NJbkludGVydmFscyIsImFkZFZhbHVlcyIsImZpdFdpZHRoRm9yVmVydGljYWwiLCJtYXhXaWR0aCIsInZhbHVlRWxlbWVudCIsInBhZGRpbmdSaWdodCIsImZpdEhlaWdodEZvckhvcml6b250YWwiLCJtYXhIZWlnaHQiLCJwYWRkaW5nQm90dG9tIiwiaGFuZGxlU3dpdGNoRnJvbUhvcml6b250YWxUb1ZlcnRpY2FsIiwiaGFuZGxlU3dpdGNoRnJvbVZlcnRpY2FsVG9Ib3Jpem9udGFsIiwiZnJhZ21lbnQiLCJEb2N1bWVudEZyYWdtZW50IiwiaSIsInN0ZXAiLCJudW1iZXJPZkRpZ2l0c0FmdGVyUG9pbnQiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJ0b1N0cmluZyIsInNwbGl0IiwidG9GaXhlZCIsInRleHRDb250ZW50IiwibmV3VmFsdWVFbGVtZW50IiwiZml4V2lkdGhGb3JWZXJ0aWNhbCIsImxhYmVscyIsImxhYmVsIiwicGFkZGluZ0xlZnQiLCJmaXhIZWlnaHRGb3JIb3Jpem9udGFsIiwicGFkZGluZ1RvcCIsInNldE9wYWNpdHkiLCJvcGFjaXR5Iiwic2V0VmFsdWUiLCJnZXRWYWx1ZSIsInNldEF0dHJpYnV0ZXMiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJ0YWJJbmRleCIsInJlYWRPbmx5IiwiUGFuZWwiLCJmcm9tIiwidG8iLCJ2ZXJ0aWNhbCIsInJhbmdlIiwic2NhbGUiLCJzY2FsZUludGVydmFscyIsInZhbHVlTGFiZWxzIiwibWluTWF4TGFiZWxzIiwicmVuZGVyIiwic2V0VmFsdWVzIiwib3B0aW9ucyIsImNoZWNrZWQiLCJzZXRDaGVja01hcmtzIiwidXBkYXRlRnJvbSIsInVwZGF0ZUF0dHJpYnV0ZXNBZnRlckZyb21DaGFuZ2UiLCJ1cGRhdGVUbyIsInVwZGF0ZUF0dHJpYnV0ZXNBZnRlclRvQ2hhbmdlIiwidXBkYXRlU3RlcCIsInVwZGF0ZUF0dHJpYnV0ZXNBZnRlclN0ZXBDaGFuZ2UiLCJ1cGRhdGVNaW4iLCJ1cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJNaW5DaGFuZ2UiLCJ1cGRhdGVNYXgiLCJ1cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJNYXhDaGFuZ2UiLCJ1cGRhdGVTY2FsZUludGVydmFscyIsImlucHV0IiwibmFtZSIsInJlc3VsdCIsImNsb3Nlc3QiLCJ0b2dnbGUiLCJzZXRUeXBlcyIsImFkZExhYmVsIiwiY2FsY1N0ZXBNaW4iLCJNYXRoIiwiYWJzIiwiZGlzYWJsZWQiLCJjaGVja2JveCIsInRvZ2dsZUNoZWNrYm94IiwiaXNSYW5nZSIsImhhbmRsZU1pbkNoYW5nZSIsImNoYW5nZU1pbkZyb21PdXRzaWRlIiwiaGFuZGxlTWF4Q2hhbmdlIiwiY2hhbmdlTWF4RnJvbU91dHNpZGUiLCJoYW5kbGVTdGVwQ2hhbmdlIiwiY2hhbmdlU3RlcEZyb21PdXRzaWRlIiwiaGFuZGxlRnJvbUNoYW5nZSIsImNoYW5nZUxlZnRWYWx1ZUZyb21PdXRzaWRlIiwiaGFuZGxlVG9DaGFuZ2UiLCJjaGFuZ2VSaWdodFZhbHVlRnJvbU91dHNpZGUiLCJoYW5kbGVWZXJ0aWNhbENoYW5nZSIsImNoYW5nZU9yaWVudGF0aW9uRnJvbU91dHNpZGUiLCJoYW5kbGVSYW5nZUNoYW5nZSIsInRvZ2dsZVJhbmdlRnJvbU91dHNpZGUiLCJoYW5kbGVTY2FsZUNoYW5nZSIsInRvZ2dsZVNjYWxlRnJvbU91dHNpZGUiLCJoYW5kbGVTY2FsZUludGVydmFsc0NoYW5nZSIsImZsb29yIiwiY2hhbmdlU2NhbGVJbnRlcnZhbHMiLCJoYW5kbGVWYWx1ZUxhYmVsc0NoYW5nZSIsInRvZ2dsZVZhbHVlTGFiZWxzIiwiaGFuZGxlTWluTWF4TGFiZWxzQ2hhbmdlIiwidG9nZ2xlTWluTWF4TGFiZWxzIiwiZXZlbnRNYW5hZ2VyIiwic2xpZGVyIiwidHJhY2siLCJ0aHVtYkxlZnQiLCJ0aHVtYlJpZ2h0IiwibGFiZWxzQ29udGFpbmVyIiwibWluTGFiZWwiLCJtYXhMYWJlbCIsInZhbHVlTGFiZWxMZWZ0IiwidmFsdWVMYWJlbFJpZ2h0IiwidmFsdWVMYWJlbENvbW1vbiIsInBhbmVsIiwic2V0TWluVmFsdWUiLCJzZXRNYXhWYWx1ZSIsInNldExlZnRWYWx1ZSIsImlzVHdvVmFsdWVMYWJlbHNDbG9zZSIsIm1lcmdlTGFiZWxzIiwic3BsaXRMYWJlbHMiLCJpc0xlZnRWYWx1ZUxhYmVsQ2xvc2VUb01pbkxhYmVsIiwiaXNMZWZ0VmFsdWVMYWJlbENsb3NlVG9NYXhMYWJlbCIsInNldFJpZ2h0VmFsdWUiLCJpc1JpZ2h0VmFsdWVMYWJlbENsb3NlVG9NYXhMYWJlbCIsInVwZGF0ZUlucHV0IiwidHJhY2tTaGlmdCIsIm5ld0xlZnQiLCJ0cmFja1dpZHRoIiwiZ2V0VHJhY2tXaWR0aCIsInJpZ2h0VGh1bWJQb3NpdGlvbiIsIm5ld1RvcCIsInRyYWNrSGVpZ2h0IiwiZ2V0VHJhY2tIZWlnaHQiLCJuZXdCb3R0b20iLCJsZWZ0VGh1bWJQb3NpdGlvbiIsImFkZFNjYWxlIiwiYWZ0ZXIiLCJyZW1vdmVTY2FsZSIsInVuZGVmaW5lZCIsImdldFNjYWxlIiwiYWRkU21vb3RoVHJhbnNpdGlvbiIsInNldFRpbWVvdXQiLCJyZW1vdmVTbW9vdGhUcmFuc2l0aW9uIiwid2hpY2hUaHVtYklzTmVhcmVyIiwiZml4TGFiZWxzQ29udGFpbmVyV2lkdGhGb3JWZXJ0aWNhbCIsImNvbGxlY3RMYWJlbHMiLCJmaXhMYWJlbHNDb250YWluZXJIZWlnaHRGb3JIb3Jpem9udGFsIiwic2V0UGFuZWxWYWx1ZXMiLCJ1cGRhdGVQYW5lbEZyb20iLCJ1cGRhdGVQYW5lbFRvIiwidXBkYXRlUGFuZWxTY2FsZUludGVydmFscyIsInVwZGF0ZVBhbmVsU3RlcCIsInVwZGF0ZVBhbmVsTWluIiwidXBkYXRlUGFuZWxNYXgiLCJkZXN0cm95IiwiYmVmb3JlIiwiaGFzTGFiZWxzIiwiaGFzU2NhbGUiLCJoYXNNaW5NYXhMYWJlbHMiLCJoYXNWYWx1ZUxhYmVscyIsImhhc1BhbmVsIiwiaXNWZXJ0aWNhbCIsInBhbmVsV3JhcHBlciIsImNoaWxkcmVuIiwiZGlzdGFuY2VCZXR3ZWVuVGh1bWJzIiwicGFyc2VJbnQiLCJpc1R3b0xhYmVsc0Nsb3NlIiwibGFiZWwxIiwibGFiZWwyIiwiYm90dG9tIiwibGVmdExhYmVsRWRnZSIsInJpZ2h0IiwibGVmdFRodW1iQ29vcmRzIiwicmlnaHRUaHVtYkNvb3JkcyIsInRyYWNrQ29vcmRzIiwiZGlzdGFuY2VGcm9tTGVmdFRodW1iQ2VudGVyIiwiZGlzdGFuY2VGcm9tUmlnaHRUaHVtYkNlbnRlciIsImxlZnRUaHVtYkNlbnRlciIsInJpZ2h0VGh1bWJDZW50ZXIiLCJQcmVzZW50ZXIiLCJtb2RlbCIsImluaXRWaWV3VmFsdWVzIiwiaGFuZGxlVmlld0lucHV0TGVmdCIsImhhbmRsZVZpZXdJbnB1dFJpZ2h0IiwiaGFuZGxlVmlld1NldExlZnRGcm9tT3V0c2lkZSIsImhhbmRsZVZpZXdTZXRSaWdodEZyb21PdXRzaWRlIiwiaGFuZGxlVmlld1NldE1pbiIsImhhbmRsZVZpZXdTZXRNYXgiLCJoYW5kbGVWaWV3U2V0U3RlcCIsImhhbmRsZVZpZXdUb2dnbGVPcmllbnRhdGlvbiIsImhhbmRsZVZpZXdUb2dnbGVSYW5nZSIsImhhbmRsZVZpZXdUb2dnbGVTY2FsZSIsImhhbmRsZVZpZXdTZXRTY2FsZUludGVydmFscyIsImhhbmRsZVZpZXdBZGRWYWx1ZUxhYmVscyIsImhhbmRsZVZpZXdBZGRNaW5NYXhMYWJlbHMiLCJoYW5kbGVNb2RlbFNldExlZnQiLCJoYW5kbGVNb2RlbFNldFJpZ2h0IiwiaGFuZGxlTW9kZWxTZXRNaW4iLCJoYW5kbGVNb2RlbFNldE1heCIsImhhbmRsZU1vZGVsVG9nZ2xlUmFuZ2UiLCJoYW5kbGVNb2RlbFNldFN0ZXAiLCJnZXRNaW4iLCJnZXRNYXgiLCJsZWZ0VmFsdWUiLCJnZXRMZWZ0VmFsdWUiLCJyaWdodFZhbHVlIiwiZ2V0UmlnaHRWYWx1ZSIsInBhc3NMZWZ0VmFsdWVUb1ZpZXciLCJwYXNzUmlnaHRWYWx1ZVRvVmlldyIsImdldFN0ZXAiLCJweCIsImNvbnZlcnRQeFRvVmFsdWUiLCJ1cGRhdGVWaWV3SW5wdXQiLCJjb252ZXJ0VmFsdWVUb1BlcmNlbnQiLCJyZW1vdmVDYWxjSW5hY2N1cmFjeSIsImZpdFRvU3RlcCIsInJvdW5kIiwic2V0TWluIiwic2V0TWF4Iiwic2V0U3RlcCIsInRvZ2dsZVJhbmdlIiwicmVtb3ZlUmlnaHRWYWx1ZSIsIlNsaWRlciIsInByZXNlbnRlciIsIm9uQ2hhbmdlIiwialEiLCIkIiwiZGVmYXVsdHMiLCJmbiIsInJhbmdlU2xpZGVyIiwiZWFjaCIsInNldHRpbmdzRnJvbURhdGFzZXQiLCJzZXR0aW5ncyIsImV4dGVuZCIsImZpeGVkU2V0dGluZ3MiLCJjaGVja1R5cGUiLCJwcm9wZXJ0eSIsInJlbW92ZVdyb25nVHlwZXMiLCJ2YWxpZGF0ZSIsIkhUTUxEaXZFbGVtZW50Il0sInNvdXJjZVJvb3QiOiIifQ==