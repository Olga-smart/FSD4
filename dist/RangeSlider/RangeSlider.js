(self.webpackChunk=self.webpackChunk||[]).push([[906],{71376:(e,t,i)=>{"use strict";i(83875);class a{constructor(){this.listeners=[]}subscribe(e){this.listeners.push(e)}unsubscribe(e){this.listeners=this.listeners.filter((t=>t!==e))}notify(e,t=null){0!==this.listeners.length&&this.listeners.forEach((i=>i.inform(e,t)))}}const s=class{constructor(e,t){this.component=document.createElement(e),t&&(this.component.className=t)}static createComponent(e,t){const i=document.createElement(e);return t&&(i.className=t),i}getComponent(){return this.component}getBoundingClientRect(){return this.component.getBoundingClientRect()}getWidth(){return this.component.offsetWidth}getHeight(){return this.component.offsetHeight}setIndent(e,t){"number"==typeof t&&(this.component.style[e]=`${t}%`),"string"==typeof t&&(this.component.style[e]=t)}remove(){this.component.remove()}},n=class extends s{constructor(e){super("div","range-slider__track"),this.view=e,this.attachEventHandlers()}append(...e){this.component.append(...e)}handleClick(e){if(e.currentTarget instanceof HTMLElement){const t=e.clientX-e.currentTarget.getBoundingClientRect().left,i=e.clientY-e.currentTarget.getBoundingClientRect().top;this.view.handleScaleOrTrackClick(t,i)}}attachEventHandlers(){this.component.addEventListener("click",this.handleClick.bind(this))}},l=class extends s{constructor(){super("div","range-slider__range")}setWidth(e){this.component.style.width=`${e}%`}setHeight(e){this.component.style.height=`${e}%`}resetWidth(){this.component.style.width="unset"}resetHeight(){this.component.style.height="unset"}resetTopIndent(){this.component.style.top="unset"}};class h extends s{constructor(e,t="left"){super("div",`range-slider__thumb range-slider__thumb_${t}`),this.type=t,this.view=e,this.attachEventHandlers()}getLeftIndent(){return this.component.style.left}getTopIndent(){return this.component.style.top}setZIndex(e){this.component.style.zIndex=`${e}`}static handlePointerOver(e){e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.add("range-slider__thumb_hover")}static handlePointerOut(e){e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.remove("range-slider__thumb_hover")}static handlePointerUp(e){e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.remove("range-slider__thumb_active")}static handleDragStart(){return!1}handlePointerDown(e){if(e.currentTarget instanceof HTMLElement){e.currentTarget.classList.add("range-slider__thumb_active"),e.currentTarget.setPointerCapture(e.pointerId),e.preventDefault();const t=e.clientX-e.currentTarget.getBoundingClientRect().left,i=e.clientY-e.currentTarget.getBoundingClientRect().top,a=e=>{"left"===this.type&&this.view.handleLeftInput(e.clientX,e.clientY,t,i),"right"===this.type&&this.view.handleRightInput(e.clientX,e.clientY,t,i)},s=()=>{this.component.removeEventListener("pointermove",a),this.component.removeEventListener("pointerup",s)};this.component.addEventListener("pointermove",a),this.component.addEventListener("pointerup",s)}}attachEventHandlers(){this.component.addEventListener("pointerover",h.handlePointerOver),this.component.addEventListener("pointerout",h.handlePointerOut),this.component.addEventListener("pointerdown",this.handlePointerDown.bind(this)),this.component.addEventListener("pointerup",h.handlePointerUp),this.component.addEventListener("dragstart",h.handleDragStart)}}const r=h,o=class extends s{constructor(e,t,i){super("div","range-slider__scale"),this.view=i,this.intervals=[],this.values=[],this.valueElements=[];const a=i.getScaleIntervals();this.createIntervals(a),this.addMarksInIntervals(a),this.addValues(e,t,a),this.attachEventHandlers()}fitWidthForVertical(e=3){let t=0;this.valueElements.forEach((e=>{e.offsetWidth>t&&(t=e.offsetWidth)})),this.component.style.paddingRight=`${t+e}px`}fitHeightForHorizontal(e=3){let t=0;this.valueElements.forEach((e=>{e.offsetHeight>t&&(t=e.offsetHeight)})),this.component.style.paddingBottom=`${t+e}px`}handleSwitchFromHorizontalToVertical(){this.component.style.paddingBottom="unset",this.fitWidthForVertical()}handleSwitchFromVerticalToHorizontal(){this.component.style.paddingRight="unset",this.fitHeightForHorizontal()}createIntervals(e){const t=new DocumentFragment;for(let i=0;i<e;i+=1)this.intervals[i]=s.createComponent("div","range-slider__scale-interval"),t.append(this.intervals[i]);this.component.append(t)}addMarksInIntervals(e){this.intervals.forEach((t=>{const i=new DocumentFragment;e<29&&i.append(s.createComponent("span","range-slider__scale-mark")),e<15&&i.append(s.createComponent("span","range-slider__scale-mark")),e<8&&i.append(s.createComponent("span","range-slider__scale-mark")),e<5&&i.append(s.createComponent("span","range-slider__scale-mark")),t.append(i)}))}addValues(e,t,i){this.values[0]=e;const a=(t-e)/i;let n=0;0!==Math.round(i/(t-e))&&(n=Math.round(i/(t-e)).toString().length);for(let t=1;t<i;t+=1)this.values[t]=Number((t*a+e).toFixed(n));this.values.push(t);const l=s.createComponent("span","range-slider__scale-interval-value range-slider__scale-interval-value_min");l.textContent=`${this.values[0]}`,this.intervals[0].append(l),this.valueElements.push(l);for(let e=1;e<this.values.length;e+=1){const t=s.createComponent("span","range-slider__scale-interval-value");t.textContent=`${this.values[e]}`,this.intervals[e-1].append(t),this.valueElements.push(t)}}handleClick(e){if(e.currentTarget instanceof HTMLElement){const t=e.clientX-e.currentTarget.getBoundingClientRect().left,i=e.clientY-e.currentTarget.getBoundingClientRect().top;this.view.handleScaleOrTrackClick(t,i)}}attachEventHandlers(){this.component.addEventListener("click",this.handleClick.bind(this))}},u=class extends s{constructor(){super("div","range-slider__labels-container")}append(...e){this.component.append(...e)}fixWidthForVertical(e,t=4){let i=0;e.forEach((e=>{e.offsetWidth>i&&(i=e.offsetWidth)})),this.component.style.paddingLeft=`${i+t}px`}fixHeightForHorizontal(e,t=4){let i=0;e.forEach((e=>{e.offsetHeight>i&&(i=e.offsetHeight)})),this.component.style.paddingTop=`${i+t}px`}},d=class extends s{constructor(e){super("div",e)}setOpacity(e){this.component.style.opacity=`${e}`}setValue(e){this.component.textContent=`${e}`}getValue(){return Number(this.component.textContent)}getLeftIndent(){return this.component.style.left}getTopIndent(){return this.component.style.top}},c=class extends s{constructor(){super("input","range-slider__input"),this.setAttributes()}setValue(e,t=null){this.component.value=null===t?`${e}`:`${e} - ${t}`}setAttributes(){this.component.type="text",this.component.tabIndex=-1,this.component.readOnly=!0}};class m extends s{constructor(e){super("form","panel"),this.view=e,this.min=s.createComponent("input","panel__min panel__input"),this.max=s.createComponent("input","panel__max panel__input"),this.step=s.createComponent("input","panel__step panel__input"),this.from=s.createComponent("input","panel__from panel__input"),this.to=s.createComponent("input","panel__to panel__input"),this.vertical=s.createComponent("input","panel__vertical panel__checkbox"),this.range=s.createComponent("input","panel__range panel__checkbox"),this.scale=s.createComponent("input","panel__scale panel__checkbox"),this.scaleIntervals=s.createComponent("input","panel__scale-intervals panel__input"),this.valueLabels=s.createComponent("input","panel__value-labels panel__checkbox"),this.minMaxLabels=s.createComponent("input","panel__min-max-labels panel__checkbox"),this.render(),this.attachEventHandlers()}setValues(e){this.min.value=`${e.min}`,this.max.value=`${e.max}`,this.step.value=`${e.step}`,this.from.value=`${e.from}`,this.to.value=null!==e.to?`${e.to}`:"",this.vertical.checked=e.vertical,this.range.checked=e.range,this.scale.checked=e.scale,this.scaleIntervals.value=`${e.scaleIntervals}`,this.valueLabels.checked=e.valueLabels,this.minMaxLabels.checked=e.minMaxLabels,this.setCheckMarks(),this.setAttributes(e)}updateFrom(e){this.from.value=`${e}`,this.updateAttributesAfterFromChange()}updateTo(e){this.to.value=`${e}`,this.updateAttributesAfterToChange()}updateStep(e){this.step.value=`${e}`,this.updateAttributesAfterStepChange()}updateMin(e){this.min.value=`${e}`,this.updateAttributesAfterMinChange()}updateMax(e){this.max.value=`${e}`,this.updateAttributesAfterMaxChange()}updateScaleIntervals(e){this.scaleIntervals.value=`${e}`}static addLabel(e,t,i){const a=s.createComponent("label","panel__label");return a.textContent=t,i&&a.classList.add(i),a.append(e),a}static calcStepMin(e){if(Number.isInteger(e))return 1;let t="1";for(let i=e.toString().split(".")[1].length;i>1;i-=1)t=`0${t}`;return t=`0.${t}`,Number(t)}static toggleCheckbox(e){const t=e.closest("label");null==t||t.classList.toggle("panel__label_for-checkbox_checked")}render(){this.setTypes(),this.component.append(m.addLabel(this.range,"Range:","panel__label_for-checkbox"),m.addLabel(this.vertical,"Vertical:","panel__label_for-checkbox"),m.addLabel(this.valueLabels,"Value labels:","panel__label_for-checkbox"),m.addLabel(this.minMaxLabels,"Min&max labels:","panel__label_for-checkbox"),m.addLabel(this.scale,"Scale:","panel__label_for-checkbox"),m.addLabel(this.scaleIntervals,"Scale intervals:"),m.addLabel(this.min,"Min:"),m.addLabel(this.max,"Max:"),m.addLabel(this.from,"From:"),m.addLabel(this.to,"To:"),m.addLabel(this.step,"Step:"))}setTypes(){this.min.type="number",this.max.type="number",this.step.type="number",this.from.type="number",this.to.type="number",this.vertical.type="checkbox",this.range.type="checkbox",this.scale.type="checkbox",this.scaleIntervals.type="number",this.valueLabels.type="checkbox",this.minMaxLabels.type="checkbox"}setAttributes(e){this.from.min=`${e.min}`,this.from.max=e.range?`${e.to}`:`${e.max}`,this.to.min=`${e.from}`,this.to.max=`${e.max}`,this.from.step=`${e.step}`,this.to.step=`${e.step}`,this.min.step=`${e.step}`,this.max.step=`${e.step}`,this.min.max=`${e.from}`,this.max.min=e.range?`${e.to}`:`${e.from}`,this.step.min=`${m.calcStepMin(e.step)}`,this.step.step=this.step.min,this.step.max=`${Math.abs(e.max-e.min)}`,e.range||(this.to.disabled=!0),this.scaleIntervals.min="1",e.scale||(this.scaleIntervals.disabled=!0)}setCheckMarks(){[this.vertical,this.range,this.scale,this.valueLabels,this.minMaxLabels].forEach((e=>{e.checked&&m.toggleCheckbox(e)}))}updateAttributesAfterFromChange(){this.min.max=this.from.value,this.view.isRange()&&(this.to.min=this.from.value),this.view.isRange()||(this.max.min=this.from.value)}updateAttributesAfterToChange(){this.from.max=this.to.value,this.max.min=this.to.value}updateAttributesAfterStepChange(){this.step.min=`${m.calcStepMin(Number(this.step.value))}`,this.step.step=`${m.calcStepMin(Number(this.step.value))}`,this.from.step=this.step.value,this.to.step=this.step.value,this.min.step=this.step.value,this.max.step=this.step.value}updateAttributesAfterMinChange(){this.from.min=this.min.value}updateAttributesAfterMaxChange(){this.view.isRange()||(this.from.max=this.max.value),this.view.isRange()&&(this.to.max=this.max.value)}handleMinChange(){Number(this.min.value)>Number(this.from.value)&&(this.min.value=this.from.value),this.view.changeMinFromOutside(Number(this.min.value)),this.step.max=`${Math.abs(Number(this.max.value)-Number(this.min.value))}`,this.updateAttributesAfterMinChange()}handleMaxChange(){this.view.isRange()||Number(this.max.value)<Number(this.from.value)&&(this.max.value=this.from.value),this.view.isRange()&&Number(this.max.value)<Number(this.to.value)&&(this.max.value=this.to.value),this.view.changeMaxFromOutside(Number(this.max.value)),this.step.max=`${Math.abs(Number(this.max.value)-Number(this.min.value))}`,this.updateAttributesAfterMaxChange()}handleStepChange(){Number(this.step.value)>Number(this.step.max)&&(this.step.value=this.step.max),Number(this.step.value)<=0&&(this.step.value=this.step.min),this.view.changeStepFromOutside(Number(this.step.value)),this.updateAttributesAfterStepChange()}handleFromChange(){Number(this.from.value)>Number(this.from.max)&&(this.from.value=this.from.max),Number(this.from.value)<Number(this.from.min)&&(this.from.value=this.from.min),this.view.changeLeftValueFromOutside(Number(this.from.value)),this.updateAttributesAfterFromChange()}handleToChange(){Number(this.to.value)>Number(this.to.max)&&(this.to.value=this.to.max),Number(this.to.value)<Number(this.to.min)&&(this.to.value=this.to.min),this.view.changeRightValueFromOutside(Number(this.to.value)),this.updateAttributesAfterToChange()}handleVerticalChange(){this.view.changeOrientationFromOutside(),m.toggleCheckbox(this.vertical)}handleRangeChange(){this.view.toggleRangeFromOutside(),this.to.disabled=!this.to.disabled,this.range.checked?this.from.max=this.to.value:this.from.max=this.max.value,m.toggleCheckbox(this.range)}handleScaleChange(){this.view.toggleScaleFromOutside(),this.scaleIntervals.disabled=!this.scaleIntervals.disabled,m.toggleCheckbox(this.scale)}handleScaleIntervalsChange(){Number(this.scaleIntervals.value)<Number(this.scaleIntervals.min)&&(this.scaleIntervals.value=this.scaleIntervals.min),Number.isInteger(this.scaleIntervals.value)||(this.scaleIntervals.value=`${Math.floor(Number(this.scaleIntervals.value))}`),this.view.changeScaleIntervals(Number(this.scaleIntervals.value))}handleValueLabelsChange(){this.view.toggleValueLabels(),m.toggleCheckbox(this.valueLabels)}handleMinMaxLabelsChange(){this.view.toggleMinMaxLabels(),m.toggleCheckbox(this.minMaxLabels)}attachEventHandlers(){this.min.addEventListener("change",this.handleMinChange.bind(this)),this.max.addEventListener("change",this.handleMaxChange.bind(this)),this.step.addEventListener("change",this.handleStepChange.bind(this)),this.from.addEventListener("change",this.handleFromChange.bind(this)),this.to.addEventListener("change",this.handleToChange.bind(this)),this.vertical.addEventListener("change",this.handleVerticalChange.bind(this)),this.range.addEventListener("change",this.handleRangeChange.bind(this)),this.scale.addEventListener("change",this.handleScaleChange.bind(this)),this.scaleIntervals.addEventListener("change",this.handleScaleIntervalsChange.bind(this)),this.valueLabels.addEventListener("change",this.handleValueLabelsChange.bind(this)),this.minMaxLabels.addEventListener("change",this.handleMinMaxLabelsChange.bind(this))}}const g=class extends s{constructor(e,t={}){var i;super("div"),this.component=e,this.eventManager=new a,this.slider=s.createComponent("div","range-slider__slider"),this.track=new n(this),this.range=new l,this.thumbLeft=new r(this,"left"),this.input=new c,t.range&&(this.thumbRight=new r(this,"right")),this.scaleIntervals=null!==(i=t.scaleIntervals)&&void 0!==i?i:4,t.scale&&(this.scale=new o(0,100,this)),(t.minMaxLabels||t.valueLabels)&&(this.labelsContainer=new u,t.minMaxLabels&&(this.minLabel=new d("range-slider__min-max-label range-slider__min-max-label_left"),this.maxLabel=new d("range-slider__min-max-label range-slider__min-max-label_right")),t.valueLabels&&(this.valueLabelLeft=new d("range-slider__value-label range-slider__value-label_left"),t.range&&(this.valueLabelRight=new d("range-slider__value-label range-slider__value-label_right"),this.valueLabelCommon=new d("range-slider__value-label range-slider__value-label_common")))),t.vertical&&(this.vertical=!0),t.panel&&(this.panel=new m(this)),this.render()}subscribe(e){this.eventManager.subscribe(e)}notify(e,t=null){this.eventManager.notify(e,t)}setMinValue(e){var t;null===(t=this.minLabel)||void 0===t||t.setValue(e)}setMaxValue(e){var t;null===(t=this.maxLabel)||void 0===t||t.setValue(e)}setLeftValue(e,t){var i,a;this.vertical||(this.thumbLeft.setIndent("left",t),this.isRange()||this.range.setWidth(t),this.isRange()&&this.range.setIndent("left",t),null===(i=this.valueLabelLeft)||void 0===i||i.setIndent("left",this.thumbLeft.getLeftIndent()),"100%"===this.thumbLeft.getLeftIndent()?this.thumbLeft.setZIndex(100):this.thumbLeft.setZIndex(3)),this.vertical&&(this.thumbLeft.setIndent("top",100-t),this.isRange()||this.range.setHeight(t),this.isRange()&&this.range.setIndent("bottom",t),null===(a=this.valueLabelLeft)||void 0===a||a.setIndent("top",this.thumbLeft.getTopIndent()),"0%"===this.thumbLeft.getTopIndent()?this.thumbLeft.setZIndex(100):this.thumbLeft.setZIndex(3)),this.valueLabelLeft&&(this.valueLabelLeft.setValue(e),this.isRange()&&(this.valueLabelCommon.setValue(`${e} - ${this.valueLabelRight.getValue()}`),this.isTwoValueLabelsClose()?this.mergeLabels():this.splitLabels())),this.valueLabelLeft&&this.minLabel&&(this.isLeftValueLabelCloseToMinLabel()?this.minLabel.setOpacity(0):this.minLabel.setOpacity(1),this.isRange()||(this.isLeftValueLabelCloseToMaxLabel()?this.maxLabel.setOpacity(0):this.maxLabel.setOpacity(1)))}setRightValue(e,t){var i,a,s,n;this.vertical||(null===(i=this.thumbRight)||void 0===i||i.setIndent("left",t),this.range.setIndent("right",100-t),null===(a=this.valueLabelRight)||void 0===a||a.setIndent("left",this.thumbRight.getLeftIndent())),this.vertical&&(null===(s=this.thumbRight)||void 0===s||s.setIndent("top",100-t),this.range.setIndent("top",100-t),null===(n=this.valueLabelRight)||void 0===n||n.setIndent("top",this.thumbRight.getTopIndent())),this.valueLabelRight&&(this.valueLabelRight.setValue(e),this.valueLabelCommon.setValue(`${this.valueLabelLeft.getValue()} - ${e}`),this.isTwoValueLabelsClose()?this.mergeLabels():this.splitLabels()),this.valueLabelRight&&this.maxLabel&&(this.isRightValueLabelCloseToMaxLabel()?this.maxLabel.setOpacity(0):this.maxLabel.setOpacity(1))}updateInput(e,t=null){this.input.setValue(e,t)}handleLeftInput(e,t,i=0,a=0){if(!this.vertical){const t=this.track.getBoundingClientRect().left;let a=e-i-t;if(a<0&&(a=0),!this.isRange()){const e=this.getTrackWidth();a>e&&(a=e)}if(this.isRange()){const e=this.thumbRight.getBoundingClientRect().left+this.thumbRight.getWidth()/2-t;a>e&&(a=e)}this.notify("viewInputLeft",a)}if(this.vertical){const e=this.track.getBoundingClientRect().top;let i=t-a-e;const s=this.getTrackHeight();if(i>s&&(i=s),!this.isRange()&&i<0&&(i=0),this.isRange()){const t=this.thumbRight.getBoundingClientRect().top+this.thumbRight.getHeight()/2-e;i<t&&(i=t)}const n=s-i;this.notify("viewInputLeft",n)}}handleRightInput(e,t,i=0,a=0){if(!this.vertical){const t=this.track.getBoundingClientRect().left;let a=e-i-t;const s=this.thumbLeft.getBoundingClientRect().left+this.thumbLeft.getWidth()/2-t;a<s&&(a=s);const n=this.getTrackWidth();a>n&&(a=n),this.notify("viewInputRight",a)}if(this.vertical){const e=this.track.getBoundingClientRect().top;let i=t-a-e;i<0&&(i=0);const s=this.thumbLeft.getBoundingClientRect().top+this.thumbLeft.getHeight()/2-e;i>s&&(i=s);const n=this.getTrackHeight()-i;this.notify("viewInputRight",n)}}addScale(e,t){this.scale=new o(e,t,this),this.slider.after(this.scale.getComponent()),this.vertical||this.scale.fitHeightForHorizontal(),this.vertical&&this.scale.fitWidthForVertical()}removeScale(){var e;null===(e=this.scale)||void 0===e||e.getComponent().remove(),this.scale=void 0}getScale(){return this.scale}getScaleIntervals(){return this.scaleIntervals||0}handleScaleOrTrackClick(e,t){this.isRange()||(this.addSmoothTransition("left"),this.vertical?this.notify("viewInputLeft",this.getTrackHeight()-t):this.notify("viewInputLeft",e),setTimeout((()=>{this.removeSmoothTransition("left")}),1e3)),this.isRange()&&("left"===this.whichThumbIsNearer(e,t)?(this.addSmoothTransition("left"),this.vertical?this.notify("viewInputLeft",this.getTrackHeight()-t):this.notify("viewInputLeft",e),setTimeout((()=>{this.removeSmoothTransition("left")}),1e3)):(this.addSmoothTransition("right"),this.vertical?this.notify("viewInputRight",this.getTrackHeight()-t):this.notify("viewInputRight",e),setTimeout((()=>{this.removeSmoothTransition("right")}),1e3)))}fixLabelsContainerWidthForVertical(){var e;const t=this.collectLabels();null===(e=this.labelsContainer)||void 0===e||e.fixWidthForVertical(t)}fixLabelsContainerHeightForHorizontal(){var e;const t=this.collectLabels();null===(e=this.labelsContainer)||void 0===e||e.fixHeightForHorizontal(t)}setPanelValues(e){var t;null===(t=this.panel)||void 0===t||t.setValues(e)}updatePanelFrom(e){var t;null===(t=this.panel)||void 0===t||t.updateFrom(e)}updatePanelTo(e){var t;null===(t=this.panel)||void 0===t||t.updateTo(e)}updatePanelScaleIntervals(e){var t;null===(t=this.panel)||void 0===t||t.updateScaleIntervals(e)}updatePanelStep(e){var t;null===(t=this.panel)||void 0===t||t.updateStep(e)}updatePanelMin(e){var t;null===(t=this.panel)||void 0===t||t.updateMin(e)}updatePanelMax(e){var t;null===(t=this.panel)||void 0===t||t.updateMax(e)}changeLeftValueFromOutside(e){this.notify("viewSetLeftFromOutside",e)}changeRightValueFromOutside(e){this.notify("viewSetRightFromOutside",e)}changeMinFromOutside(e){this.notify("viewSetMin",e)}changeMaxFromOutside(e){this.notify("viewSetMax",e)}changeStepFromOutside(e){this.notify("viewSetStep",e)}changeOrientationFromOutside(){var e,t,i,a,s,n,l,h,r,o;if(!this.vertical)return this.vertical=!0,this.destroy(),this.render(),this.thumbLeft.setIndent("left",0),null===(e=this.thumbRight)||void 0===e||e.setIndent("left",0),this.range.setIndent("left",0),this.range.setIndent("right",0),this.range.resetTopIndent(),this.range.resetWidth(),null===(t=this.valueLabelLeft)||void 0===t||t.setIndent("left","unset"),null===(i=this.valueLabelRight)||void 0===i||i.setIndent("left","unset"),null===(a=this.valueLabelCommon)||void 0===a||a.setIndent("left","unset"),null===(s=this.scale)||void 0===s||s.handleSwitchFromHorizontalToVertical(),void this.notify("viewToggleOrientation");this.vertical&&(this.vertical=!1,this.component.classList.remove("range-slider_vertical"),this.destroy(),this.render(),this.thumbLeft.setIndent("top",0),null===(n=this.thumbRight)||void 0===n||n.setIndent("top",0),this.range.setIndent("bottom",0),this.range.setIndent("top",0),this.range.resetHeight(),null===(l=this.valueLabelLeft)||void 0===l||l.setIndent("top","unset"),null===(h=this.valueLabelRight)||void 0===h||h.setIndent("top","unset"),null===(r=this.valueLabelCommon)||void 0===r||r.setIndent("top","unset"),null===(o=this.scale)||void 0===o||o.handleSwitchFromVerticalToHorizontal(),this.notify("viewToggleOrientation"))}toggleRangeFromOutside(){const e=!this.isRange();e&&(this.destroy(),this.thumbRight=new r(this,"right"),this.valueLabelLeft&&(this.valueLabelRight=new d("range-slider__value-label range-slider__value-label_right"),this.valueLabelCommon=new d("range-slider__value-label range-slider__value-label_common")),this.vertical||this.range.resetWidth(),this.vertical&&this.range.resetHeight(),this.render()),e||(this.vertical&&this.range.resetTopIndent(),this.destroy(),this.thumbRight=void 0,this.render()),this.notify("viewToggleRange")}toggleScaleFromOutside(){this.notify("viewToggleScale")}changeScaleIntervals(e){e<=0||(this.scaleIntervals=Math.floor(e),this.removeScale(),this.notify("viewSetScaleIntervals"))}toggleValueLabels(){var e,t,i;if(this.valueLabelLeft)return this.valueLabelLeft.remove(),null===(e=this.valueLabelRight)||void 0===e||e.remove(),null===(t=this.valueLabelCommon)||void 0===t||t.remove(),this.valueLabelLeft=void 0,this.valueLabelRight=void 0,this.valueLabelCommon=void 0,this.minLabel&&(this.vertical||this.fixLabelsContainerHeightForHorizontal(),this.vertical&&this.fixLabelsContainerWidthForVertical()),void(this.minLabel||(null===(i=this.labelsContainer)||void 0===i||i.remove(),this.labelsContainer=void 0));this.valueLabelLeft||(this.valueLabelLeft=new d("range-slider__value-label range-slider__value-label_left"),this.labelsContainer||(this.labelsContainer=new u,this.slider.before(this.labelsContainer.getComponent())),this.labelsContainer.append(this.valueLabelLeft.getComponent()),this.isRange()&&(this.valueLabelRight=new d("range-slider__value-label range-slider__value-label_right"),this.valueLabelCommon=new d("range-slider__value-label range-slider__value-label_common"),this.labelsContainer.append(this.valueLabelRight.getComponent(),this.valueLabelCommon.getComponent())),this.notify("viewAddValueLabels"),this.vertical||this.fixLabelsContainerHeightForHorizontal(),this.vertical&&this.fixLabelsContainerWidthForVertical())}toggleMinMaxLabels(){var e,t;if(this.minLabel)return this.minLabel.remove(),null===(e=this.maxLabel)||void 0===e||e.remove(),this.minLabel=void 0,this.maxLabel=void 0,this.valueLabelLeft&&(this.vertical||this.fixLabelsContainerHeightForHorizontal(),this.vertical&&this.fixLabelsContainerWidthForVertical()),void(this.valueLabelLeft||(null===(t=this.labelsContainer)||void 0===t||t.remove(),this.labelsContainer=void 0));this.minLabel||(this.minLabel=new d("range-slider__min-max-label range-slider__min-max-label_left"),this.maxLabel=new d("range-slider__min-max-label range-slider__min-max-label_right"),this.labelsContainer||(this.labelsContainer=new u,this.slider.before(this.labelsContainer.getComponent())),this.labelsContainer.append(this.minLabel.getComponent(),this.maxLabel.getComponent()),this.notify("viewAddMinMaxLabels"),this.vertical||this.fixLabelsContainerHeightForHorizontal(),this.vertical&&this.fixLabelsContainerWidthForVertical())}hasLabels(){return!(!this.valueLabelLeft&&!this.minLabel)}hasScale(){return!!this.scale}hasMinMaxLabels(){return!!this.maxLabel}hasValueLabels(){return!!this.valueLabelLeft}hasPanel(){return!!this.panel}isRange(){return!!this.thumbRight}isVertical(){return!!this.vertical}getTrackWidth(){return this.track.getWidth()}getTrackHeight(){return this.track.getHeight()}render(){const e=new DocumentFragment;if(this.track.append(this.range.getComponent()),this.slider.append(this.track.getComponent(),this.thumbLeft.getComponent()),e.append(this.slider,this.input.getComponent()),this.isRange()?this.slider.append(this.thumbRight.getComponent()):(this.vertical||this.range.setIndent("left",0),this.vertical&&this.range.setIndent("bottom",0)),this.minLabel&&this.maxLabel&&this.labelsContainer.append(this.minLabel.getComponent(),this.maxLabel.getComponent()),this.valueLabelLeft&&(this.labelsContainer.append(this.valueLabelLeft.getComponent()),this.isRange()&&this.labelsContainer.append(this.valueLabelRight.getComponent(),this.valueLabelCommon.getComponent())),this.labelsContainer&&this.slider.before(this.labelsContainer.getComponent()),this.vertical&&this.component.classList.add("range-slider_vertical"),this.panel){const t=s.createComponent("div","range-slider__panel");t.append(this.panel.getComponent()),e.append(t)}this.scale&&this.slider.after(this.scale.getComponent()),this.component.append(e)}destroy(){this.labelsContainer&&[...this.labelsContainer.getComponent().children].forEach((e=>{e.remove()})),[...this.slider.children].forEach((e=>{e.remove()})),[...this.component.children].forEach((e=>{e.remove()}))}mergeLabels(){var e,t,i,a,s;if(null===(e=this.valueLabelLeft)||void 0===e||e.setOpacity(0),null===(t=this.valueLabelRight)||void 0===t||t.setOpacity(0),null===(i=this.valueLabelCommon)||void 0===i||i.setOpacity(1),!this.vertical){const e=parseInt(this.thumbRight.getLeftIndent(),10)-parseInt(this.thumbLeft.getLeftIndent(),10);null===(a=this.valueLabelCommon)||void 0===a||a.setIndent("left",`${parseInt(this.valueLabelLeft.getLeftIndent(),10)+e/2}%`)}if(this.vertical){const e=parseInt(this.thumbRight.getTopIndent(),10)-parseInt(this.thumbLeft.getTopIndent(),10);null===(s=this.valueLabelCommon)||void 0===s||s.setIndent("top",parseInt(this.valueLabelRight.getTopIndent(),10)-e/2+"%")}}splitLabels(){var e,t,i;null===(e=this.valueLabelCommon)||void 0===e||e.setOpacity(0),null===(t=this.valueLabelLeft)||void 0===t||t.setOpacity(1),null===(i=this.valueLabelRight)||void 0===i||i.setOpacity(1)}isTwoLabelsClose(e,t){if(this.vertical)return e.getBoundingClientRect().top-t.getBoundingClientRect().bottom<3;const i=e.getBoundingClientRect().right;return t.getBoundingClientRect().left-i<3}isTwoValueLabelsClose(){return!(!this.valueLabelLeft||!this.valueLabelRight)&&this.isTwoLabelsClose(this.valueLabelLeft,this.valueLabelRight)}isLeftValueLabelCloseToMinLabel(){return!(!this.minLabel||!this.valueLabelLeft)&&this.isTwoLabelsClose(this.minLabel,this.valueLabelLeft)}isLeftValueLabelCloseToMaxLabel(){return!(!this.valueLabelLeft||!this.maxLabel)&&this.isTwoLabelsClose(this.valueLabelLeft,this.maxLabel)}isRightValueLabelCloseToMaxLabel(){return!(!this.valueLabelRight||!this.maxLabel)&&this.isTwoLabelsClose(this.valueLabelRight,this.maxLabel)}whichThumbIsNearer(e,t){const i=this.thumbLeft.getBoundingClientRect(),a=this.thumbRight.getBoundingClientRect(),s=this.track.getBoundingClientRect();let n=0,l=0;if(!this.vertical){const t=i.left+i.width/2-s.left,h=a.left+a.width/2-s.left;n=Math.abs(e-t),l=Math.abs(e-h)}if(this.vertical){const e=i.top+i.height/2-s.top,h=a.top+a.height/2-s.top;n=Math.abs(t-e),l=Math.abs(t-h)}return n<=l?"left":"right"}addSmoothTransition(e="left"){var t,i;"left"===e&&(this.thumbLeft.getComponent().classList.add("range-slider__thumb_smooth-transition"),this.range.getComponent().classList.add("range-slider__range_smooth-transition"),null===(t=this.valueLabelLeft)||void 0===t||t.getComponent().classList.add("range-slider__value-label_smooth-transition")),"right"===e&&(this.thumbRight.getComponent().classList.add("range-slider__thumb_smooth-transition"),this.range.getComponent().classList.add("range-slider__range_smooth-transition"),null===(i=this.valueLabelRight)||void 0===i||i.getComponent().classList.add("range-slider__value-label_smooth-transition"))}removeSmoothTransition(e="left"){var t,i;"left"===e&&(this.thumbLeft.getComponent().classList.remove("range-slider__thumb_smooth-transition"),this.range.getComponent().classList.remove("range-slider__range_smooth-transition"),null===(t=this.valueLabelLeft)||void 0===t||t.getComponent().classList.remove("range-slider__value-label_smooth-transition")),"right"===e&&(this.thumbRight.getComponent().classList.remove("range-slider__thumb_smooth-transition"),this.range.getComponent().classList.remove("range-slider__range_smooth-transition"),null===(i=this.valueLabelRight)||void 0===i||i.getComponent().classList.remove("range-slider__value-label_smooth-transition"))}collectLabels(){const e=[];return this.minLabel&&this.maxLabel&&(e.push(this.minLabel.getComponent()),e.push(this.maxLabel.getComponent())),this.valueLabelLeft&&e.push(this.valueLabelLeft.getComponent()),this.valueLabelRight&&e.push(this.valueLabelRight.getComponent()),e}};class v{constructor(e,t){this.model=e,this.view=t,this.initViewValues(),this.model.subscribe(this),this.view.subscribe(this)}inform(e,t=null){switch(e){case"viewInputLeft":"number"==typeof t&&this.handleViewInputLeft(t);break;case"viewInputRight":"number"==typeof t&&this.handleViewInputRight(t);break;case"viewSetLeftFromOutside":"number"==typeof t&&this.handleViewSetLeftFromOutside(t);break;case"viewSetRightFromOutside":"number"==typeof t&&this.handleViewSetRightFromOutside(t);break;case"viewSetMin":"number"==typeof t&&this.handleViewSetMin(t);break;case"viewSetMax":"number"==typeof t&&this.handleViewSetMax(t);break;case"viewSetStep":"number"==typeof t&&this.handleViewSetStep(t);break;case"viewToggleOrientation":this.handleViewToggleOrientation();break;case"viewToggleRange":this.handleViewToggleRange();break;case"viewToggleScale":this.handleViewToggleScale();break;case"viewSetScaleIntervals":this.handleViewSetScaleIntervals();break;case"viewAddValueLabels":this.handleViewAddValueLabels();break;case"viewAddMinMaxLabels":this.handleViewAddMinMaxLabels();break;case"modelSetLeft":this.handleModelSetLeft();break;case"modelSetRight":this.handleModelSetRight();break;case"modelSetMin":this.handleModelSetMin();break;case"modelSetMax":this.handleModelSetMax();break;case"modelToggleRange":this.handleModelToggleRange();break;case"modelSetStep":this.handleModelSetStep()}}static removeCalcInaccuracy(e){return Number(e.toFixed(10))}initViewValues(){var e;const{model:t}=this,{view:i}=this,a=t.getMin(),s=t.getMax(),n=t.getLeftValue(),l=t.getRightValue();i.setMinValue(a),i.setMaxValue(s),this.passLeftValueToView(n),i.isRange()&&void 0!==l?(this.passRightValueToView(l),i.updateInput(n,l)):i.updateInput(n),i.hasScale()&&(i.removeScale(),i.addScale(a,s)),this.view.hasLabels()&&(i.isVertical()||i.fixLabelsContainerHeightForHorizontal(),i.isVertical()&&i.fixLabelsContainerWidthForVertical()),i.hasPanel()&&i.setPanelValues({min:a,max:s,step:t.getStep(),from:n,to:null!=l?l:null,vertical:null!==(e=i.isVertical())&&void 0!==e&&e,range:i.isRange(),scale:i.hasScale(),scaleIntervals:i.getScaleIntervals(),valueLabels:i.hasValueLabels(),minMaxLabels:i.hasMinMaxLabels()})}handleViewInputLeft(e){const t=this.convertPxToValue(e);this.model.setLeftValue(t)}handleModelSetLeft(){const e=this.model.getLeftValue();this.passLeftValueToView(e),this.updateViewInput(),this.view.hasPanel()&&this.view.updatePanelFrom(e)}handleViewInputRight(e){const t=this.convertPxToValue(e);this.model.setRightValue(t)}handleModelSetRight(){const e=this.model.getRightValue();this.passRightValueToView(e),this.updateViewInput(),this.view.hasPanel()&&this.view.updatePanelTo(e)}passLeftValueToView(e){const t=this.convertValueToPercent(e);this.view.setLeftValue(e,t)}passRightValueToView(e){const t=this.convertValueToPercent(e);this.view.setRightValue(e,t)}updateViewInput(){this.view.isRange()||this.view.updateInput(this.model.getLeftValue()),this.view.isRange()&&this.view.updateInput(this.model.getLeftValue(),this.model.getRightValue())}convertValueToPercent(e){const t=this.model.getMin();let i=(e-t)/(this.model.getMax()-t)*100;return i=v.removeCalcInaccuracy(i),i}convertPxToValue(e){let t=0;this.view.isVertical()||(t=100*e/this.view.getTrackWidth()),this.view.isVertical()&&(t=100*e/this.view.getTrackHeight());const i=this.model.getMin();let a=t/100*(this.model.getMax()-i)+i;return a=this.fitToStep(a),a=v.removeCalcInaccuracy(a),a}fitToStep(e){let t=Math.round(e/this.model.getStep())*this.model.getStep();return t=v.removeCalcInaccuracy(t),t}handleViewSetLeftFromOutside(e){this.model.setLeftValue(e)}handleViewSetRightFromOutside(e){this.model.setRightValue(e)}handleViewSetMin(e){this.model.setMin(e)}handleModelSetMin(){this.view.setMinValue(this.model.getMin()),this.passLeftValueToView(this.model.getLeftValue());const e=this.model.getRightValue();void 0!==e&&this.passRightValueToView(e),this.view.hasScale()&&(this.view.removeScale(),this.view.addScale(this.model.getMin(),this.model.getMax())),this.view.hasPanel()&&this.view.updatePanelMin(this.model.getMin())}handleViewSetMax(e){this.model.setMax(e)}handleModelSetMax(){this.view.setMaxValue(this.model.getMax()),this.passLeftValueToView(this.model.getLeftValue());const e=this.model.getRightValue();void 0!==e&&this.passRightValueToView(e),this.view.hasScale()&&(this.view.removeScale(),this.view.addScale(this.model.getMin(),this.model.getMax())),this.view.hasPanel()&&this.view.updatePanelMax(this.model.getMax())}handleViewSetStep(e){this.model.setStep(e)}handleViewToggleOrientation(){if(this.passLeftValueToView(this.model.getLeftValue()),this.view.isRange()){const e=this.model.getRightValue();void 0!==e&&this.passRightValueToView(e)}this.view.hasLabels()&&(this.view.isVertical()||this.view.fixLabelsContainerHeightForHorizontal(),this.view.isVertical()&&this.view.fixLabelsContainerWidthForVertical())}handleViewToggleRange(){this.model.toggleRange()}handleModelToggleRange(){if(this.passLeftValueToView(this.model.getLeftValue()),this.model.isRange()){this.model.setRightValue();const e=this.model.getRightValue();void 0!==e&&(this.passRightValueToView(e),this.view.updateInput(this.model.getLeftValue(),e),this.view.hasPanel()&&this.view.updatePanelTo(e))}this.model.isRange()||(this.model.removeRightValue(),this.view.updateInput(this.model.getLeftValue()),this.view.hasPanel()&&this.view.updatePanelTo(""))}handleModelSetStep(){this.view.hasPanel()&&this.view.updatePanelStep(this.model.getStep())}handleViewToggleScale(){var e;if(!this.view.hasScale())return this.view.addScale(this.model.getMin(),this.model.getMax()),void(this.view.hasPanel()&&this.view.updatePanelScaleIntervals(null!==(e=this.view.getScaleIntervals())&&void 0!==e?e:4));this.view.hasScale()&&(this.view.removeScale(),this.view.hasPanel()&&this.view.updatePanelScaleIntervals(""))}handleViewSetScaleIntervals(){this.view.addScale(this.model.getMin(),this.model.getMax())}handleViewAddValueLabels(){if(this.passLeftValueToView(this.model.getLeftValue()),this.view.isRange()){const e=this.model.getRightValue();void 0!==e&&this.passRightValueToView(e)}}handleViewAddMinMaxLabels(){this.view.setMinValue(this.model.getMin()),this.view.setMaxValue(this.model.getMax())}}const p=v;class b{constructor(e,t){this.element=e,this.model=new class{constructor(e){this.eventManager=new a,this.min=e.min,this.max=e.max,this.leftValue=e.leftValue,this.step=e.step,e.range?(this.rightValue=e.rightValue,this.range=!0):this.range=!1}subscribe(e){this.eventManager.subscribe(e)}setLeftValue(e){e<this.min?this.leftValue=this.min:(this.isRange()||(this.leftValue=Math.min(e,this.max)),this.isRange()&&void 0!==this.rightValue&&(this.leftValue=Math.min(e,this.rightValue))),this.eventManager.notify("modelSetLeft")}setRightValue(e=this.max){this.isRange()&&(e>this.max?this.rightValue=this.max:this.rightValue=Math.max(e,this.leftValue),this.eventManager.notify("modelSetRight"))}removeRightValue(){this.rightValue=void 0}setMin(e){e>this.leftValue||(this.min=e,this.eventManager.notify("modelSetMin"))}setMax(e){!this.isRange()&&e<this.leftValue||this.isRange()&&void 0!==this.rightValue&&e<this.rightValue||(this.max=e,this.eventManager.notify("modelSetMax"))}setStep(e){e<=0||e>Math.abs(this.max-this.min)||(this.step=e,this.eventManager.notify("modelSetStep"))}toggleRange(){this.range=!this.range,this.eventManager.notify("modelToggleRange")}getMin(){return this.min}getMax(){return this.max}getLeftValue(){return this.leftValue}getRightValue(){return this.rightValue}getStep(){return this.step}isRange(){return this.range}}({min:t.min,max:t.max,leftValue:t.leftValue,rightValue:t.rightValue,range:t.range,step:t.step}),this.view=new g(e,{minMaxLabels:t.minMaxLabels,valueLabels:t.valueLabels,vertical:t.vertical,range:t.range,scale:t.scale,scaleIntervals:t.scaleIntervals,panel:t.panel}),this.presenter=new p(this.model,this.view),this.model.subscribe(this)}inform(e){switch(e){case"modelLeftSet":case"modelRightSet":this.onChange&&this.onChange(this.model.getLeftValue(),this.model.getRightValue())}}setLeftValue(e){return this.view.changeLeftValueFromOutside(e),this}setRightValue(e){return this.view.changeRightValueFromOutside(e),this}setStep(e){return this.view.changeStepFromOutside(e),this}}!function(e){const t=e,i={min:0,max:100,range:!0,leftValue:25,rightValue:75,step:1,minMaxLabels:!0,valueLabels:!0,vertical:!1,scale:!1,scaleIntervals:5,panel:!1};t.fn.rangeSlider=function(e={}){return this.each((function(){const a={min:t(this).data("min"),max:t(this).data("max"),range:t(this).data("range"),leftValue:t(this).data("leftValue"),rightValue:t(this).data("rightValue"),step:t(this).data("step"),minMaxLabels:t(this).data("minMaxLabels"),valueLabels:t(this).data("valueLabels"),vertical:t(this).data("vertical"),scale:t(this).data("scale"),scaleIntervals:t(this).data("scaleIntervals"),panel:t(this).data("panel")};let s=t.extend({},i,e,a);s=function(e){let a=t.extend({},e);return function(){function t(t){typeof e[t]!=typeof i[t]&&delete a[t]}t("min"),t("max"),t("leftValue"),t("rightValue"),t("range"),t("step"),t("minMaxLabels"),t("valueLabels"),t("vertical"),t("scale"),t("scaleIntervals"),t("panel")}(),a=t.extend({},i,a),a.min>a.max&&([a.min,a.max]=[a.max,a.min]),a.leftValue<a.min&&(a.leftValue=a.min),a.rightValue>a.max&&(a.rightValue=a.max),a.leftValue>a.max&&(a.leftValue=a.max),a.leftValue>a.rightValue&&([a.leftValue,a.rightValue]=[a.rightValue,a.leftValue]),a.step>Math.abs(a.max-a.min)&&(a.step=Math.abs(a.max-a.min)),a.scaleIntervals<1&&(a.scaleIntervals=1),Number.isInteger(a.scaleIntervals)&&(a.scaleIntervals=Math.floor(a.scaleIntervals)),a}(s),this instanceof HTMLDivElement&&t(this).data("rangeSlider",new b(this,s))}))}}(i(65638))},96553:()=>{}},e=>{e.O(0,[216],(()=>(71376,e(e.s=71376)))),e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TTZULFFBaEhyRCxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vRXZlbnRNYW5hZ2VyL0V2ZW50TWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9Nb2RlbC9Nb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9WaWV3L0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50LnRzIiwid2VicGFjazovLy8uL1ZpZXcvc3Vidmlld3MvVHJhY2svVHJhY2sudHMiLCJ3ZWJwYWNrOi8vLy4vVmlldy9zdWJ2aWV3cy9SYW5nZS9SYW5nZS50cyIsIndlYnBhY2s6Ly8vLi9WaWV3L3N1YnZpZXdzL1RodW1iL1RodW1iLnRzIiwid2VicGFjazovLy8uL1ZpZXcvc3Vidmlld3MvU2NhbGUvU2NhbGUudHMiLCJ3ZWJwYWNrOi8vLy4vVmlldy9zdWJ2aWV3cy9MYWJlbHNDb250YWluZXIvTGFiZWxzQ29udGFpbmVyLnRzIiwid2VicGFjazovLy8uL1ZpZXcvc3Vidmlld3MvTGFiZWwvTGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4vVmlldy9zdWJ2aWV3cy9JbnB1dC9JbnB1dC50cyIsIndlYnBhY2s6Ly8vLi9WaWV3L3N1YnZpZXdzL1BhbmVsL1BhbmVsLnRzIiwid2VicGFjazovLy8uL1ZpZXcvVmlldy50cyIsIndlYnBhY2s6Ly8vLi9QcmVzZW50ZXIvUHJlc2VudGVyLnRzIiwid2VicGFjazovLy8uL1NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9XcmFwcGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEV2ZW50TWFuYWdlciB7XG4gIHByaXZhdGUgbGlzdGVuZXJzOiBJRXZlbnRMaXN0ZW5lcltdID0gW107XG5cbiAgc3Vic2NyaWJlKGxpc3RlbmVyOiBJRXZlbnRMaXN0ZW5lcik6IHZvaWQge1xuICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICB9XG5cbiAgdW5zdWJzY3JpYmUobGlzdGVuZXI6IElFdmVudExpc3RlbmVyKTogdm9pZCB7XG4gICAgdGhpcy5saXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0gIT09IGxpc3RlbmVyKTtcbiAgfVxuXG4gIG5vdGlmeShldmVudFR5cGU6IHN0cmluZywgZGF0YTogbnVtYmVyIHwgbnVsbCA9IG51bGwpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5saXN0ZW5lcnMubGVuZ3RoID09PSAwKSB7IHJldHVybjsgfVxuICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0uaW5mb3JtKGV2ZW50VHlwZSwgZGF0YSkpO1xuICB9XG59XG5cbmludGVyZmFjZSBJRXZlbnRMaXN0ZW5lciB7XG4gIGluZm9ybShldmVudFR5cGU6IHN0cmluZywgZGF0YTogbnVtYmVyIHwgbnVsbCk6IHZvaWQ7XG59XG5cbmV4cG9ydCB7IEV2ZW50TWFuYWdlciwgSUV2ZW50TGlzdGVuZXIgfTtcbiIsImltcG9ydCB7IEV2ZW50TWFuYWdlciwgSUV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi9FdmVudE1hbmFnZXIvRXZlbnRNYW5hZ2VyJztcblxudHlwZSBNb2RlbE9wdGlvbnMgPSB7XG4gIG1pbjogbnVtYmVyO1xuICBtYXg6IG51bWJlcjtcbiAgbGVmdFZhbHVlOiBudW1iZXI7XG4gIHJpZ2h0VmFsdWU/OiBudW1iZXI7XG4gIHN0ZXA6IG51bWJlcjtcbiAgcmFuZ2U/OiBib29sZWFuO1xufTtcblxuY2xhc3MgTW9kZWwge1xuICBwcml2YXRlIGV2ZW50TWFuYWdlcjogRXZlbnRNYW5hZ2VyO1xuXG4gIHByaXZhdGUgbWluOiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBtYXg6IG51bWJlcjtcblxuICBwcml2YXRlIGxlZnRWYWx1ZTogbnVtYmVyO1xuXG4gIHByaXZhdGUgcmlnaHRWYWx1ZT86IG51bWJlcjtcblxuICBwcml2YXRlIHN0ZXA6IG51bWJlcjtcblxuICBwcml2YXRlIHJhbmdlOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IE1vZGVsT3B0aW9ucykge1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyID0gbmV3IEV2ZW50TWFuYWdlcigpO1xuXG4gICAgdGhpcy5taW4gPSBvcHRpb25zLm1pbjtcbiAgICB0aGlzLm1heCA9IG9wdGlvbnMubWF4O1xuICAgIHRoaXMubGVmdFZhbHVlID0gb3B0aW9ucy5sZWZ0VmFsdWU7XG4gICAgdGhpcy5zdGVwID0gb3B0aW9ucy5zdGVwO1xuXG4gICAgaWYgKG9wdGlvbnMucmFuZ2UpIHtcbiAgICAgIHRoaXMucmlnaHRWYWx1ZSA9IG9wdGlvbnMucmlnaHRWYWx1ZTtcbiAgICAgIHRoaXMucmFuZ2UgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJhbmdlID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc3Vic2NyaWJlKGxpc3RlbmVyOiBJRXZlbnRMaXN0ZW5lcik6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLnN1YnNjcmliZShsaXN0ZW5lcik7XG4gIH1cblxuICBzZXRMZWZ0VmFsdWUodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh2YWx1ZSA8IHRoaXMubWluKSB7XG4gICAgICB0aGlzLmxlZnRWYWx1ZSA9IHRoaXMubWluO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIHRoaXMubGVmdFZhbHVlID0gTWF0aC5taW4odmFsdWUsIHRoaXMubWF4KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNSYW5nZSgpICYmIHRoaXMucmlnaHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMubGVmdFZhbHVlID0gTWF0aC5taW4odmFsdWUsIHRoaXMucmlnaHRWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5ldmVudE1hbmFnZXIubm90aWZ5KCdtb2RlbFNldExlZnQnKTtcbiAgfVxuXG4gIHNldFJpZ2h0VmFsdWUodmFsdWU6IG51bWJlciA9IHRoaXMubWF4KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzUmFuZ2UoKSkgcmV0dXJuO1xuXG4gICAgaWYgKHZhbHVlID4gdGhpcy5tYXgpIHtcbiAgICAgIHRoaXMucmlnaHRWYWx1ZSA9IHRoaXMubWF4O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJpZ2h0VmFsdWUgPSBNYXRoLm1heCh2YWx1ZSwgdGhpcy5sZWZ0VmFsdWUpO1xuICAgIH1cblxuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgnbW9kZWxTZXRSaWdodCcpO1xuICB9XG5cbiAgcmVtb3ZlUmlnaHRWYWx1ZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJpZ2h0VmFsdWUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBzZXRNaW4odmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh2YWx1ZSA+IHRoaXMubGVmdFZhbHVlKSByZXR1cm47XG4gICAgdGhpcy5taW4gPSB2YWx1ZTtcblxuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgnbW9kZWxTZXRNaW4nKTtcbiAgfVxuXG4gIHNldE1heCh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgaWYgKHZhbHVlIDwgdGhpcy5sZWZ0VmFsdWUpIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc1JhbmdlKCkgJiYgdGhpcy5yaWdodFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICh2YWx1ZSA8IHRoaXMucmlnaHRWYWx1ZSkgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMubWF4ID0gdmFsdWU7XG5cbiAgICB0aGlzLmV2ZW50TWFuYWdlci5ub3RpZnkoJ21vZGVsU2V0TWF4Jyk7XG4gIH1cblxuICBzZXRTdGVwKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodmFsdWUgPD0gMCkgcmV0dXJuO1xuICAgIGlmICh2YWx1ZSA+IE1hdGguYWJzKHRoaXMubWF4IC0gdGhpcy5taW4pKSByZXR1cm47XG5cbiAgICB0aGlzLnN0ZXAgPSB2YWx1ZTtcblxuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgnbW9kZWxTZXRTdGVwJyk7XG4gIH1cblxuICB0b2dnbGVSYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJhbmdlID0gIXRoaXMucmFuZ2U7XG5cbiAgICB0aGlzLmV2ZW50TWFuYWdlci5ub3RpZnkoJ21vZGVsVG9nZ2xlUmFuZ2UnKTtcbiAgfVxuXG4gIGdldE1pbigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm1pbjtcbiAgfVxuXG4gIGdldE1heCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm1heDtcbiAgfVxuXG4gIGdldExlZnRWYWx1ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmxlZnRWYWx1ZTtcbiAgfVxuXG4gIGdldFJpZ2h0VmFsdWUoKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5yaWdodFZhbHVlO1xuICB9XG5cbiAgZ2V0U3RlcCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnN0ZXA7XG4gIH1cblxuICBpc1JhbmdlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnJhbmdlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vZGVsO1xuIiwiY2xhc3MgQmFzZUVsZW1lbnQ8VCBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcD4ge1xuICBwcm90ZWN0ZWQgY29tcG9uZW50OiBIVE1MRWxlbWVudFRhZ05hbWVNYXBbVF07XG5cbiAgY29uc3RydWN0b3IodGFnOiBULCBjbGFzc05hbWU/OiBzdHJpbmcpIHtcbiAgICB0aGlzLmNvbXBvbmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcblxuICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgc3RhdGljIGNyZWF0ZUNvbXBvbmVudDxLIGV4dGVuZHMga2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwPihcbiAgICB0YWc6IEssIGNsYXNzTmFtZT86IHN0cmluZyxcbiAgKTogSFRNTEVsZW1lbnRUYWdOYW1lTWFwW0tdIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuXG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICBnZXRDb21wb25lbnQoKTogSFRNTEVsZW1lbnRUYWdOYW1lTWFwW1RdIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnQ7XG4gIH1cblxuICBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKTogRE9NUmVjdCB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB9XG5cbiAgZ2V0V2lkdGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub2Zmc2V0V2lkdGg7XG4gIH1cblxuICBnZXRIZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub2Zmc2V0SGVpZ2h0O1xuICB9XG5cbiAgc2V0SW5kZW50KHNpZGU6ICd0b3AnIHwgJ3JpZ2h0JyB8ICdib3R0b20nIHwgJ2xlZnQnLCBpbmRlbnQ6IG51bWJlciB8IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgaW5kZW50ID09PSAnbnVtYmVyJykge1xuICAgICAgdGhpcy5jb21wb25lbnQuc3R5bGVbc2lkZV0gPSBgJHtpbmRlbnR9JWA7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpbmRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC5zdHlsZVtzaWRlXSA9IGluZGVudDtcbiAgICB9XG4gIH1cblxuICByZW1vdmUoKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQucmVtb3ZlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQmFzZUVsZW1lbnQ7XG4iLCJpbXBvcnQgQmFzZUVsZW1lbnQgZnJvbSAnLi4vLi4vQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQnO1xuXG50eXBlIFZpZXdGb3JUcmFjayA9IHtcbiAgaGFuZGxlU2NhbGVPclRyYWNrQ2xpY2soeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkLFxufTtcblxuY2xhc3MgVHJhY2sgZXh0ZW5kcyBCYXNlRWxlbWVudDwnZGl2Jz4ge1xuICBwcml2YXRlIHZpZXc6IFZpZXdGb3JUcmFjaztcblxuICBjb25zdHJ1Y3Rvcih2aWV3OiBWaWV3Rm9yVHJhY2spIHtcbiAgICBzdXBlcignZGl2JywgJ3JhbmdlLXNsaWRlcl9fdHJhY2snKTtcblxuICAgIHRoaXMudmlldyA9IHZpZXc7XG5cbiAgICB0aGlzLmF0dGFjaEV2ZW50SGFuZGxlcnMoKTtcbiAgfVxuXG4gIGFwcGVuZCguLi5lbGVtZW50czogSFRNTEVsZW1lbnRbXSk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZCguLi5lbGVtZW50cyk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgY29uc3QgeDogbnVtYmVyID0gZXZlbnQuY2xpZW50WCAtIGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgIGNvbnN0IHk6IG51bWJlciA9IGV2ZW50LmNsaWVudFkgLSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcblxuICAgICAgdGhpcy52aWV3LmhhbmRsZVNjYWxlT3JUcmFja0NsaWNrKHgsIHkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXR0YWNoRXZlbnRIYW5kbGVycygpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJhY2s7XG4iLCJpbXBvcnQgQmFzZUVsZW1lbnQgZnJvbSAnLi4vLi4vQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQnO1xuXG5jbGFzcyBSYW5nZSBleHRlbmRzIEJhc2VFbGVtZW50PCdkaXYnPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdkaXYnLCAncmFuZ2Utc2xpZGVyX19yYW5nZScpO1xuICB9XG5cbiAgc2V0V2lkdGgocGVyY2VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUud2lkdGggPSBgJHtwZXJjZW50fSVgO1xuICB9XG5cbiAgc2V0SGVpZ2h0KHBlcmNlbnQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLmhlaWdodCA9IGAke3BlcmNlbnR9JWA7XG4gIH1cblxuICByZXNldFdpZHRoKCk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLndpZHRoID0gJ3Vuc2V0JztcbiAgfVxuXG4gIHJlc2V0SGVpZ2h0KCk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLmhlaWdodCA9ICd1bnNldCc7XG4gIH1cblxuICByZXNldFRvcEluZGVudCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS50b3AgPSAndW5zZXQnO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlO1xuIiwiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uLy4uL0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50JztcblxudHlwZSBWaWV3Rm9yVGh1bWIgPSB7XG4gIGhhbmRsZUxlZnRJbnB1dChjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlciwgc2hpZnRYOiBudW1iZXIsIHNoaWZ0WTogbnVtYmVyKTogdm9pZCxcbiAgaGFuZGxlUmlnaHRJbnB1dChjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlciwgc2hpZnRYOiBudW1iZXIsIHNoaWZ0WTogbnVtYmVyKTogdm9pZCxcbn07XG5cbmNsYXNzIFRodW1iIGV4dGVuZHMgQmFzZUVsZW1lbnQ8J2Rpdic+IHtcbiAgcHJpdmF0ZSB0eXBlOiAnbGVmdCcgfCAncmlnaHQnO1xuXG4gIHByaXZhdGUgdmlldzogVmlld0ZvclRodW1iO1xuXG4gIGNvbnN0cnVjdG9yKHZpZXc6IFZpZXdGb3JUaHVtYiwgdHlwZTogJ2xlZnQnIHwgJ3JpZ2h0JyA9ICdsZWZ0Jykge1xuICAgIHN1cGVyKCdkaXYnLCBgcmFuZ2Utc2xpZGVyX190aHVtYiByYW5nZS1zbGlkZXJfX3RodW1iXyR7dHlwZX1gKTtcblxuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy52aWV3ID0gdmlldztcblxuICAgIHRoaXMuYXR0YWNoRXZlbnRIYW5kbGVycygpO1xuICB9XG5cbiAgZ2V0TGVmdEluZGVudCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5zdHlsZS5sZWZ0O1xuICB9XG5cbiAgZ2V0VG9wSW5kZW50KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LnN0eWxlLnRvcDtcbiAgfVxuXG4gIHNldFpJbmRleCh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUuekluZGV4ID0gYCR7dmFsdWV9YDtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGhhbmRsZVBvaW50ZXJPdmVyKGV2ZW50OiBQb2ludGVyRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3JhbmdlLXNsaWRlcl9fdGh1bWJfaG92ZXInKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBoYW5kbGVQb2ludGVyT3V0KGV2ZW50OiBQb2ludGVyRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3JhbmdlLXNsaWRlcl9fdGh1bWJfaG92ZXInKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBoYW5kbGVQb2ludGVyVXAoZXZlbnQ6IFBvaW50ZXJFdmVudCk6IHZvaWQge1xuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2Utc2xpZGVyX190aHVtYl9hY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBoYW5kbGVEcmFnU3RhcnQoKTogZmFsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlUG9pbnRlckRvd24oZXZlbnQ6IFBvaW50ZXJFdmVudCk6IHZvaWQge1xuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZCgncmFuZ2Utc2xpZGVyX190aHVtYl9hY3RpdmUnKTtcblxuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5zZXRQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xuXG4gICAgICAvLyBwcmV2ZW50IHNlbGVjdGlvbiAoYnJvd3NlciBhY3Rpb24pXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBjb25zdCBzaGlmdFg6IG51bWJlciA9IGV2ZW50LmNsaWVudFggLSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICBjb25zdCBzaGlmdFk6IG51bWJlciA9IGV2ZW50LmNsaWVudFkgLSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcblxuICAgICAgY29uc3QgaGFuZGxlUG9pbnRlck1vdmUgPSAobmV3RXZlbnQ6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgICBpZiAodGhpcy50eXBlID09PSAnbGVmdCcpIHtcbiAgICAgICAgICB0aGlzLnZpZXcuaGFuZGxlTGVmdElucHV0KG5ld0V2ZW50LmNsaWVudFgsIG5ld0V2ZW50LmNsaWVudFksIHNoaWZ0WCwgc2hpZnRZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICB0aGlzLnZpZXcuaGFuZGxlUmlnaHRJbnB1dChuZXdFdmVudC5jbGllbnRYLCBuZXdFdmVudC5jbGllbnRZLCBzaGlmdFgsIHNoaWZ0WSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGhhbmRsZVBvaW50ZXJVcCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBoYW5kbGVQb2ludGVyTW92ZSk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIGhhbmRsZVBvaW50ZXJVcCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGhhbmRsZVBvaW50ZXJNb3ZlKTtcbiAgICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIGhhbmRsZVBvaW50ZXJVcCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhdHRhY2hFdmVudEhhbmRsZXJzKCk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgVGh1bWIuaGFuZGxlUG9pbnRlck92ZXIpO1xuICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdXQnLCBUaHVtYi5oYW5kbGVQb2ludGVyT3V0KTtcbiAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMuaGFuZGxlUG9pbnRlckRvd24uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgVGh1bWIuaGFuZGxlUG9pbnRlclVwKTtcbiAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBUaHVtYi5oYW5kbGVEcmFnU3RhcnQpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRodW1iO1xuIiwiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uLy4uL0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50JztcblxudHlwZSBWaWV3Rm9yU2NhbGUgPSB7XG4gIGdldFNjYWxlSW50ZXJ2YWxzKCk6IG51bWJlcixcbiAgaGFuZGxlU2NhbGVPclRyYWNrQ2xpY2soeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkLFxufTtcblxuY2xhc3MgU2NhbGUgZXh0ZW5kcyBCYXNlRWxlbWVudDwnZGl2Jz4ge1xuICBwcml2YXRlIHZpZXc6IFZpZXdGb3JTY2FsZTtcblxuICBwcml2YXRlIGludGVydmFsczogSFRNTERpdkVsZW1lbnRbXTtcblxuICBwcml2YXRlIHZhbHVlczogbnVtYmVyW107XG5cbiAgcHJpdmF0ZSB2YWx1ZUVsZW1lbnRzOiBIVE1MU3BhbkVsZW1lbnRbXTtcblxuICBjb25zdHJ1Y3RvcihtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIHZpZXc6IFZpZXdGb3JTY2FsZSkge1xuICAgIHN1cGVyKCdkaXYnLCAncmFuZ2Utc2xpZGVyX19zY2FsZScpO1xuXG4gICAgdGhpcy52aWV3ID0gdmlldztcbiAgICB0aGlzLmludGVydmFscyA9IFtdO1xuICAgIHRoaXMudmFsdWVzID0gW107XG4gICAgdGhpcy52YWx1ZUVsZW1lbnRzID0gW107XG5cbiAgICBjb25zdCBpbnRlcnZhbHNOdW1iZXIgPSB2aWV3LmdldFNjYWxlSW50ZXJ2YWxzKCk7XG5cbiAgICB0aGlzLmNyZWF0ZUludGVydmFscyhpbnRlcnZhbHNOdW1iZXIpO1xuICAgIHRoaXMuYWRkTWFya3NJbkludGVydmFscyhpbnRlcnZhbHNOdW1iZXIpO1xuICAgIHRoaXMuYWRkVmFsdWVzKG1pbiwgbWF4LCBpbnRlcnZhbHNOdW1iZXIpO1xuICAgIHRoaXMuYXR0YWNoRXZlbnRIYW5kbGVycygpO1xuICB9XG5cbiAgZml0V2lkdGhGb3JWZXJ0aWNhbChpbmRlbnQ6IG51bWJlciA9IDMpOiB2b2lkIHtcbiAgICBsZXQgbWF4V2lkdGggPSAwO1xuXG4gICAgdGhpcy52YWx1ZUVsZW1lbnRzLmZvckVhY2goKHZhbHVlRWxlbWVudCkgPT4ge1xuICAgICAgaWYgKHZhbHVlRWxlbWVudC5vZmZzZXRXaWR0aCA+IG1heFdpZHRoKSB7XG4gICAgICAgIG1heFdpZHRoID0gdmFsdWVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gYCR7bWF4V2lkdGggKyBpbmRlbnR9cHhgO1xuICB9XG5cbiAgZml0SGVpZ2h0Rm9ySG9yaXpvbnRhbChpbmRlbnQ6IG51bWJlciA9IDMpOiB2b2lkIHtcbiAgICBsZXQgbWF4SGVpZ2h0ID0gMDtcblxuICAgIHRoaXMudmFsdWVFbGVtZW50cy5mb3JFYWNoKCh2YWx1ZUVsZW1lbnQpID0+IHtcbiAgICAgIGlmICh2YWx1ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0ID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgIG1heEhlaWdodCA9IHZhbHVlRWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5wYWRkaW5nQm90dG9tID0gYCR7bWF4SGVpZ2h0ICsgaW5kZW50fXB4YDtcbiAgfVxuXG4gIGhhbmRsZVN3aXRjaEZyb21Ib3Jpem9udGFsVG9WZXJ0aWNhbCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5wYWRkaW5nQm90dG9tID0gJ3Vuc2V0JztcbiAgICB0aGlzLmZpdFdpZHRoRm9yVmVydGljYWwoKTtcbiAgfVxuXG4gIGhhbmRsZVN3aXRjaEZyb21WZXJ0aWNhbFRvSG9yaXpvbnRhbCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSAndW5zZXQnO1xuICAgIHRoaXMuZml0SGVpZ2h0Rm9ySG9yaXpvbnRhbCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVJbnRlcnZhbHMoaW50ZXJ2YWxzTnVtYmVyOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBmcmFnbWVudCA9IG5ldyBEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGludGVydmFsc051bWJlcjsgaSArPSAxKSB7XG4gICAgICB0aGlzLmludGVydmFsc1tpXSA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnZGl2JywgJ3JhbmdlLXNsaWRlcl9fc2NhbGUtaW50ZXJ2YWwnKTtcbiAgICAgIGZyYWdtZW50LmFwcGVuZCh0aGlzLmludGVydmFsc1tpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5jb21wb25lbnQuYXBwZW5kKGZyYWdtZW50KTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkTWFya3NJbkludGVydmFscyhpbnRlcnZhbHNOdW1iZXI6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuaW50ZXJ2YWxzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGZyYWdtZW50ID0gbmV3IERvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgICAgaWYgKGludGVydmFsc051bWJlciA8IDI5KSB7XG4gICAgICAgIGZyYWdtZW50LmFwcGVuZChCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ3NwYW4nLCAncmFuZ2Utc2xpZGVyX19zY2FsZS1tYXJrJykpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW50ZXJ2YWxzTnVtYmVyIDwgMTUpIHtcbiAgICAgICAgZnJhZ21lbnQuYXBwZW5kKEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnc3BhbicsICdyYW5nZS1zbGlkZXJfX3NjYWxlLW1hcmsnKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbnRlcnZhbHNOdW1iZXIgPCA4KSB7XG4gICAgICAgIGZyYWdtZW50LmFwcGVuZChCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ3NwYW4nLCAncmFuZ2Utc2xpZGVyX19zY2FsZS1tYXJrJykpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW50ZXJ2YWxzTnVtYmVyIDwgNSkge1xuICAgICAgICBmcmFnbWVudC5hcHBlbmQoQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdzcGFuJywgJ3JhbmdlLXNsaWRlcl9fc2NhbGUtbWFyaycpKTtcbiAgICAgIH1cblxuICAgICAgaXRlbS5hcHBlbmQoZnJhZ21lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRWYWx1ZXMobWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBpbnRlcnZhbHNOdW1iZXI6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMudmFsdWVzWzBdID0gbWluO1xuICAgIGNvbnN0IHN0ZXAgPSAobWF4IC0gbWluKSAvIGludGVydmFsc051bWJlcjtcbiAgICBsZXQgbnVtYmVyT2ZEaWdpdHNBZnRlclBvaW50ID0gMDtcblxuICAgIGlmIChNYXRoLnJvdW5kKGludGVydmFsc051bWJlciAvIChtYXggLSBtaW4pKSAhPT0gMCkge1xuICAgICAgbnVtYmVyT2ZEaWdpdHNBZnRlclBvaW50ID0gKE1hdGgucm91bmQoaW50ZXJ2YWxzTnVtYmVyIC8gKG1heCAtIG1pbikpKS50b1N0cmluZygpLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGludGVydmFsc051bWJlcjsgaSArPSAxKSB7XG4gICAgICB0aGlzLnZhbHVlc1tpXSA9IE51bWJlcigoKGkgKiBzdGVwKSArIG1pbikudG9GaXhlZChudW1iZXJPZkRpZ2l0c0FmdGVyUG9pbnQpKTtcbiAgICB9XG5cbiAgICB0aGlzLnZhbHVlcy5wdXNoKG1heCk7XG5cbiAgICBjb25zdCB2YWx1ZUVsZW1lbnQgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ3NwYW4nLCAncmFuZ2Utc2xpZGVyX19zY2FsZS1pbnRlcnZhbC12YWx1ZSByYW5nZS1zbGlkZXJfX3NjYWxlLWludGVydmFsLXZhbHVlX21pbicpO1xuICAgIHZhbHVlRWxlbWVudC50ZXh0Q29udGVudCA9IGAke3RoaXMudmFsdWVzWzBdfWA7XG4gICAgdGhpcy5pbnRlcnZhbHNbMF0uYXBwZW5kKHZhbHVlRWxlbWVudCk7XG4gICAgdGhpcy52YWx1ZUVsZW1lbnRzLnB1c2godmFsdWVFbGVtZW50KTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy52YWx1ZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlRWxlbWVudCA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnc3BhbicsICdyYW5nZS1zbGlkZXJfX3NjYWxlLWludGVydmFsLXZhbHVlJyk7XG4gICAgICBuZXdWYWx1ZUVsZW1lbnQudGV4dENvbnRlbnQgPSBgJHt0aGlzLnZhbHVlc1tpXX1gO1xuICAgICAgdGhpcy5pbnRlcnZhbHNbaSAtIDFdLmFwcGVuZChuZXdWYWx1ZUVsZW1lbnQpO1xuICAgICAgdGhpcy52YWx1ZUVsZW1lbnRzLnB1c2gobmV3VmFsdWVFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgY29uc3QgeDogbnVtYmVyID0gZXZlbnQuY2xpZW50WCAtIGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgIGNvbnN0IHk6IG51bWJlciA9IGV2ZW50LmNsaWVudFkgLSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcblxuICAgICAgdGhpcy52aWV3LmhhbmRsZVNjYWxlT3JUcmFja0NsaWNrKHgsIHkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXR0YWNoRXZlbnRIYW5kbGVycygpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2NhbGU7XG4iLCJpbXBvcnQgQmFzZUVsZW1lbnQgZnJvbSAnLi4vLi4vQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQnO1xuXG5jbGFzcyBMYWJlbHNDb250YWluZXIgZXh0ZW5kcyBCYXNlRWxlbWVudDwnZGl2Jz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignZGl2JywgJ3JhbmdlLXNsaWRlcl9fbGFiZWxzLWNvbnRhaW5lcicpO1xuICB9XG5cbiAgYXBwZW5kKC4uLmVsZW1lbnRzOiBIVE1MRWxlbWVudFtdKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuYXBwZW5kKC4uLmVsZW1lbnRzKTtcbiAgfVxuXG4gIGZpeFdpZHRoRm9yVmVydGljYWwobGFiZWxzOiBIVE1MRWxlbWVudFtdLCBpbmRlbnQ6IG51bWJlciA9IDQpOiB2b2lkIHtcbiAgICBsZXQgbWF4V2lkdGggPSAwO1xuXG4gICAgbGFiZWxzLmZvckVhY2goKGxhYmVsKSA9PiB7XG4gICAgICBpZiAobGFiZWwub2Zmc2V0V2lkdGggPiBtYXhXaWR0aCkge1xuICAgICAgICBtYXhXaWR0aCA9IGxhYmVsLm9mZnNldFdpZHRoO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUucGFkZGluZ0xlZnQgPSBgJHttYXhXaWR0aCArIGluZGVudH1weGA7XG4gIH1cblxuICBmaXhIZWlnaHRGb3JIb3Jpem9udGFsKGxhYmVsczogSFRNTEVsZW1lbnRbXSwgaW5kZW50OiBudW1iZXIgPSA0KTogdm9pZCB7XG4gICAgbGV0IG1heEhlaWdodCA9IDA7XG5cbiAgICBsYWJlbHMuZm9yRWFjaCgobGFiZWwpID0+IHtcbiAgICAgIGlmIChsYWJlbC5vZmZzZXRIZWlnaHQgPiBtYXhIZWlnaHQpIHtcbiAgICAgICAgbWF4SGVpZ2h0ID0gbGFiZWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUucGFkZGluZ1RvcCA9IGAke21heEhlaWdodCArIGluZGVudH1weGA7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGFiZWxzQ29udGFpbmVyO1xuIiwiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uLy4uL0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50JztcblxuY2xhc3MgTGFiZWwgZXh0ZW5kcyBCYXNlRWxlbWVudDwnZGl2Jz4ge1xuICBjb25zdHJ1Y3RvcihjbGFzc05hbWU/OiBzdHJpbmcpIHtcbiAgICBzdXBlcignZGl2JywgY2xhc3NOYW1lKTtcbiAgfVxuXG4gIHNldE9wYWNpdHkodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLm9wYWNpdHkgPSBgJHt2YWx1ZX1gO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWU6IG51bWJlciB8IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LnRleHRDb250ZW50ID0gYCR7dmFsdWV9YDtcbiAgfVxuXG4gIGdldFZhbHVlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIE51bWJlcih0aGlzLmNvbXBvbmVudC50ZXh0Q29udGVudCk7XG4gIH1cblxuICBnZXRMZWZ0SW5kZW50KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LnN0eWxlLmxlZnQ7XG4gIH1cblxuICBnZXRUb3BJbmRlbnQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnQuc3R5bGUudG9wO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExhYmVsO1xuIiwiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uLy4uL0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50JztcblxuY2xhc3MgSW5wdXQgZXh0ZW5kcyBCYXNlRWxlbWVudDwnaW5wdXQnPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdpbnB1dCcsICdyYW5nZS1zbGlkZXJfX2lucHV0Jyk7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVzKCk7XG4gIH1cblxuICBzZXRWYWx1ZSh2YWx1ZTE6IG51bWJlciwgdmFsdWUyOiBudW1iZXIgfCBudWxsID0gbnVsbCk6IHZvaWQge1xuICAgIGlmICh2YWx1ZTIgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LnZhbHVlID0gYCR7dmFsdWUxfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LnZhbHVlID0gYCR7dmFsdWUxfSAtICR7dmFsdWUyfWA7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZXRBdHRyaWJ1dGVzKCk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LnR5cGUgPSAndGV4dCc7XG4gICAgdGhpcy5jb21wb25lbnQudGFiSW5kZXggPSAtMTtcbiAgICB0aGlzLmNvbXBvbmVudC5yZWFkT25seSA9IHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5wdXQ7XG4iLCJpbXBvcnQgQmFzZUVsZW1lbnQgZnJvbSAnLi4vLi4vQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQnO1xuXG50eXBlIFBhbmVsT3B0aW9ucyA9IHtcbiAgbWluOiBudW1iZXIsXG4gIG1heDogbnVtYmVyLFxuICBzdGVwOiBudW1iZXIsXG4gIGZyb206IG51bWJlcixcbiAgdG86IG51bWJlciB8IG51bGwsXG4gIHZlcnRpY2FsOiBib29sZWFuLFxuICByYW5nZTogYm9vbGVhbixcbiAgc2NhbGU6IGJvb2xlYW4sXG4gIHNjYWxlSW50ZXJ2YWxzOiBudW1iZXIsXG4gIHZhbHVlTGFiZWxzOiBib29sZWFuLFxuICBtaW5NYXhMYWJlbHM6IGJvb2xlYW5cbn07XG5cbnR5cGUgVmlld0ZvclBhbmVsID0ge1xuICBpc1JhbmdlKCk6IGJvb2xlYW4sXG4gIGNoYW5nZU1pbkZyb21PdXRzaWRlKHZhbHVlOiBudW1iZXIpOiB2b2lkLFxuICBjaGFuZ2VNYXhGcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCxcbiAgY2hhbmdlU3RlcEZyb21PdXRzaWRlKHZhbHVlOiBudW1iZXIpOiB2b2lkLFxuICBjaGFuZ2VMZWZ0VmFsdWVGcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCxcbiAgY2hhbmdlUmlnaHRWYWx1ZUZyb21PdXRzaWRlKHZhbHVlOiBudW1iZXIpOiB2b2lkLFxuICBjaGFuZ2VPcmllbnRhdGlvbkZyb21PdXRzaWRlKCk6IHZvaWQsXG4gIHRvZ2dsZVJhbmdlRnJvbU91dHNpZGUoKTogdm9pZCxcbiAgdG9nZ2xlU2NhbGVGcm9tT3V0c2lkZSgpOiB2b2lkLFxuICBjaGFuZ2VTY2FsZUludGVydmFscyh2YWx1ZTogbnVtYmVyKTogdm9pZCxcbiAgdG9nZ2xlVmFsdWVMYWJlbHMoKTogdm9pZCxcbiAgdG9nZ2xlTWluTWF4TGFiZWxzKCk6IHZvaWQsXG59O1xuXG5jbGFzcyBQYW5lbCBleHRlbmRzIEJhc2VFbGVtZW50PCdmb3JtJz4ge1xuICBwcml2YXRlIHZpZXc6IFZpZXdGb3JQYW5lbDtcblxuICBwcml2YXRlIG1pbjogSFRNTElucHV0RWxlbWVudDtcblxuICBwcml2YXRlIG1heDogSFRNTElucHV0RWxlbWVudDtcblxuICBwcml2YXRlIHN0ZXA6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBmcm9tOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHByaXZhdGUgdG86IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSB2ZXJ0aWNhbDogSFRNTElucHV0RWxlbWVudDtcblxuICBwcml2YXRlIHJhbmdlOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHByaXZhdGUgc2NhbGU6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBzY2FsZUludGVydmFsczogSFRNTElucHV0RWxlbWVudDtcblxuICBwcml2YXRlIHZhbHVlTGFiZWxzOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHByaXZhdGUgbWluTWF4TGFiZWxzOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKHZpZXc6IFZpZXdGb3JQYW5lbCkge1xuICAgIHN1cGVyKCdmb3JtJywgJ3BhbmVsJyk7XG5cbiAgICB0aGlzLnZpZXcgPSB2aWV3O1xuXG4gICAgdGhpcy5taW4gPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX19taW4gcGFuZWxfX2lucHV0Jyk7XG4gICAgdGhpcy5tYXggPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX19tYXggcGFuZWxfX2lucHV0Jyk7XG4gICAgdGhpcy5zdGVwID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fc3RlcCBwYW5lbF9faW5wdXQnKTtcbiAgICB0aGlzLmZyb20gPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX19mcm9tIHBhbmVsX19pbnB1dCcpO1xuICAgIHRoaXMudG8gPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX190byBwYW5lbF9faW5wdXQnKTtcblxuICAgIHRoaXMudmVydGljYWwgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX192ZXJ0aWNhbCBwYW5lbF9fY2hlY2tib3gnKTtcbiAgICB0aGlzLnJhbmdlID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fcmFuZ2UgcGFuZWxfX2NoZWNrYm94Jyk7XG4gICAgdGhpcy5zY2FsZSA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX3NjYWxlIHBhbmVsX19jaGVja2JveCcpO1xuICAgIHRoaXMuc2NhbGVJbnRlcnZhbHMgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX19zY2FsZS1pbnRlcnZhbHMgcGFuZWxfX2lucHV0Jyk7XG4gICAgdGhpcy52YWx1ZUxhYmVscyA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX3ZhbHVlLWxhYmVscyBwYW5lbF9fY2hlY2tib3gnKTtcbiAgICB0aGlzLm1pbk1heExhYmVscyA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX21pbi1tYXgtbGFiZWxzIHBhbmVsX19jaGVja2JveCcpO1xuXG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgICB0aGlzLmF0dGFjaEV2ZW50SGFuZGxlcnMoKTtcbiAgfVxuXG4gIHNldFZhbHVlcyhvcHRpb25zOiBQYW5lbE9wdGlvbnMpOiB2b2lkIHtcbiAgICB0aGlzLm1pbi52YWx1ZSA9IGAke29wdGlvbnMubWlufWA7XG4gICAgdGhpcy5tYXgudmFsdWUgPSBgJHtvcHRpb25zLm1heH1gO1xuICAgIHRoaXMuc3RlcC52YWx1ZSA9IGAke29wdGlvbnMuc3RlcH1gO1xuICAgIHRoaXMuZnJvbS52YWx1ZSA9IGAke29wdGlvbnMuZnJvbX1gO1xuICAgIHRoaXMudG8udmFsdWUgPSBvcHRpb25zLnRvICE9PSBudWxsID8gYCR7b3B0aW9ucy50b31gIDogJyc7XG4gICAgdGhpcy52ZXJ0aWNhbC5jaGVja2VkID0gb3B0aW9ucy52ZXJ0aWNhbDtcbiAgICB0aGlzLnJhbmdlLmNoZWNrZWQgPSBvcHRpb25zLnJhbmdlO1xuICAgIHRoaXMuc2NhbGUuY2hlY2tlZCA9IG9wdGlvbnMuc2NhbGU7XG4gICAgdGhpcy5zY2FsZUludGVydmFscy52YWx1ZSA9IGAke29wdGlvbnMuc2NhbGVJbnRlcnZhbHN9YDtcbiAgICB0aGlzLnZhbHVlTGFiZWxzLmNoZWNrZWQgPSBvcHRpb25zLnZhbHVlTGFiZWxzO1xuICAgIHRoaXMubWluTWF4TGFiZWxzLmNoZWNrZWQgPSBvcHRpb25zLm1pbk1heExhYmVscztcblxuICAgIHRoaXMuc2V0Q2hlY2tNYXJrcygpO1xuICAgIHRoaXMuc2V0QXR0cmlidXRlcyhvcHRpb25zKTtcbiAgfVxuXG4gIHVwZGF0ZUZyb20odmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuZnJvbS52YWx1ZSA9IGAke3ZhbHVlfWA7XG4gICAgdGhpcy51cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJGcm9tQ2hhbmdlKCk7XG4gIH1cblxuICB1cGRhdGVUbyh2YWx1ZTogbnVtYmVyIHwgJycpOiB2b2lkIHtcbiAgICB0aGlzLnRvLnZhbHVlID0gYCR7dmFsdWV9YDtcbiAgICB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXNBZnRlclRvQ2hhbmdlKCk7XG4gIH1cblxuICB1cGRhdGVTdGVwKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnN0ZXAudmFsdWUgPSBgJHt2YWx1ZX1gO1xuICAgIHRoaXMudXBkYXRlQXR0cmlidXRlc0FmdGVyU3RlcENoYW5nZSgpO1xuICB9XG5cbiAgdXBkYXRlTWluKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm1pbi52YWx1ZSA9IGAke3ZhbHVlfWA7XG4gICAgdGhpcy51cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJNaW5DaGFuZ2UoKTtcbiAgfVxuXG4gIHVwZGF0ZU1heCh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5tYXgudmFsdWUgPSBgJHt2YWx1ZX1gO1xuICAgIHRoaXMudXBkYXRlQXR0cmlidXRlc0FmdGVyTWF4Q2hhbmdlKCk7XG4gIH1cblxuICB1cGRhdGVTY2FsZUludGVydmFscyh2YWx1ZTogbnVtYmVyIHwgJycpOiB2b2lkIHtcbiAgICB0aGlzLnNjYWxlSW50ZXJ2YWxzLnZhbHVlID0gYCR7dmFsdWV9YDtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGFkZExhYmVsKFxuICAgIGlucHV0OiBIVE1MSW5wdXRFbGVtZW50LCBuYW1lOiBzdHJpbmcsIGNsYXNzTmFtZT86IHN0cmluZyxcbiAgKTogSFRNTExhYmVsRWxlbWVudCB7XG4gICAgY29uc3QgbGFiZWw6IEhUTUxMYWJlbEVsZW1lbnQgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2xhYmVsJywgJ3BhbmVsX19sYWJlbCcpO1xuICAgIGxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcblxuICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgIGxhYmVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICBsYWJlbC5hcHBlbmQoaW5wdXQpO1xuXG4gICAgcmV0dXJuIGxhYmVsO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgY2FsY1N0ZXBNaW4oc3RlcDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihzdGVwKSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgY29uc3QgbnVtYmVyT2ZEaWdpdHNBZnRlclBvaW50ID0gc3RlcC50b1N0cmluZygpLnNwbGl0KCcuJylbMV0ubGVuZ3RoO1xuICAgIGxldCByZXN1bHQ6IHN0cmluZyA9ICcxJztcblxuICAgIGZvciAobGV0IGkgPSBudW1iZXJPZkRpZ2l0c0FmdGVyUG9pbnQ7IGkgPiAxOyBpIC09IDEpIHtcbiAgICAgIHJlc3VsdCA9IGAwJHtyZXN1bHR9YDtcbiAgICB9XG5cbiAgICByZXN1bHQgPSBgMC4ke3Jlc3VsdH1gO1xuXG4gICAgcmV0dXJuIE51bWJlcihyZXN1bHQpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgdG9nZ2xlQ2hlY2tib3goaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCBsYWJlbDogSFRNTExhYmVsRWxlbWVudCB8IG51bGwgPSBpbnB1dC5jbG9zZXN0KCdsYWJlbCcpO1xuICAgIGxhYmVsPy5jbGFzc0xpc3QudG9nZ2xlKCdwYW5lbF9fbGFiZWxfZm9yLWNoZWNrYm94X2NoZWNrZWQnKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyKCk6IHZvaWQge1xuICAgIHRoaXMuc2V0VHlwZXMoKTtcbiAgICB0aGlzLmNvbXBvbmVudC5hcHBlbmQoXG4gICAgICBQYW5lbC5hZGRMYWJlbCh0aGlzLnJhbmdlLCAnUmFuZ2U6JywgJ3BhbmVsX19sYWJlbF9mb3ItY2hlY2tib3gnKSxcbiAgICAgIFBhbmVsLmFkZExhYmVsKHRoaXMudmVydGljYWwsICdWZXJ0aWNhbDonLCAncGFuZWxfX2xhYmVsX2Zvci1jaGVja2JveCcpLFxuICAgICAgUGFuZWwuYWRkTGFiZWwodGhpcy52YWx1ZUxhYmVscywgJ1ZhbHVlIGxhYmVsczonLCAncGFuZWxfX2xhYmVsX2Zvci1jaGVja2JveCcpLFxuICAgICAgUGFuZWwuYWRkTGFiZWwodGhpcy5taW5NYXhMYWJlbHMsICdNaW4mbWF4IGxhYmVsczonLCAncGFuZWxfX2xhYmVsX2Zvci1jaGVja2JveCcpLFxuICAgICAgUGFuZWwuYWRkTGFiZWwodGhpcy5zY2FsZSwgJ1NjYWxlOicsICdwYW5lbF9fbGFiZWxfZm9yLWNoZWNrYm94JyksXG4gICAgICBQYW5lbC5hZGRMYWJlbCh0aGlzLnNjYWxlSW50ZXJ2YWxzLCAnU2NhbGUgaW50ZXJ2YWxzOicpLFxuICAgICAgUGFuZWwuYWRkTGFiZWwodGhpcy5taW4sICdNaW46JyksXG4gICAgICBQYW5lbC5hZGRMYWJlbCh0aGlzLm1heCwgJ01heDonKSxcbiAgICAgIFBhbmVsLmFkZExhYmVsKHRoaXMuZnJvbSwgJ0Zyb206JyksXG4gICAgICBQYW5lbC5hZGRMYWJlbCh0aGlzLnRvLCAnVG86JyksXG4gICAgICBQYW5lbC5hZGRMYWJlbCh0aGlzLnN0ZXAsICdTdGVwOicpLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHNldFR5cGVzKCk6IHZvaWQge1xuICAgIHRoaXMubWluLnR5cGUgPSAnbnVtYmVyJztcbiAgICB0aGlzLm1heC50eXBlID0gJ251bWJlcic7XG4gICAgdGhpcy5zdGVwLnR5cGUgPSAnbnVtYmVyJztcbiAgICB0aGlzLmZyb20udHlwZSA9ICdudW1iZXInO1xuICAgIHRoaXMudG8udHlwZSA9ICdudW1iZXInO1xuICAgIHRoaXMudmVydGljYWwudHlwZSA9ICdjaGVja2JveCc7XG4gICAgdGhpcy5yYW5nZS50eXBlID0gJ2NoZWNrYm94JztcbiAgICB0aGlzLnNjYWxlLnR5cGUgPSAnY2hlY2tib3gnO1xuICAgIHRoaXMuc2NhbGVJbnRlcnZhbHMudHlwZSA9ICdudW1iZXInO1xuICAgIHRoaXMudmFsdWVMYWJlbHMudHlwZSA9ICdjaGVja2JveCc7XG4gICAgdGhpcy5taW5NYXhMYWJlbHMudHlwZSA9ICdjaGVja2JveCc7XG4gIH1cblxuICBwcml2YXRlIHNldEF0dHJpYnV0ZXMob3B0aW9uczogUGFuZWxPcHRpb25zKTogdm9pZCB7XG4gICAgdGhpcy5mcm9tLm1pbiA9IGAke29wdGlvbnMubWlufWA7XG4gICAgdGhpcy5mcm9tLm1heCA9IG9wdGlvbnMucmFuZ2UgPyBgJHtvcHRpb25zLnRvfWAgOiBgJHtvcHRpb25zLm1heH1gO1xuXG4gICAgdGhpcy50by5taW4gPSBgJHtvcHRpb25zLmZyb219YDtcbiAgICB0aGlzLnRvLm1heCA9IGAke29wdGlvbnMubWF4fWA7XG5cbiAgICB0aGlzLmZyb20uc3RlcCA9IGAke29wdGlvbnMuc3RlcH1gO1xuICAgIHRoaXMudG8uc3RlcCA9IGAke29wdGlvbnMuc3RlcH1gO1xuXG4gICAgdGhpcy5taW4uc3RlcCA9IGAke29wdGlvbnMuc3RlcH1gO1xuICAgIHRoaXMubWF4LnN0ZXAgPSBgJHtvcHRpb25zLnN0ZXB9YDtcblxuICAgIHRoaXMubWluLm1heCA9IGAke29wdGlvbnMuZnJvbX1gO1xuICAgIHRoaXMubWF4Lm1pbiA9IG9wdGlvbnMucmFuZ2UgPyBgJHtvcHRpb25zLnRvfWAgOiBgJHtvcHRpb25zLmZyb219YDtcblxuICAgIHRoaXMuc3RlcC5taW4gPSBgJHtQYW5lbC5jYWxjU3RlcE1pbihvcHRpb25zLnN0ZXApfWA7XG4gICAgdGhpcy5zdGVwLnN0ZXAgPSB0aGlzLnN0ZXAubWluO1xuICAgIHRoaXMuc3RlcC5tYXggPSBgJHtNYXRoLmFicyhvcHRpb25zLm1heCAtIG9wdGlvbnMubWluKX1gO1xuXG4gICAgaWYgKCFvcHRpb25zLnJhbmdlKSB7XG4gICAgICB0aGlzLnRvLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLnNjYWxlSW50ZXJ2YWxzLm1pbiA9ICcxJztcblxuICAgIGlmICghb3B0aW9ucy5zY2FsZSkge1xuICAgICAgdGhpcy5zY2FsZUludGVydmFscy5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZXRDaGVja01hcmtzKCk6IHZvaWQge1xuICAgIGNvbnN0IGNoZWNrYm94ZXMgPSBbXG4gICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICAgdGhpcy5yYW5nZSxcbiAgICAgIHRoaXMuc2NhbGUsXG4gICAgICB0aGlzLnZhbHVlTGFiZWxzLFxuICAgICAgdGhpcy5taW5NYXhMYWJlbHMsXG4gICAgXTtcbiAgICBjaGVja2JveGVzLmZvckVhY2goKGNoZWNrYm94KSA9PiB7XG4gICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgICBQYW5lbC50b2dnbGVDaGVja2JveChjaGVja2JveCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUF0dHJpYnV0ZXNBZnRlckZyb21DaGFuZ2UoKTogdm9pZCB7XG4gICAgdGhpcy5taW4ubWF4ID0gdGhpcy5mcm9tLnZhbHVlO1xuXG4gICAgaWYgKHRoaXMudmlldy5pc1JhbmdlKCkpIHtcbiAgICAgIHRoaXMudG8ubWluID0gdGhpcy5mcm9tLnZhbHVlO1xuICAgIH1cblxuICAgIGlmICghdGhpcy52aWV3LmlzUmFuZ2UoKSkge1xuICAgICAgdGhpcy5tYXgubWluID0gdGhpcy5mcm9tLnZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQXR0cmlidXRlc0FmdGVyVG9DaGFuZ2UoKTogdm9pZCB7XG4gICAgdGhpcy5mcm9tLm1heCA9IHRoaXMudG8udmFsdWU7XG4gICAgdGhpcy5tYXgubWluID0gdGhpcy50by52YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQXR0cmlidXRlc0FmdGVyU3RlcENoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnN0ZXAubWluID0gYCR7UGFuZWwuY2FsY1N0ZXBNaW4oTnVtYmVyKHRoaXMuc3RlcC52YWx1ZSkpfWA7XG4gICAgdGhpcy5zdGVwLnN0ZXAgPSBgJHtQYW5lbC5jYWxjU3RlcE1pbihOdW1iZXIodGhpcy5zdGVwLnZhbHVlKSl9YDtcblxuICAgIHRoaXMuZnJvbS5zdGVwID0gdGhpcy5zdGVwLnZhbHVlO1xuICAgIHRoaXMudG8uc3RlcCA9IHRoaXMuc3RlcC52YWx1ZTtcbiAgICB0aGlzLm1pbi5zdGVwID0gdGhpcy5zdGVwLnZhbHVlO1xuICAgIHRoaXMubWF4LnN0ZXAgPSB0aGlzLnN0ZXAudmFsdWU7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUF0dHJpYnV0ZXNBZnRlck1pbkNoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLmZyb20ubWluID0gdGhpcy5taW4udmFsdWU7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUF0dHJpYnV0ZXNBZnRlck1heENoYW5nZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudmlldy5pc1JhbmdlKCkpIHtcbiAgICAgIHRoaXMuZnJvbS5tYXggPSB0aGlzLm1heC52YWx1ZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWV3LmlzUmFuZ2UoKSkge1xuICAgICAgdGhpcy50by5tYXggPSB0aGlzLm1heC52YWx1ZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1pbkNoYW5nZSgpOiB2b2lkIHtcbiAgICBpZiAoTnVtYmVyKHRoaXMubWluLnZhbHVlKSA+IE51bWJlcih0aGlzLmZyb20udmFsdWUpKSB7XG4gICAgICB0aGlzLm1pbi52YWx1ZSA9IHRoaXMuZnJvbS52YWx1ZTtcbiAgICB9XG5cbiAgICB0aGlzLnZpZXcuY2hhbmdlTWluRnJvbU91dHNpZGUoTnVtYmVyKHRoaXMubWluLnZhbHVlKSk7XG4gICAgdGhpcy5zdGVwLm1heCA9IGAke01hdGguYWJzKE51bWJlcih0aGlzLm1heC52YWx1ZSkgLSBOdW1iZXIodGhpcy5taW4udmFsdWUpKX1gO1xuICAgIHRoaXMudXBkYXRlQXR0cmlidXRlc0FmdGVyTWluQ2hhbmdlKCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1heENoYW5nZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudmlldy5pc1JhbmdlKCkpIHtcbiAgICAgIGlmIChOdW1iZXIodGhpcy5tYXgudmFsdWUpIDwgTnVtYmVyKHRoaXMuZnJvbS52YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5tYXgudmFsdWUgPSB0aGlzLmZyb20udmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmlldy5pc1JhbmdlKCkpIHtcbiAgICAgIGlmIChOdW1iZXIodGhpcy5tYXgudmFsdWUpIDwgTnVtYmVyKHRoaXMudG8udmFsdWUpKSB7XG4gICAgICAgIHRoaXMubWF4LnZhbHVlID0gdGhpcy50by52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnZpZXcuY2hhbmdlTWF4RnJvbU91dHNpZGUoTnVtYmVyKHRoaXMubWF4LnZhbHVlKSk7XG4gICAgdGhpcy5zdGVwLm1heCA9IGAke01hdGguYWJzKE51bWJlcih0aGlzLm1heC52YWx1ZSkgLSBOdW1iZXIodGhpcy5taW4udmFsdWUpKX1gO1xuICAgIHRoaXMudXBkYXRlQXR0cmlidXRlc0FmdGVyTWF4Q2hhbmdlKCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVN0ZXBDaGFuZ2UoKTogdm9pZCB7XG4gICAgaWYgKE51bWJlcih0aGlzLnN0ZXAudmFsdWUpID4gTnVtYmVyKHRoaXMuc3RlcC5tYXgpKSB7XG4gICAgICB0aGlzLnN0ZXAudmFsdWUgPSB0aGlzLnN0ZXAubWF4O1xuICAgIH1cblxuICAgIGlmIChOdW1iZXIodGhpcy5zdGVwLnZhbHVlKSA8PSAwKSB7XG4gICAgICB0aGlzLnN0ZXAudmFsdWUgPSB0aGlzLnN0ZXAubWluO1xuICAgIH1cblxuICAgIHRoaXMudmlldy5jaGFuZ2VTdGVwRnJvbU91dHNpZGUoTnVtYmVyKHRoaXMuc3RlcC52YWx1ZSkpO1xuICAgIHRoaXMudXBkYXRlQXR0cmlidXRlc0FmdGVyU3RlcENoYW5nZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVGcm9tQ2hhbmdlKCk6IHZvaWQge1xuICAgIGlmIChOdW1iZXIodGhpcy5mcm9tLnZhbHVlKSA+IE51bWJlcih0aGlzLmZyb20ubWF4KSkge1xuICAgICAgdGhpcy5mcm9tLnZhbHVlID0gdGhpcy5mcm9tLm1heDtcbiAgICB9XG5cbiAgICBpZiAoTnVtYmVyKHRoaXMuZnJvbS52YWx1ZSkgPCBOdW1iZXIodGhpcy5mcm9tLm1pbikpIHtcbiAgICAgIHRoaXMuZnJvbS52YWx1ZSA9IHRoaXMuZnJvbS5taW47XG4gICAgfVxuXG4gICAgdGhpcy52aWV3LmNoYW5nZUxlZnRWYWx1ZUZyb21PdXRzaWRlKE51bWJlcih0aGlzLmZyb20udmFsdWUpKTtcbiAgICB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXNBZnRlckZyb21DaGFuZ2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVG9DaGFuZ2UoKTogdm9pZCB7XG4gICAgaWYgKE51bWJlcih0aGlzLnRvLnZhbHVlKSA+IE51bWJlcih0aGlzLnRvLm1heCkpIHtcbiAgICAgIHRoaXMudG8udmFsdWUgPSB0aGlzLnRvLm1heDtcbiAgICB9XG5cbiAgICBpZiAoTnVtYmVyKHRoaXMudG8udmFsdWUpIDwgTnVtYmVyKHRoaXMudG8ubWluKSkge1xuICAgICAgdGhpcy50by52YWx1ZSA9IHRoaXMudG8ubWluO1xuICAgIH1cblxuICAgIHRoaXMudmlldy5jaGFuZ2VSaWdodFZhbHVlRnJvbU91dHNpZGUoTnVtYmVyKHRoaXMudG8udmFsdWUpKTtcbiAgICB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXNBZnRlclRvQ2hhbmdlKCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZlcnRpY2FsQ2hhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMudmlldy5jaGFuZ2VPcmllbnRhdGlvbkZyb21PdXRzaWRlKCk7XG4gICAgUGFuZWwudG9nZ2xlQ2hlY2tib3godGhpcy52ZXJ0aWNhbCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVJhbmdlQ2hhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMudmlldy50b2dnbGVSYW5nZUZyb21PdXRzaWRlKCk7XG5cbiAgICB0aGlzLnRvLmRpc2FibGVkID0gIXRoaXMudG8uZGlzYWJsZWQ7XG5cbiAgICBpZiAodGhpcy5yYW5nZS5jaGVja2VkKSB7XG4gICAgICB0aGlzLmZyb20ubWF4ID0gdGhpcy50by52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mcm9tLm1heCA9IHRoaXMubWF4LnZhbHVlO1xuICAgIH1cblxuICAgIFBhbmVsLnRvZ2dsZUNoZWNrYm94KHRoaXMucmFuZ2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVTY2FsZUNoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXcudG9nZ2xlU2NhbGVGcm9tT3V0c2lkZSgpO1xuXG4gICAgdGhpcy5zY2FsZUludGVydmFscy5kaXNhYmxlZCA9ICF0aGlzLnNjYWxlSW50ZXJ2YWxzLmRpc2FibGVkO1xuXG4gICAgUGFuZWwudG9nZ2xlQ2hlY2tib3godGhpcy5zY2FsZSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVNjYWxlSW50ZXJ2YWxzQ2hhbmdlKCk6IHZvaWQge1xuICAgIGlmIChOdW1iZXIodGhpcy5zY2FsZUludGVydmFscy52YWx1ZSkgPCBOdW1iZXIodGhpcy5zY2FsZUludGVydmFscy5taW4pKSB7XG4gICAgICB0aGlzLnNjYWxlSW50ZXJ2YWxzLnZhbHVlID0gdGhpcy5zY2FsZUludGVydmFscy5taW47XG4gICAgfVxuXG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHRoaXMuc2NhbGVJbnRlcnZhbHMudmFsdWUpKSB7XG4gICAgICB0aGlzLnNjYWxlSW50ZXJ2YWxzLnZhbHVlID0gYCR7TWF0aC5mbG9vcihOdW1iZXIodGhpcy5zY2FsZUludGVydmFscy52YWx1ZSkpfWA7XG4gICAgfVxuXG4gICAgdGhpcy52aWV3LmNoYW5nZVNjYWxlSW50ZXJ2YWxzKE51bWJlcih0aGlzLnNjYWxlSW50ZXJ2YWxzLnZhbHVlKSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZhbHVlTGFiZWxzQ2hhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMudmlldy50b2dnbGVWYWx1ZUxhYmVscygpO1xuICAgIFBhbmVsLnRvZ2dsZUNoZWNrYm94KHRoaXMudmFsdWVMYWJlbHMpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNaW5NYXhMYWJlbHNDaGFuZ2UoKTogdm9pZCB7XG4gICAgdGhpcy52aWV3LnRvZ2dsZU1pbk1heExhYmVscygpO1xuICAgIFBhbmVsLnRvZ2dsZUNoZWNrYm94KHRoaXMubWluTWF4TGFiZWxzKTtcbiAgfVxuXG4gIHByaXZhdGUgYXR0YWNoRXZlbnRIYW5kbGVycygpOiB2b2lkIHtcbiAgICB0aGlzLm1pbi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZU1pbkNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLm1heC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZU1heENoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnN0ZXAuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVTdGVwQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZnJvbS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZUZyb21DaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy50by5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZVRvQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMudmVydGljYWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVWZXJ0aWNhbENoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlUmFuZ2VDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5zY2FsZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZVNjYWxlQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2NhbGVJbnRlcnZhbHMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVTY2FsZUludGVydmFsc0NoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnZhbHVlTGFiZWxzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlVmFsdWVMYWJlbHNDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5taW5NYXhMYWJlbHMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVNaW5NYXhMYWJlbHNDaGFuZ2UuYmluZCh0aGlzKSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgUGFuZWxPcHRpb25zLCBQYW5lbCB9O1xuIiwiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4vQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQnO1xuaW1wb3J0IFRyYWNrIGZyb20gJy4vc3Vidmlld3MvVHJhY2svVHJhY2snO1xuaW1wb3J0IFJhbmdlIGZyb20gJy4vc3Vidmlld3MvUmFuZ2UvUmFuZ2UnO1xuaW1wb3J0IFRodW1iIGZyb20gJy4vc3Vidmlld3MvVGh1bWIvVGh1bWInO1xuaW1wb3J0IFNjYWxlIGZyb20gJy4vc3Vidmlld3MvU2NhbGUvU2NhbGUnO1xuaW1wb3J0IExhYmVsc0NvbnRhaW5lciBmcm9tICcuL3N1YnZpZXdzL0xhYmVsc0NvbnRhaW5lci9MYWJlbHNDb250YWluZXInO1xuaW1wb3J0IExhYmVsIGZyb20gJy4vc3Vidmlld3MvTGFiZWwvTGFiZWwnO1xuaW1wb3J0IElucHV0IGZyb20gJy4vc3Vidmlld3MvSW5wdXQvSW5wdXQnO1xuaW1wb3J0IHsgUGFuZWwsIFBhbmVsT3B0aW9ucyB9IGZyb20gJy4vc3Vidmlld3MvUGFuZWwvUGFuZWwnO1xuaW1wb3J0IHsgRXZlbnRNYW5hZ2VyLCBJRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4uL0V2ZW50TWFuYWdlci9FdmVudE1hbmFnZXInO1xuXG50eXBlIFZpZXdPcHRpb25zID0ge1xuICBtaW5NYXhMYWJlbHM/OiBib29sZWFuLFxuICB2YWx1ZUxhYmVscz86IGJvb2xlYW4sXG4gIHZlcnRpY2FsPzogYm9vbGVhbixcbiAgcmFuZ2U/OiBib29sZWFuLFxuICBzY2FsZT86IGJvb2xlYW4sXG4gIHNjYWxlSW50ZXJ2YWxzPzogbnVtYmVyLFxuICBwYW5lbD86IGJvb2xlYW5cbn07XG5cbmNsYXNzIFZpZXcgZXh0ZW5kcyBCYXNlRWxlbWVudDwnZGl2Jz4ge1xuICBwcml2YXRlIGV2ZW50TWFuYWdlcjogRXZlbnRNYW5hZ2VyO1xuXG4gIHByaXZhdGUgc2xpZGVyOiBIVE1MRGl2RWxlbWVudDtcblxuICBwcml2YXRlIHRyYWNrOiBUcmFjaztcblxuICBwcml2YXRlIHJhbmdlOiBSYW5nZTtcblxuICBwcml2YXRlIGlucHV0OiBJbnB1dDtcblxuICBwcml2YXRlIHRodW1iTGVmdDogVGh1bWI7XG5cbiAgcHJpdmF0ZSB0aHVtYlJpZ2h0PzogVGh1bWI7XG5cbiAgcHJpdmF0ZSBzY2FsZT86IFNjYWxlO1xuXG4gIHByaXZhdGUgc2NhbGVJbnRlcnZhbHM6IG51bWJlcjtcblxuICBwcml2YXRlIG1pbkxhYmVsPzogTGFiZWw7XG5cbiAgcHJpdmF0ZSBtYXhMYWJlbD86IExhYmVsO1xuXG4gIHByaXZhdGUgdmFsdWVMYWJlbExlZnQ/OiBMYWJlbDtcblxuICBwcml2YXRlIHZhbHVlTGFiZWxSaWdodD86IExhYmVsO1xuXG4gIHByaXZhdGUgdmFsdWVMYWJlbENvbW1vbj86IExhYmVsO1xuXG4gIHByaXZhdGUgdmVydGljYWw/OiBib29sZWFuO1xuXG4gIHByaXZhdGUgbGFiZWxzQ29udGFpbmVyPzogTGFiZWxzQ29udGFpbmVyO1xuXG4gIHByaXZhdGUgcGFuZWw/OiBQYW5lbDtcblxuICBjb25zdHJ1Y3Rvcihjb21wb25lbnQ6IEhUTUxEaXZFbGVtZW50LCBvcHRpb25zOiBWaWV3T3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoJ2RpdicpO1xuXG4gICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgdGhpcy5ldmVudE1hbmFnZXIgPSBuZXcgRXZlbnRNYW5hZ2VyKCk7XG5cbiAgICB0aGlzLnNsaWRlciA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnZGl2JywgJ3JhbmdlLXNsaWRlcl9fc2xpZGVyJyk7XG4gICAgdGhpcy50cmFjayA9IG5ldyBUcmFjayh0aGlzKTtcbiAgICB0aGlzLnJhbmdlID0gbmV3IFJhbmdlKCk7XG5cbiAgICB0aGlzLnRodW1iTGVmdCA9IG5ldyBUaHVtYih0aGlzLCAnbGVmdCcpO1xuXG4gICAgdGhpcy5pbnB1dCA9IG5ldyBJbnB1dCgpO1xuXG4gICAgaWYgKG9wdGlvbnMucmFuZ2UpIHtcbiAgICAgIHRoaXMudGh1bWJSaWdodCA9IG5ldyBUaHVtYih0aGlzLCAncmlnaHQnKTtcbiAgICB9XG5cbiAgICAvLyB0aGlzIGZpZWxkIGlzIGFsd2F5cyBpbml0aWFsaXplZCBpbiBjYXNlIHRoZSB0b2dnbGVTY2FsZUZyb21PdXRzaWRlKCkgbWV0aG9kIHdpbGwgYmUgY2FsbGVkXG4gICAgdGhpcy5zY2FsZUludGVydmFscyA9IG9wdGlvbnMuc2NhbGVJbnRlcnZhbHMgPz8gNDtcblxuICAgIGlmIChvcHRpb25zLnNjYWxlKSB7XG4gICAgICAvKiBjcmVhdGUgc2NhbGUgd2l0aCBhcmJpdHJhcnkgdmFsdWVzLCB3aGljaCB3aWxsIGJlIHJlcGxhY2VkIGxhdGVyIGJ5IFByZXNlbnRlclxuICAgICAgICogaXQgaXMgbmVjZXNzYXJ5IGZvciBoYXNTY2FsZSgpIHJldHVybiB0cnVlICovXG4gICAgICB0aGlzLnNjYWxlID0gbmV3IFNjYWxlKDAsIDEwMCwgdGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMubWluTWF4TGFiZWxzIHx8IG9wdGlvbnMudmFsdWVMYWJlbHMpIHtcbiAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyID0gbmV3IExhYmVsc0NvbnRhaW5lcigpO1xuXG4gICAgICBpZiAob3B0aW9ucy5taW5NYXhMYWJlbHMpIHtcbiAgICAgICAgdGhpcy5taW5MYWJlbCA9IG5ldyBMYWJlbCgncmFuZ2Utc2xpZGVyX19taW4tbWF4LWxhYmVsIHJhbmdlLXNsaWRlcl9fbWluLW1heC1sYWJlbF9sZWZ0Jyk7XG4gICAgICAgIHRoaXMubWF4TGFiZWwgPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fbWluLW1heC1sYWJlbCByYW5nZS1zbGlkZXJfX21pbi1tYXgtbGFiZWxfcmlnaHQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMudmFsdWVMYWJlbHMpIHtcbiAgICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdCA9IG5ldyBMYWJlbCgncmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbCByYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsX2xlZnQnKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5yYW5nZSkge1xuICAgICAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0ID0gbmV3IExhYmVsKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsIHJhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWxfcmlnaHQnKTtcbiAgICAgICAgICB0aGlzLnZhbHVlTGFiZWxDb21tb24gPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWwgcmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9jb21tb24nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLnZlcnRpY2FsID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5wYW5lbCkge1xuICAgICAgdGhpcy5wYW5lbCA9IG5ldyBQYW5lbCh0aGlzKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgc3Vic2NyaWJlKGxpc3RlbmVyOiBJRXZlbnRMaXN0ZW5lcik6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLnN1YnNjcmliZShsaXN0ZW5lcik7XG4gIH1cblxuICBub3RpZnkoZXZlbnRUeXBlOiBzdHJpbmcsIGRhdGE6IG51bWJlciB8IG51bGwgPSBudWxsKTogdm9pZCB7XG4gICAgdGhpcy5ldmVudE1hbmFnZXIubm90aWZ5KGV2ZW50VHlwZSwgZGF0YSk7XG4gIH1cblxuICBzZXRNaW5WYWx1ZShtaW46IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubWluTGFiZWw/LnNldFZhbHVlKG1pbik7XG4gIH1cblxuICBzZXRNYXhWYWx1ZShtYXg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubWF4TGFiZWw/LnNldFZhbHVlKG1heCk7XG4gIH1cblxuICBzZXRMZWZ0VmFsdWUodmFsdWU6IG51bWJlciwgcGVyY2VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLnRodW1iTGVmdC5zZXRJbmRlbnQoJ2xlZnQnLCBwZXJjZW50KTtcblxuICAgICAgaWYgKCF0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgICB0aGlzLnJhbmdlLnNldFdpZHRoKHBlcmNlbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgICAgdGhpcy5yYW5nZS5zZXRJbmRlbnQoJ2xlZnQnLCBwZXJjZW50KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdD8uc2V0SW5kZW50KCdsZWZ0JywgdGhpcy50aHVtYkxlZnQuZ2V0TGVmdEluZGVudCgpKTtcblxuICAgICAgaWYgKHRoaXMudGh1bWJMZWZ0LmdldExlZnRJbmRlbnQoKSA9PT0gJzEwMCUnKSB7XG4gICAgICAgIHRoaXMudGh1bWJMZWZ0LnNldFpJbmRleCgxMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aHVtYkxlZnQuc2V0WkluZGV4KDMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLnRodW1iTGVmdC5zZXRJbmRlbnQoJ3RvcCcsIDEwMCAtIHBlcmNlbnQpO1xuXG4gICAgICBpZiAoIXRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIHRoaXMucmFuZ2Uuc2V0SGVpZ2h0KHBlcmNlbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgICAgdGhpcy5yYW5nZS5zZXRJbmRlbnQoJ2JvdHRvbScsIHBlcmNlbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0Py5zZXRJbmRlbnQoJ3RvcCcsIHRoaXMudGh1bWJMZWZ0LmdldFRvcEluZGVudCgpKTtcblxuICAgICAgaWYgKHRoaXMudGh1bWJMZWZ0LmdldFRvcEluZGVudCgpID09PSAnMCUnKSB7XG4gICAgICAgIHRoaXMudGh1bWJMZWZ0LnNldFpJbmRleCgxMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aHVtYkxlZnQuc2V0WkluZGV4KDMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxMZWZ0KSB7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0LnNldFZhbHVlKHZhbHVlKTtcblxuICAgICAgaWYgKHRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbiEuc2V0VmFsdWUoYCR7dmFsdWV9IC0gJHt0aGlzLnZhbHVlTGFiZWxSaWdodCEuZ2V0VmFsdWUoKX1gKTtcblxuICAgICAgICBpZiAodGhpcy5pc1R3b1ZhbHVlTGFiZWxzQ2xvc2UoKSkge1xuICAgICAgICAgIHRoaXMubWVyZ2VMYWJlbHMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNwbGl0TGFiZWxzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy52YWx1ZUxhYmVsTGVmdCAmJiB0aGlzLm1pbkxhYmVsKSB7XG4gICAgICBpZiAodGhpcy5pc0xlZnRWYWx1ZUxhYmVsQ2xvc2VUb01pbkxhYmVsKCkpIHtcbiAgICAgICAgdGhpcy5taW5MYWJlbC5zZXRPcGFjaXR5KDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5taW5MYWJlbC5zZXRPcGFjaXR5KDEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTGVmdFZhbHVlTGFiZWxDbG9zZVRvTWF4TGFiZWwoKSkge1xuICAgICAgICAgIHRoaXMubWF4TGFiZWwhLnNldE9wYWNpdHkoMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5tYXhMYWJlbCEuc2V0T3BhY2l0eSgxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldFJpZ2h0VmFsdWUodmFsdWU6IG51bWJlciwgcGVyY2VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLnRodW1iUmlnaHQ/LnNldEluZGVudCgnbGVmdCcsIHBlcmNlbnQpO1xuICAgICAgdGhpcy5yYW5nZS5zZXRJbmRlbnQoJ3JpZ2h0JywgMTAwIC0gcGVyY2VudCk7XG5cbiAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0Py5zZXRJbmRlbnQoJ2xlZnQnLCB0aGlzLnRodW1iUmlnaHQhLmdldExlZnRJbmRlbnQoKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMudGh1bWJSaWdodD8uc2V0SW5kZW50KCd0b3AnLCAxMDAgLSBwZXJjZW50KTtcbiAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCd0b3AnLCAxMDAgLSBwZXJjZW50KTtcblxuICAgICAgdGhpcy52YWx1ZUxhYmVsUmlnaHQ/LnNldEluZGVudCgndG9wJywgdGhpcy50aHVtYlJpZ2h0IS5nZXRUb3BJbmRlbnQoKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmFsdWVMYWJlbFJpZ2h0KSB7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodC5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxDb21tb24hLnNldFZhbHVlKGAke3RoaXMudmFsdWVMYWJlbExlZnQhLmdldFZhbHVlKCl9IC0gJHt2YWx1ZX1gKTtcblxuICAgICAgaWYgKHRoaXMuaXNUd29WYWx1ZUxhYmVsc0Nsb3NlKCkpIHtcbiAgICAgICAgdGhpcy5tZXJnZUxhYmVscygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zcGxpdExhYmVscygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxSaWdodCAmJiB0aGlzLm1heExhYmVsKSB7XG4gICAgICBpZiAodGhpcy5pc1JpZ2h0VmFsdWVMYWJlbENsb3NlVG9NYXhMYWJlbCgpKSB7XG4gICAgICAgIHRoaXMubWF4TGFiZWwuc2V0T3BhY2l0eSgwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWF4TGFiZWwuc2V0T3BhY2l0eSgxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1cGRhdGVJbnB1dCh2YWx1ZTE6IG51bWJlciwgdmFsdWUyOiBudW1iZXIgfCBudWxsID0gbnVsbCk6IHZvaWQge1xuICAgIHRoaXMuaW5wdXQuc2V0VmFsdWUodmFsdWUxLCB2YWx1ZTIpO1xuICB9XG5cbiAgaGFuZGxlTGVmdElucHV0KGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyLCBzaGlmdFg6IG51bWJlciA9IDAsIHNoaWZ0WTogbnVtYmVyID0gMCk6IHZvaWQge1xuICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgY29uc3QgdHJhY2tTaGlmdCA9IHRoaXMudHJhY2suZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgIGxldCBuZXdMZWZ0ID0gY2xpZW50WCAtIHNoaWZ0WCAtIHRyYWNrU2hpZnQ7XG5cbiAgICAgIGlmIChuZXdMZWZ0IDwgMCkge1xuICAgICAgICBuZXdMZWZ0ID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgICBjb25zdCB0cmFja1dpZHRoID0gdGhpcy5nZXRUcmFja1dpZHRoKCk7XG5cbiAgICAgICAgaWYgKG5ld0xlZnQgPiB0cmFja1dpZHRoKSB7XG4gICAgICAgICAgbmV3TGVmdCA9IHRyYWNrV2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIGNvbnN0IHJpZ2h0VGh1bWJTaGlmdCA9IHRoaXMudGh1bWJSaWdodCEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgICAgY29uc3QgcmlnaHRUaHVtYlBvc2l0aW9uID0gcmlnaHRUaHVtYlNoaWZ0ICsgdGhpcy50aHVtYlJpZ2h0IS5nZXRXaWR0aCgpIC8gMiAtIHRyYWNrU2hpZnQ7XG5cbiAgICAgICAgaWYgKG5ld0xlZnQgPiByaWdodFRodW1iUG9zaXRpb24pIHtcbiAgICAgICAgICBuZXdMZWZ0ID0gcmlnaHRUaHVtYlBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMubm90aWZ5KCd2aWV3SW5wdXRMZWZ0JywgbmV3TGVmdCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIGNvbnN0IHRyYWNrU2hpZnQgPSB0aGlzLnRyYWNrLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgIGxldCBuZXdUb3AgPSBjbGllbnRZIC0gc2hpZnRZIC0gdHJhY2tTaGlmdDtcblxuICAgICAgY29uc3QgdHJhY2tIZWlnaHQgPSB0aGlzLmdldFRyYWNrSGVpZ2h0KCk7XG4gICAgICBpZiAobmV3VG9wID4gdHJhY2tIZWlnaHQpIHtcbiAgICAgICAgbmV3VG9wID0gdHJhY2tIZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5pc1JhbmdlKCkgJiYgbmV3VG9wIDwgMCkge1xuICAgICAgICBuZXdUb3AgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgICAgY29uc3QgcmlnaHRUaHVtYlNoaWZ0ID0gdGhpcy50aHVtYlJpZ2h0IS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICAgIGNvbnN0IHJpZ2h0VGh1bWJQb3NpdGlvbiA9IHJpZ2h0VGh1bWJTaGlmdCArIHRoaXMudGh1bWJSaWdodCEuZ2V0SGVpZ2h0KCkgLyAyIC0gdHJhY2tTaGlmdDtcblxuICAgICAgICBpZiAobmV3VG9wIDwgcmlnaHRUaHVtYlBvc2l0aW9uKSB7XG4gICAgICAgICAgbmV3VG9wID0gcmlnaHRUaHVtYlBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5ld0JvdHRvbSA9IHRyYWNrSGVpZ2h0IC0gbmV3VG9wO1xuXG4gICAgICB0aGlzLm5vdGlmeSgndmlld0lucHV0TGVmdCcsIG5ld0JvdHRvbSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlUmlnaHRJbnB1dChjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlciwgc2hpZnRYOiBudW1iZXIgPSAwLCBzaGlmdFk6IG51bWJlciA9IDApOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgIGNvbnN0IHRyYWNrU2hpZnQgPSB0aGlzLnRyYWNrLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICBsZXQgbmV3TGVmdCA9IGNsaWVudFggLSBzaGlmdFggLSB0cmFja1NoaWZ0O1xuXG4gICAgICBjb25zdCBsZWZ0VGh1bWJTaGlmdCA9IHRoaXMudGh1bWJMZWZ0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICBjb25zdCBsZWZ0VGh1bWJQb3NpdGlvbiA9IGxlZnRUaHVtYlNoaWZ0ICsgdGhpcy50aHVtYkxlZnQuZ2V0V2lkdGgoKSAvIDIgLSB0cmFja1NoaWZ0O1xuXG4gICAgICBpZiAobmV3TGVmdCA8IGxlZnRUaHVtYlBvc2l0aW9uKSB7XG4gICAgICAgIG5ld0xlZnQgPSBsZWZ0VGh1bWJQb3NpdGlvbjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdHJhY2tXaWR0aCA9IHRoaXMuZ2V0VHJhY2tXaWR0aCgpO1xuXG4gICAgICBpZiAobmV3TGVmdCA+IHRyYWNrV2lkdGgpIHtcbiAgICAgICAgbmV3TGVmdCA9IHRyYWNrV2lkdGg7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubm90aWZ5KCd2aWV3SW5wdXRSaWdodCcsIG5ld0xlZnQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBjb25zdCB0cmFja1NoaWZ0ID0gdGhpcy50cmFjay5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICBsZXQgbmV3VG9wID0gY2xpZW50WSAtIHNoaWZ0WSAtIHRyYWNrU2hpZnQ7XG5cbiAgICAgIGlmIChuZXdUb3AgPCAwKSB7XG4gICAgICAgIG5ld1RvcCA9IDA7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGxlZnRUaHVtYlNoaWZ0ID0gdGhpcy50aHVtYkxlZnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgY29uc3QgbGVmdFRodW1iUG9zaXRpb24gPSBsZWZ0VGh1bWJTaGlmdCArIHRoaXMudGh1bWJMZWZ0LmdldEhlaWdodCgpIC8gMiAtIHRyYWNrU2hpZnQ7XG5cbiAgICAgIGlmIChuZXdUb3AgPiBsZWZ0VGh1bWJQb3NpdGlvbikge1xuICAgICAgICBuZXdUb3AgPSBsZWZ0VGh1bWJQb3NpdGlvbjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV3Qm90dG9tID0gdGhpcy5nZXRUcmFja0hlaWdodCgpIC0gbmV3VG9wO1xuXG4gICAgICB0aGlzLm5vdGlmeSgndmlld0lucHV0UmlnaHQnLCBuZXdCb3R0b20pO1xuICAgIH1cbiAgfVxuXG4gIGFkZFNjYWxlKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuc2NhbGUgPSBuZXcgU2NhbGUobWluLCBtYXgsIHRoaXMpO1xuICAgIHRoaXMuc2xpZGVyLmFmdGVyKHRoaXMuc2NhbGUuZ2V0Q29tcG9uZW50KCkpO1xuXG4gICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLnNjYWxlLmZpdEhlaWdodEZvckhvcml6b250YWwoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy5zY2FsZS5maXRXaWR0aEZvclZlcnRpY2FsKCk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlU2NhbGUoKTogdm9pZCB7XG4gICAgdGhpcy5zY2FsZT8uZ2V0Q29tcG9uZW50KCkucmVtb3ZlKCk7XG4gICAgdGhpcy5zY2FsZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGdldFNjYWxlKCk6IFNjYWxlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5zY2FsZTtcbiAgfVxuXG4gIGdldFNjYWxlSW50ZXJ2YWxzKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuc2NhbGVJbnRlcnZhbHMgfHwgMDtcbiAgfVxuXG4gIGhhbmRsZVNjYWxlT3JUcmFja0NsaWNrKHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgdGhpcy5hZGRTbW9vdGhUcmFuc2l0aW9uKCdsZWZ0Jyk7XG5cbiAgICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLm5vdGlmeSgndmlld0lucHV0TGVmdCcsIHgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5ub3RpZnkoJ3ZpZXdJbnB1dExlZnQnLCB0aGlzLmdldFRyYWNrSGVpZ2h0KCkgLSB5KTtcbiAgICAgIH1cblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMucmVtb3ZlU21vb3RoVHJhbnNpdGlvbignbGVmdCcpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICBpZiAodGhpcy53aGljaFRodW1iSXNOZWFyZXIoeCwgeSkgPT09ICdsZWZ0Jykge1xuICAgICAgICB0aGlzLmFkZFNtb290aFRyYW5zaXRpb24oJ2xlZnQnKTtcblxuICAgICAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgICAgICB0aGlzLm5vdGlmeSgndmlld0lucHV0TGVmdCcsIHgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubm90aWZ5KCd2aWV3SW5wdXRMZWZ0JywgdGhpcy5nZXRUcmFja0hlaWdodCgpIC0geSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlbW92ZVNtb290aFRyYW5zaXRpb24oJ2xlZnQnKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkZFNtb290aFRyYW5zaXRpb24oJ3JpZ2h0Jyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgdGhpcy5ub3RpZnkoJ3ZpZXdJbnB1dFJpZ2h0JywgeCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5ub3RpZnkoJ3ZpZXdJbnB1dFJpZ2h0JywgdGhpcy5nZXRUcmFja0hlaWdodCgpIC0geSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlbW92ZVNtb290aFRyYW5zaXRpb24oJ3JpZ2h0Jyk7XG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZpeExhYmVsc0NvbnRhaW5lcldpZHRoRm9yVmVydGljYWwoKTogdm9pZCB7XG4gICAgY29uc3QgbGFiZWxzOiBIVE1MRWxlbWVudFtdID0gdGhpcy5jb2xsZWN0TGFiZWxzKCk7XG4gICAgdGhpcy5sYWJlbHNDb250YWluZXI/LmZpeFdpZHRoRm9yVmVydGljYWwobGFiZWxzKTtcbiAgfVxuXG4gIGZpeExhYmVsc0NvbnRhaW5lckhlaWdodEZvckhvcml6b250YWwoKTogdm9pZCB7XG4gICAgY29uc3QgbGFiZWxzOiBIVE1MRWxlbWVudFtdID0gdGhpcy5jb2xsZWN0TGFiZWxzKCk7XG4gICAgdGhpcy5sYWJlbHNDb250YWluZXI/LmZpeEhlaWdodEZvckhvcml6b250YWwobGFiZWxzKTtcbiAgfVxuXG4gIHNldFBhbmVsVmFsdWVzKG9wdGlvbnM6IFBhbmVsT3B0aW9ucyk6IHZvaWQge1xuICAgIHRoaXMucGFuZWw/LnNldFZhbHVlcyhvcHRpb25zKTtcbiAgfVxuXG4gIHVwZGF0ZVBhbmVsRnJvbSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5wYW5lbD8udXBkYXRlRnJvbSh2YWx1ZSk7XG4gIH1cblxuICB1cGRhdGVQYW5lbFRvKHZhbHVlOiBudW1iZXIgfCAnJyk6IHZvaWQge1xuICAgIHRoaXMucGFuZWw/LnVwZGF0ZVRvKHZhbHVlKTtcbiAgfVxuXG4gIHVwZGF0ZVBhbmVsU2NhbGVJbnRlcnZhbHModmFsdWU6IG51bWJlciB8ICcnKTogdm9pZCB7XG4gICAgdGhpcy5wYW5lbD8udXBkYXRlU2NhbGVJbnRlcnZhbHModmFsdWUpO1xuICB9XG5cbiAgdXBkYXRlUGFuZWxTdGVwKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnBhbmVsPy51cGRhdGVTdGVwKHZhbHVlKTtcbiAgfVxuXG4gIHVwZGF0ZVBhbmVsTWluKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnBhbmVsPy51cGRhdGVNaW4odmFsdWUpO1xuICB9XG5cbiAgdXBkYXRlUGFuZWxNYXgodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMucGFuZWw/LnVwZGF0ZU1heCh2YWx1ZSk7XG4gIH1cblxuICBjaGFuZ2VMZWZ0VmFsdWVGcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5ub3RpZnkoJ3ZpZXdTZXRMZWZ0RnJvbU91dHNpZGUnLCB2YWx1ZSk7XG4gIH1cblxuICBjaGFuZ2VSaWdodFZhbHVlRnJvbU91dHNpZGUodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubm90aWZ5KCd2aWV3U2V0UmlnaHRGcm9tT3V0c2lkZScsIHZhbHVlKTtcbiAgfVxuXG4gIGNoYW5nZU1pbkZyb21PdXRzaWRlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm5vdGlmeSgndmlld1NldE1pbicsIHZhbHVlKTtcbiAgfVxuXG4gIGNoYW5nZU1heEZyb21PdXRzaWRlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm5vdGlmeSgndmlld1NldE1heCcsIHZhbHVlKTtcbiAgfVxuXG4gIGNoYW5nZVN0ZXBGcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5ub3RpZnkoJ3ZpZXdTZXRTdGVwJywgdmFsdWUpO1xuICB9XG5cbiAgY2hhbmdlT3JpZW50YXRpb25Gcm9tT3V0c2lkZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMudmVydGljYWwgPSB0cnVlO1xuICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgdGhpcy50aHVtYkxlZnQuc2V0SW5kZW50KCdsZWZ0JywgMCk7XG4gICAgICB0aGlzLnRodW1iUmlnaHQ/LnNldEluZGVudCgnbGVmdCcsIDApO1xuICAgICAgdGhpcy5yYW5nZS5zZXRJbmRlbnQoJ2xlZnQnLCAwKTtcbiAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCdyaWdodCcsIDApO1xuICAgICAgdGhpcy5yYW5nZS5yZXNldFRvcEluZGVudCgpO1xuICAgICAgdGhpcy5yYW5nZS5yZXNldFdpZHRoKCk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0Py5zZXRJbmRlbnQoJ2xlZnQnLCAndW5zZXQnKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0Py5zZXRJbmRlbnQoJ2xlZnQnLCAndW5zZXQnKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbj8uc2V0SW5kZW50KCdsZWZ0JywgJ3Vuc2V0Jyk7XG4gICAgICB0aGlzLnNjYWxlPy5oYW5kbGVTd2l0Y2hGcm9tSG9yaXpvbnRhbFRvVmVydGljYWwoKTtcbiAgICAgIHRoaXMubm90aWZ5KCd2aWV3VG9nZ2xlT3JpZW50YXRpb24nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy52ZXJ0aWNhbCA9IGZhbHNlO1xuICAgICAgdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2Utc2xpZGVyX3ZlcnRpY2FsJyk7XG4gICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICB0aGlzLnRodW1iTGVmdC5zZXRJbmRlbnQoJ3RvcCcsIDApO1xuICAgICAgdGhpcy50aHVtYlJpZ2h0Py5zZXRJbmRlbnQoJ3RvcCcsIDApO1xuICAgICAgdGhpcy5yYW5nZS5zZXRJbmRlbnQoJ2JvdHRvbScsIDApO1xuICAgICAgdGhpcy5yYW5nZS5zZXRJbmRlbnQoJ3RvcCcsIDApO1xuICAgICAgdGhpcy5yYW5nZS5yZXNldEhlaWdodCgpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdD8uc2V0SW5kZW50KCd0b3AnLCAndW5zZXQnKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0Py5zZXRJbmRlbnQoJ3RvcCcsICd1bnNldCcpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uPy5zZXRJbmRlbnQoJ3RvcCcsICd1bnNldCcpO1xuICAgICAgdGhpcy5zY2FsZT8uaGFuZGxlU3dpdGNoRnJvbVZlcnRpY2FsVG9Ib3Jpem9udGFsKCk7XG4gICAgICB0aGlzLm5vdGlmeSgndmlld1RvZ2dsZU9yaWVudGF0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlUmFuZ2VGcm9tT3V0c2lkZSgpOiB2b2lkIHtcbiAgICBjb25zdCBpc1JhbmdlID0gIXRoaXMuaXNSYW5nZSgpO1xuXG4gICAgaWYgKGlzUmFuZ2UpIHtcbiAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgdGhpcy50aHVtYlJpZ2h0ID0gbmV3IFRodW1iKHRoaXMsICdyaWdodCcpO1xuXG4gICAgICBpZiAodGhpcy52YWx1ZUxhYmVsTGVmdCkge1xuICAgICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodCA9IG5ldyBMYWJlbCgncmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbCByYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsX3JpZ2h0Jyk7XG4gICAgICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbiA9IG5ldyBMYWJlbCgncmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbCByYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsX2NvbW1vbicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgICAgdGhpcy5yYW5nZS5yZXNldFdpZHRoKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMucmFuZ2UucmVzZXRIZWlnaHQoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzUmFuZ2UpIHtcbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMucmFuZ2UucmVzZXRUb3BJbmRlbnQoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICB0aGlzLnRodW1iUmlnaHQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHRoaXMubm90aWZ5KCd2aWV3VG9nZ2xlUmFuZ2UnKTtcbiAgfVxuXG4gIHRvZ2dsZVNjYWxlRnJvbU91dHNpZGUoKTogdm9pZCB7XG4gICAgdGhpcy5ub3RpZnkoJ3ZpZXdUb2dnbGVTY2FsZScpO1xuICB9XG5cbiAgY2hhbmdlU2NhbGVJbnRlcnZhbHModmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh2YWx1ZSA8PSAwKSByZXR1cm47XG5cbiAgICB0aGlzLnNjYWxlSW50ZXJ2YWxzID0gTWF0aC5mbG9vcih2YWx1ZSk7XG4gICAgdGhpcy5yZW1vdmVTY2FsZSgpO1xuICAgIHRoaXMubm90aWZ5KCd2aWV3U2V0U2NhbGVJbnRlcnZhbHMnKTtcbiAgfVxuXG4gIHRvZ2dsZVZhbHVlTGFiZWxzKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxMZWZ0KSB7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0LnJlbW92ZSgpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsUmlnaHQ/LnJlbW92ZSgpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uPy5yZW1vdmUoKTtcblxuICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAodGhpcy5taW5MYWJlbCkge1xuICAgICAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgICAgICB0aGlzLmZpeExhYmVsc0NvbnRhaW5lckhlaWdodEZvckhvcml6b250YWwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgdGhpcy5maXhMYWJlbHNDb250YWluZXJXaWR0aEZvclZlcnRpY2FsKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLm1pbkxhYmVsKSB7XG4gICAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyPy5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXIgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMudmFsdWVMYWJlbExlZnQpIHtcbiAgICAgIHRoaXMudmFsdWVMYWJlbExlZnQgPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWwgcmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9sZWZ0Jyk7XG5cbiAgICAgIGlmICghdGhpcy5sYWJlbHNDb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXIgPSBuZXcgTGFiZWxzQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuc2xpZGVyLmJlZm9yZSh0aGlzLmxhYmVsc0NvbnRhaW5lci5nZXRDb21wb25lbnQoKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyLmFwcGVuZCh0aGlzLnZhbHVlTGFiZWxMZWZ0LmdldENvbXBvbmVudCgpKTtcblxuICAgICAgaWYgKHRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0ID0gbmV3IExhYmVsKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsIHJhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWxfcmlnaHQnKTtcbiAgICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uID0gbmV3IExhYmVsKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsIHJhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWxfY29tbW9uJyk7XG5cbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXJcbiAgICAgICAgICAuYXBwZW5kKHRoaXMudmFsdWVMYWJlbFJpZ2h0IS5nZXRDb21wb25lbnQoKSwgdGhpcy52YWx1ZUxhYmVsQ29tbW9uIS5nZXRDb21wb25lbnQoKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubm90aWZ5KCd2aWV3QWRkVmFsdWVMYWJlbHMnKTtcblxuICAgICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMuZml4TGFiZWxzQ29udGFpbmVySGVpZ2h0Rm9ySG9yaXpvbnRhbCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLmZpeExhYmVsc0NvbnRhaW5lcldpZHRoRm9yVmVydGljYWwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0b2dnbGVNaW5NYXhMYWJlbHMoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubWluTGFiZWwpIHtcbiAgICAgIHRoaXMubWluTGFiZWwucmVtb3ZlKCk7XG4gICAgICB0aGlzLm1heExhYmVsPy5yZW1vdmUoKTtcblxuICAgICAgdGhpcy5taW5MYWJlbCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMubWF4TGFiZWwgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh0aGlzLnZhbHVlTGFiZWxMZWZ0KSB7XG4gICAgICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICAgIHRoaXMuZml4TGFiZWxzQ29udGFpbmVySGVpZ2h0Rm9ySG9yaXpvbnRhbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgICB0aGlzLmZpeExhYmVsc0NvbnRhaW5lcldpZHRoRm9yVmVydGljYWwoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMudmFsdWVMYWJlbExlZnQpIHtcbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXI/LnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmxhYmVsc0NvbnRhaW5lciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5taW5MYWJlbCkge1xuICAgICAgdGhpcy5taW5MYWJlbCA9IG5ldyBMYWJlbCgncmFuZ2Utc2xpZGVyX19taW4tbWF4LWxhYmVsIHJhbmdlLXNsaWRlcl9fbWluLW1heC1sYWJlbF9sZWZ0Jyk7XG4gICAgICB0aGlzLm1heExhYmVsID0gbmV3IExhYmVsKCdyYW5nZS1zbGlkZXJfX21pbi1tYXgtbGFiZWwgcmFuZ2Utc2xpZGVyX19taW4tbWF4LWxhYmVsX3JpZ2h0Jyk7XG5cbiAgICAgIGlmICghdGhpcy5sYWJlbHNDb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXIgPSBuZXcgTGFiZWxzQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuc2xpZGVyLmJlZm9yZSh0aGlzLmxhYmVsc0NvbnRhaW5lci5nZXRDb21wb25lbnQoKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyLmFwcGVuZCh0aGlzLm1pbkxhYmVsLmdldENvbXBvbmVudCgpLCB0aGlzLm1heExhYmVsLmdldENvbXBvbmVudCgpKTtcblxuICAgICAgdGhpcy5ub3RpZnkoJ3ZpZXdBZGRNaW5NYXhMYWJlbHMnKTtcblxuICAgICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMuZml4TGFiZWxzQ29udGFpbmVySGVpZ2h0Rm9ySG9yaXpvbnRhbCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLmZpeExhYmVsc0NvbnRhaW5lcldpZHRoRm9yVmVydGljYWwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYXNMYWJlbHMoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMudmFsdWVMYWJlbExlZnQgfHwgdGhpcy5taW5MYWJlbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGhhc1NjYWxlKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnNjYWxlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaGFzTWluTWF4TGFiZWxzKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLm1heExhYmVsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaGFzVmFsdWVMYWJlbHMoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMudmFsdWVMYWJlbExlZnQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBoYXNQYW5lbCgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5wYW5lbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlzUmFuZ2UoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMudGh1bWJSaWdodCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlzVmVydGljYWwoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXRUcmFja1dpZHRoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudHJhY2suZ2V0V2lkdGgoKTtcbiAgfVxuXG4gIGdldFRyYWNrSGVpZ2h0KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudHJhY2suZ2V0SGVpZ2h0KCk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlcigpOiB2b2lkIHtcbiAgICBjb25zdCBmcmFnbWVudCA9IG5ldyBEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICB0aGlzLnRyYWNrLmFwcGVuZCh0aGlzLnJhbmdlLmdldENvbXBvbmVudCgpKTtcbiAgICB0aGlzLnNsaWRlci5hcHBlbmQodGhpcy50cmFjay5nZXRDb21wb25lbnQoKSwgdGhpcy50aHVtYkxlZnQuZ2V0Q29tcG9uZW50KCkpO1xuICAgIGZyYWdtZW50LmFwcGVuZCh0aGlzLnNsaWRlciwgdGhpcy5pbnB1dC5nZXRDb21wb25lbnQoKSk7XG5cbiAgICBpZiAodGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgIHRoaXMuc2xpZGVyLmFwcGVuZCh0aGlzLnRodW1iUmlnaHQhLmdldENvbXBvbmVudCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCdsZWZ0JywgMCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCdib3R0b20nLCAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5taW5MYWJlbCAmJiB0aGlzLm1heExhYmVsKSB7XG4gICAgICB0aGlzLmxhYmVsc0NvbnRhaW5lciEuYXBwZW5kKHRoaXMubWluTGFiZWwuZ2V0Q29tcG9uZW50KCksIHRoaXMubWF4TGFiZWwuZ2V0Q29tcG9uZW50KCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxMZWZ0KSB7XG4gICAgICB0aGlzLmxhYmVsc0NvbnRhaW5lciEuYXBwZW5kKHRoaXMudmFsdWVMYWJlbExlZnQuZ2V0Q29tcG9uZW50KCkpO1xuXG4gICAgICBpZiAodGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXIhXG4gICAgICAgICAgLmFwcGVuZCh0aGlzLnZhbHVlTGFiZWxSaWdodCEuZ2V0Q29tcG9uZW50KCksIHRoaXMudmFsdWVMYWJlbENvbW1vbiEuZ2V0Q29tcG9uZW50KCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmxhYmVsc0NvbnRhaW5lcikge1xuICAgICAgdGhpcy5zbGlkZXIuYmVmb3JlKHRoaXMubGFiZWxzQ29udGFpbmVyLmdldENvbXBvbmVudCgpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LmFkZCgncmFuZ2Utc2xpZGVyX3ZlcnRpY2FsJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFuZWwpIHtcbiAgICAgIGNvbnN0IHBhbmVsV3JhcHBlciA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnZGl2JywgJ3JhbmdlLXNsaWRlcl9fcGFuZWwnKTtcbiAgICAgIHBhbmVsV3JhcHBlci5hcHBlbmQodGhpcy5wYW5lbC5nZXRDb21wb25lbnQoKSk7XG4gICAgICBmcmFnbWVudC5hcHBlbmQocGFuZWxXcmFwcGVyKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zY2FsZSkge1xuICAgICAgdGhpcy5zbGlkZXIuYWZ0ZXIodGhpcy5zY2FsZS5nZXRDb21wb25lbnQoKSk7XG4gICAgfVxuXG4gICAgdGhpcy5jb21wb25lbnQuYXBwZW5kKGZyYWdtZW50KTtcbiAgfVxuXG4gIHByaXZhdGUgZGVzdHJveSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5sYWJlbHNDb250YWluZXIpIHtcbiAgICAgIFsuLi50aGlzLmxhYmVsc0NvbnRhaW5lci5nZXRDb21wb25lbnQoKS5jaGlsZHJlbl0uZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgWy4uLnRoaXMuc2xpZGVyLmNoaWxkcmVuXS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgIH0pO1xuXG4gICAgWy4uLnRoaXMuY29tcG9uZW50LmNoaWxkcmVuXS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBtZXJnZUxhYmVscygpOiB2b2lkIHtcbiAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0Py5zZXRPcGFjaXR5KDApO1xuICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0Py5zZXRPcGFjaXR5KDApO1xuICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbj8uc2V0T3BhY2l0eSgxKTtcblxuICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgY29uc3QgZGlzdGFuY2VCZXR3ZWVuVGh1bWJzID0gKFxuICAgICAgICBwYXJzZUludCh0aGlzLnRodW1iUmlnaHQhLmdldExlZnRJbmRlbnQoKSwgMTApXG4gICAgICAgIC0gcGFyc2VJbnQodGhpcy50aHVtYkxlZnQuZ2V0TGVmdEluZGVudCgpLCAxMClcbiAgICAgICk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxDb21tb24/LnNldEluZGVudCgnbGVmdCcsIGAke3BhcnNlSW50KHRoaXMudmFsdWVMYWJlbExlZnQhLmdldExlZnRJbmRlbnQoKSwgMTApICsgZGlzdGFuY2VCZXR3ZWVuVGh1bWJzIC8gMn0lYCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIGNvbnN0IGRpc3RhbmNlQmV0d2VlblRodW1icyA9IChcbiAgICAgICAgcGFyc2VJbnQodGhpcy50aHVtYlJpZ2h0IS5nZXRUb3BJbmRlbnQoKSwgMTApIC0gcGFyc2VJbnQodGhpcy50aHVtYkxlZnQuZ2V0VG9wSW5kZW50KCksIDEwKVxuICAgICAgKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbj8uc2V0SW5kZW50KCd0b3AnLCBgJHtwYXJzZUludCh0aGlzLnZhbHVlTGFiZWxSaWdodCEuZ2V0VG9wSW5kZW50KCksIDEwKSAtIGRpc3RhbmNlQmV0d2VlblRodW1icyAvIDJ9JWApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3BsaXRMYWJlbHMoKTogdm9pZCB7XG4gICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uPy5zZXRPcGFjaXR5KDApO1xuICAgIHRoaXMudmFsdWVMYWJlbExlZnQ/LnNldE9wYWNpdHkoMSk7XG4gICAgdGhpcy52YWx1ZUxhYmVsUmlnaHQ/LnNldE9wYWNpdHkoMSk7XG4gIH1cblxuICBwcml2YXRlIGlzVHdvTGFiZWxzQ2xvc2UobGFiZWwxOiBMYWJlbCwgbGFiZWwyOiBMYWJlbCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBjb25zdCBib3R0b21MYWJlbEVkZ2UgPSBsYWJlbDEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgY29uc3QgdG9wTGFiZWxFZGdlID0gbGFiZWwyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcblxuICAgICAgcmV0dXJuICgoYm90dG9tTGFiZWxFZGdlIC0gdG9wTGFiZWxFZGdlKSA8IDMpO1xuICAgIH1cblxuICAgIGNvbnN0IGxlZnRMYWJlbEVkZ2UgPSBsYWJlbDEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQ7XG4gICAgY29uc3QgcmlnaHRMYWJlbEVkZ2UgPSBsYWJlbDIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcblxuICAgIHJldHVybiAoKHJpZ2h0TGFiZWxFZGdlIC0gbGVmdExhYmVsRWRnZSkgPCAzKTtcbiAgfVxuXG4gIHByaXZhdGUgaXNUd29WYWx1ZUxhYmVsc0Nsb3NlKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxMZWZ0ICYmIHRoaXMudmFsdWVMYWJlbFJpZ2h0KSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1R3b0xhYmVsc0Nsb3NlKHRoaXMudmFsdWVMYWJlbExlZnQsIHRoaXMudmFsdWVMYWJlbFJpZ2h0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIGlzTGVmdFZhbHVlTGFiZWxDbG9zZVRvTWluTGFiZWwoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMubWluTGFiZWwgJiYgdGhpcy52YWx1ZUxhYmVsTGVmdCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNUd29MYWJlbHNDbG9zZSh0aGlzLm1pbkxhYmVsLCB0aGlzLnZhbHVlTGFiZWxMZWZ0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIGlzTGVmdFZhbHVlTGFiZWxDbG9zZVRvTWF4TGFiZWwoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMudmFsdWVMYWJlbExlZnQgJiYgdGhpcy5tYXhMYWJlbCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNUd29MYWJlbHNDbG9zZSh0aGlzLnZhbHVlTGFiZWxMZWZ0LCB0aGlzLm1heExhYmVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIGlzUmlnaHRWYWx1ZUxhYmVsQ2xvc2VUb01heExhYmVsKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxSaWdodCAmJiB0aGlzLm1heExhYmVsKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1R3b0xhYmVsc0Nsb3NlKHRoaXMudmFsdWVMYWJlbFJpZ2h0LCB0aGlzLm1heExhYmVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIHdoaWNoVGh1bWJJc05lYXJlcih4OiBudW1iZXIsIHk6IG51bWJlcik6ICdsZWZ0JyB8ICdyaWdodCcge1xuICAgIGNvbnN0IGxlZnRUaHVtYkNvb3JkcyA9IHRoaXMudGh1bWJMZWZ0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHJpZ2h0VGh1bWJDb29yZHMgPSB0aGlzLnRodW1iUmlnaHQhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHRyYWNrQ29vcmRzID0gdGhpcy50cmFjay5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGxldCBkaXN0YW5jZUZyb21MZWZ0VGh1bWJDZW50ZXI6IG51bWJlciA9IDA7XG4gICAgbGV0IGRpc3RhbmNlRnJvbVJpZ2h0VGh1bWJDZW50ZXI6IG51bWJlciA9IDA7XG5cbiAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgIGNvbnN0IGxlZnRUaHVtYkNlbnRlciA9IGxlZnRUaHVtYkNvb3Jkcy5sZWZ0ICsgbGVmdFRodW1iQ29vcmRzLndpZHRoIC8gMiAtIHRyYWNrQ29vcmRzLmxlZnQ7XG4gICAgICBjb25zdCByaWdodFRodW1iQ2VudGVyID0gcmlnaHRUaHVtYkNvb3Jkcy5sZWZ0XG4gICAgICAgICsgcmlnaHRUaHVtYkNvb3Jkcy53aWR0aCAvIDJcbiAgICAgICAgLSB0cmFja0Nvb3Jkcy5sZWZ0O1xuXG4gICAgICBkaXN0YW5jZUZyb21MZWZ0VGh1bWJDZW50ZXIgPSBNYXRoLmFicyh4IC0gbGVmdFRodW1iQ2VudGVyKTtcbiAgICAgIGRpc3RhbmNlRnJvbVJpZ2h0VGh1bWJDZW50ZXIgPSBNYXRoLmFicyh4IC0gcmlnaHRUaHVtYkNlbnRlcik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIGNvbnN0IGxlZnRUaHVtYkNlbnRlciA9IGxlZnRUaHVtYkNvb3Jkcy50b3AgKyBsZWZ0VGh1bWJDb29yZHMuaGVpZ2h0IC8gMiAtIHRyYWNrQ29vcmRzLnRvcDtcbiAgICAgIGNvbnN0IHJpZ2h0VGh1bWJDZW50ZXIgPSByaWdodFRodW1iQ29vcmRzLnRvcCArIHJpZ2h0VGh1bWJDb29yZHMuaGVpZ2h0IC8gMiAtIHRyYWNrQ29vcmRzLnRvcDtcblxuICAgICAgZGlzdGFuY2VGcm9tTGVmdFRodW1iQ2VudGVyID0gTWF0aC5hYnMoeSAtIGxlZnRUaHVtYkNlbnRlcik7XG4gICAgICBkaXN0YW5jZUZyb21SaWdodFRodW1iQ2VudGVyID0gTWF0aC5hYnMoeSAtIHJpZ2h0VGh1bWJDZW50ZXIpO1xuICAgIH1cblxuICAgIGlmIChkaXN0YW5jZUZyb21MZWZ0VGh1bWJDZW50ZXIgPD0gZGlzdGFuY2VGcm9tUmlnaHRUaHVtYkNlbnRlcikge1xuICAgICAgcmV0dXJuICdsZWZ0JztcbiAgICB9XG5cbiAgICByZXR1cm4gJ3JpZ2h0JztcbiAgfVxuXG4gIHByaXZhdGUgYWRkU21vb3RoVHJhbnNpdGlvbihzaWRlOiAnbGVmdCcgfCAncmlnaHQnID0gJ2xlZnQnKTogdm9pZCB7XG4gICAgaWYgKHNpZGUgPT09ICdsZWZ0Jykge1xuICAgICAgdGhpcy50aHVtYkxlZnQuZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LmFkZCgncmFuZ2Utc2xpZGVyX190aHVtYl9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgICAgdGhpcy5yYW5nZS5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QuYWRkKCdyYW5nZS1zbGlkZXJfX3JhbmdlX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0Py5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QuYWRkKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKHNpZGUgPT09ICdyaWdodCcpIHtcbiAgICAgIHRoaXMudGh1bWJSaWdodCEuZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LmFkZCgncmFuZ2Utc2xpZGVyX190aHVtYl9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgICAgdGhpcy5yYW5nZS5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QuYWRkKCdyYW5nZS1zbGlkZXJfX3JhbmdlX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodD8uZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LmFkZCgncmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVtb3ZlU21vb3RoVHJhbnNpdGlvbihzaWRlOiAnbGVmdCcgfCAncmlnaHQnID0gJ2xlZnQnKTogdm9pZCB7XG4gICAgaWYgKHNpZGUgPT09ICdsZWZ0Jykge1xuICAgICAgdGhpcy50aHVtYkxlZnQuZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2Utc2xpZGVyX190aHVtYl9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgICAgdGhpcy5yYW5nZS5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QucmVtb3ZlKCdyYW5nZS1zbGlkZXJfX3JhbmdlX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0Py5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QucmVtb3ZlKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKHNpZGUgPT09ICdyaWdodCcpIHtcbiAgICAgIHRoaXMudGh1bWJSaWdodCEuZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2Utc2xpZGVyX190aHVtYl9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgICAgdGhpcy5yYW5nZS5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QucmVtb3ZlKCdyYW5nZS1zbGlkZXJfX3JhbmdlX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodD8uZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY29sbGVjdExhYmVscygpOiBIVE1MRWxlbWVudFtdIHtcbiAgICBjb25zdCBsYWJlbHM6IEhUTUxFbGVtZW50W10gPSBbXTtcblxuICAgIGlmICh0aGlzLm1pbkxhYmVsICYmIHRoaXMubWF4TGFiZWwpIHtcbiAgICAgIGxhYmVscy5wdXNoKHRoaXMubWluTGFiZWwuZ2V0Q29tcG9uZW50KCkpO1xuICAgICAgbGFiZWxzLnB1c2godGhpcy5tYXhMYWJlbC5nZXRDb21wb25lbnQoKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmFsdWVMYWJlbExlZnQpIHtcbiAgICAgIGxhYmVscy5wdXNoKHRoaXMudmFsdWVMYWJlbExlZnQuZ2V0Q29tcG9uZW50KCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxSaWdodCkge1xuICAgICAgbGFiZWxzLnB1c2godGhpcy52YWx1ZUxhYmVsUmlnaHQuZ2V0Q29tcG9uZW50KCkpO1xuICAgIH1cblxuICAgIHJldHVybiBsYWJlbHM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlldztcbiIsImltcG9ydCBNb2RlbCBmcm9tICcuLi9Nb2RlbC9Nb2RlbCc7XG5pbXBvcnQgVmlldyBmcm9tICcuLi9WaWV3L1ZpZXcnO1xuaW1wb3J0IHsgSUV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi9FdmVudE1hbmFnZXIvRXZlbnRNYW5hZ2VyJztcblxuY2xhc3MgUHJlc2VudGVyIGltcGxlbWVudHMgSUV2ZW50TGlzdGVuZXIge1xuICBwcml2YXRlIG1vZGVsOiBNb2RlbDtcblxuICBwcml2YXRlIHZpZXc6IFZpZXc7XG5cbiAgY29uc3RydWN0b3IobW9kZWw6IE1vZGVsLCB2aWV3OiBWaWV3KSB7XG4gICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICAgIHRoaXMudmlldyA9IHZpZXc7XG5cbiAgICB0aGlzLmluaXRWaWV3VmFsdWVzKCk7XG4gICAgdGhpcy5tb2RlbC5zdWJzY3JpYmUodGhpcyk7XG4gICAgdGhpcy52aWV3LnN1YnNjcmliZSh0aGlzKTtcbiAgfVxuXG4gIGluZm9ybShldmVudFR5cGU6IHN0cmluZywgZGF0YTogbnVtYmVyIHwgbnVsbCA9IG51bGwpOiB2b2lkIHtcbiAgICBzd2l0Y2ggKGV2ZW50VHlwZSkge1xuICAgICAgY2FzZSAndmlld0lucHV0TGVmdCc6XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVZpZXdJbnB1dExlZnQoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3SW5wdXRSaWdodCc6XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVZpZXdJbnB1dFJpZ2h0KGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlld1NldExlZnRGcm9tT3V0c2lkZSc6XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVZpZXdTZXRMZWZ0RnJvbU91dHNpZGUoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3U2V0UmlnaHRGcm9tT3V0c2lkZSc6XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVZpZXdTZXRSaWdodEZyb21PdXRzaWRlKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlld1NldE1pbic6XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVZpZXdTZXRNaW4oZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3U2V0TWF4JzpcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMuaGFuZGxlVmlld1NldE1heChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZXdTZXRTdGVwJzpcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMuaGFuZGxlVmlld1NldFN0ZXAoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3VG9nZ2xlT3JpZW50YXRpb24nOlxuICAgICAgICB0aGlzLmhhbmRsZVZpZXdUb2dnbGVPcmllbnRhdGlvbigpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZXdUb2dnbGVSYW5nZSc6XG4gICAgICAgIHRoaXMuaGFuZGxlVmlld1RvZ2dsZVJhbmdlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlld1RvZ2dsZVNjYWxlJzpcbiAgICAgICAgdGhpcy5oYW5kbGVWaWV3VG9nZ2xlU2NhbGUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3U2V0U2NhbGVJbnRlcnZhbHMnOlxuICAgICAgICB0aGlzLmhhbmRsZVZpZXdTZXRTY2FsZUludGVydmFscygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZXdBZGRWYWx1ZUxhYmVscyc6XG4gICAgICAgIHRoaXMuaGFuZGxlVmlld0FkZFZhbHVlTGFiZWxzKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlld0FkZE1pbk1heExhYmVscyc6XG4gICAgICAgIHRoaXMuaGFuZGxlVmlld0FkZE1pbk1heExhYmVscygpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnbW9kZWxTZXRMZWZ0JzpcbiAgICAgICAgdGhpcy5oYW5kbGVNb2RlbFNldExlZnQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtb2RlbFNldFJpZ2h0JzpcbiAgICAgICAgdGhpcy5oYW5kbGVNb2RlbFNldFJpZ2h0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbW9kZWxTZXRNaW4nOlxuICAgICAgICB0aGlzLmhhbmRsZU1vZGVsU2V0TWluKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbW9kZWxTZXRNYXgnOlxuICAgICAgICB0aGlzLmhhbmRsZU1vZGVsU2V0TWF4KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbW9kZWxUb2dnbGVSYW5nZSc6XG4gICAgICAgIHRoaXMuaGFuZGxlTW9kZWxUb2dnbGVSYW5nZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21vZGVsU2V0U3RlcCc6XG4gICAgICAgIHRoaXMuaGFuZGxlTW9kZWxTZXRTdGVwKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyByZW1vdmVDYWxjSW5hY2N1cmFjeSh2YWx1ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTnVtYmVyKHZhbHVlLnRvRml4ZWQoMTApKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdFZpZXdWYWx1ZXMoKTogdm9pZCB7XG4gICAgY29uc3QgeyBtb2RlbCB9ID0gdGhpcztcbiAgICBjb25zdCB7IHZpZXcgfSA9IHRoaXM7XG5cbiAgICBjb25zdCBtaW4gPSBtb2RlbC5nZXRNaW4oKTtcbiAgICBjb25zdCBtYXggPSBtb2RlbC5nZXRNYXgoKTtcbiAgICBjb25zdCBsZWZ0VmFsdWUgPSBtb2RlbC5nZXRMZWZ0VmFsdWUoKTtcbiAgICBjb25zdCByaWdodFZhbHVlID0gbW9kZWwuZ2V0UmlnaHRWYWx1ZSgpO1xuXG4gICAgdmlldy5zZXRNaW5WYWx1ZShtaW4pO1xuICAgIHZpZXcuc2V0TWF4VmFsdWUobWF4KTtcbiAgICB0aGlzLnBhc3NMZWZ0VmFsdWVUb1ZpZXcobGVmdFZhbHVlKTtcblxuICAgIGlmICh2aWV3LmlzUmFuZ2UoKSAmJiAocmlnaHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSkge1xuICAgICAgdGhpcy5wYXNzUmlnaHRWYWx1ZVRvVmlldyhyaWdodFZhbHVlKTtcbiAgICAgIHZpZXcudXBkYXRlSW5wdXQobGVmdFZhbHVlLCByaWdodFZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmlldy51cGRhdGVJbnB1dChsZWZ0VmFsdWUpO1xuICAgIH1cblxuICAgIGlmICh2aWV3Lmhhc1NjYWxlKCkpIHtcbiAgICAgIC8vIGZpcnN0IHJlbW92ZSBzY2FsZSB3aXRoIGFyYml0cmFyeSB2YWx1ZXMsIHdoaWNoIHdhcyBhZGRlZCBhcyBhIHBsdWdcbiAgICAgIHZpZXcucmVtb3ZlU2NhbGUoKTtcbiAgICAgIHZpZXcuYWRkU2NhbGUobWluLCBtYXgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZpZXcuaGFzTGFiZWxzKCkpIHtcbiAgICAgIGlmICghdmlldy5pc1ZlcnRpY2FsKCkpIHtcbiAgICAgICAgdmlldy5maXhMYWJlbHNDb250YWluZXJIZWlnaHRGb3JIb3Jpem9udGFsKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh2aWV3LmlzVmVydGljYWwoKSkge1xuICAgICAgICB2aWV3LmZpeExhYmVsc0NvbnRhaW5lcldpZHRoRm9yVmVydGljYWwoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodmlldy5oYXNQYW5lbCgpKSB7XG4gICAgICB2aWV3LnNldFBhbmVsVmFsdWVzKHtcbiAgICAgICAgbWluLFxuICAgICAgICBtYXgsXG4gICAgICAgIHN0ZXA6IG1vZGVsLmdldFN0ZXAoKSxcbiAgICAgICAgZnJvbTogbGVmdFZhbHVlLFxuICAgICAgICB0bzogcmlnaHRWYWx1ZSA/PyBudWxsLFxuICAgICAgICB2ZXJ0aWNhbDogdmlldy5pc1ZlcnRpY2FsKCkgPz8gZmFsc2UsXG4gICAgICAgIHJhbmdlOiB2aWV3LmlzUmFuZ2UoKSxcbiAgICAgICAgc2NhbGU6IHZpZXcuaGFzU2NhbGUoKSxcbiAgICAgICAgc2NhbGVJbnRlcnZhbHM6IHZpZXcuZ2V0U2NhbGVJbnRlcnZhbHMoKSxcbiAgICAgICAgdmFsdWVMYWJlbHM6IHZpZXcuaGFzVmFsdWVMYWJlbHMoKSxcbiAgICAgICAgbWluTWF4TGFiZWxzOiB2aWV3Lmhhc01pbk1heExhYmVscygpLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3SW5wdXRMZWZ0KHB4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuY29udmVydFB4VG9WYWx1ZShweCk7XG4gICAgdGhpcy5tb2RlbC5zZXRMZWZ0VmFsdWUodmFsdWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNb2RlbFNldExlZnQoKTogdm9pZCB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLm1vZGVsLmdldExlZnRWYWx1ZSgpO1xuICAgIHRoaXMucGFzc0xlZnRWYWx1ZVRvVmlldyh2YWx1ZSk7XG4gICAgdGhpcy51cGRhdGVWaWV3SW5wdXQoKTtcblxuICAgIGlmICh0aGlzLnZpZXcuaGFzUGFuZWwoKSkge1xuICAgICAgdGhpcy52aWV3LnVwZGF0ZVBhbmVsRnJvbSh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3SW5wdXRSaWdodChweDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLmNvbnZlcnRQeFRvVmFsdWUocHgpO1xuICAgIHRoaXMubW9kZWwuc2V0UmlnaHRWYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1vZGVsU2V0UmlnaHQoKTogdm9pZCB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLm1vZGVsLmdldFJpZ2h0VmFsdWUoKSE7XG4gICAgdGhpcy5wYXNzUmlnaHRWYWx1ZVRvVmlldyh2YWx1ZSk7XG4gICAgdGhpcy51cGRhdGVWaWV3SW5wdXQoKTtcblxuICAgIGlmICh0aGlzLnZpZXcuaGFzUGFuZWwoKSkge1xuICAgICAgdGhpcy52aWV3LnVwZGF0ZVBhbmVsVG8odmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcGFzc0xlZnRWYWx1ZVRvVmlldyh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgcGVyY2VudCA9IHRoaXMuY29udmVydFZhbHVlVG9QZXJjZW50KHZhbHVlKTtcbiAgICB0aGlzLnZpZXcuc2V0TGVmdFZhbHVlKHZhbHVlLCBwZXJjZW50KTtcbiAgfVxuXG4gIHByaXZhdGUgcGFzc1JpZ2h0VmFsdWVUb1ZpZXcodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHBlcmNlbnQgPSB0aGlzLmNvbnZlcnRWYWx1ZVRvUGVyY2VudCh2YWx1ZSk7XG4gICAgdGhpcy52aWV3LnNldFJpZ2h0VmFsdWUodmFsdWUsIHBlcmNlbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVWaWV3SW5wdXQoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnZpZXcuaXNSYW5nZSgpKSB7XG4gICAgICB0aGlzLnZpZXcudXBkYXRlSW5wdXQodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmlldy5pc1JhbmdlKCkpIHtcbiAgICAgIHRoaXMudmlldy51cGRhdGVJbnB1dCh0aGlzLm1vZGVsLmdldExlZnRWYWx1ZSgpLCB0aGlzLm1vZGVsLmdldFJpZ2h0VmFsdWUoKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb252ZXJ0VmFsdWVUb1BlcmNlbnQodmFsdWU6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3QgbWluID0gdGhpcy5tb2RlbC5nZXRNaW4oKTtcbiAgICBjb25zdCBtYXggPSB0aGlzLm1vZGVsLmdldE1heCgpO1xuICAgIGxldCBwZXJjZW50ID0gKCh2YWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKSkgKiAxMDA7XG4gICAgcGVyY2VudCA9IFByZXNlbnRlci5yZW1vdmVDYWxjSW5hY2N1cmFjeShwZXJjZW50KTtcblxuICAgIHJldHVybiBwZXJjZW50O1xuICB9XG5cbiAgcHJpdmF0ZSBjb252ZXJ0UHhUb1ZhbHVlKHB4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCBwZXJjZW50ID0gMDtcblxuICAgIGlmICghdGhpcy52aWV3LmlzVmVydGljYWwoKSkge1xuICAgICAgY29uc3QgdHJhY2tXaWR0aEluUHggPSB0aGlzLnZpZXcuZ2V0VHJhY2tXaWR0aCgpO1xuICAgICAgcGVyY2VudCA9IChweCAqIDEwMCkgLyB0cmFja1dpZHRoSW5QeDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWV3LmlzVmVydGljYWwoKSkge1xuICAgICAgY29uc3QgdHJhY2tIZWlnaHRJblB4ID0gdGhpcy52aWV3LmdldFRyYWNrSGVpZ2h0KCk7XG4gICAgICBwZXJjZW50ID0gKHB4ICogMTAwKSAvIHRyYWNrSGVpZ2h0SW5QeDtcbiAgICB9XG5cbiAgICBjb25zdCBtaW4gPSB0aGlzLm1vZGVsLmdldE1pbigpO1xuICAgIGNvbnN0IG1heCA9IHRoaXMubW9kZWwuZ2V0TWF4KCk7XG4gICAgbGV0IHZhbHVlID0gKChtYXggLSBtaW4pICogKHBlcmNlbnQgLyAxMDApICsgbWluKTtcbiAgICB2YWx1ZSA9IHRoaXMuZml0VG9TdGVwKHZhbHVlKTtcbiAgICB2YWx1ZSA9IFByZXNlbnRlci5yZW1vdmVDYWxjSW5hY2N1cmFjeSh2YWx1ZSk7XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBwcml2YXRlIGZpdFRvU3RlcCh2YWx1ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgcmVzdWx0ID0gTWF0aC5yb3VuZCh2YWx1ZSAvIHRoaXMubW9kZWwuZ2V0U3RlcCgpKSAqIHRoaXMubW9kZWwuZ2V0U3RlcCgpO1xuICAgIHJlc3VsdCA9IFByZXNlbnRlci5yZW1vdmVDYWxjSW5hY2N1cmFjeShyZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZpZXdTZXRMZWZ0RnJvbU91dHNpZGUodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubW9kZWwuc2V0TGVmdFZhbHVlKHZhbHVlKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld1NldFJpZ2h0RnJvbU91dHNpZGUodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubW9kZWwuc2V0UmlnaHRWYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZpZXdTZXRNaW4odmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubW9kZWwuc2V0TWluKHZhbHVlKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTW9kZWxTZXRNaW4oKTogdm9pZCB7XG4gICAgdGhpcy52aWV3LnNldE1pblZhbHVlKHRoaXMubW9kZWwuZ2V0TWluKCkpO1xuICAgIHRoaXMucGFzc0xlZnRWYWx1ZVRvVmlldyh0aGlzLm1vZGVsLmdldExlZnRWYWx1ZSgpKTtcblxuICAgIGNvbnN0IHJpZ2h0VmFsdWUgPSB0aGlzLm1vZGVsLmdldFJpZ2h0VmFsdWUoKTtcbiAgICBpZiAocmlnaHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnBhc3NSaWdodFZhbHVlVG9WaWV3KHJpZ2h0VmFsdWUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZpZXcuaGFzU2NhbGUoKSkge1xuICAgICAgdGhpcy52aWV3LnJlbW92ZVNjYWxlKCk7XG4gICAgICB0aGlzLnZpZXcuYWRkU2NhbGUodGhpcy5tb2RlbC5nZXRNaW4oKSwgdGhpcy5tb2RlbC5nZXRNYXgoKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmlldy5oYXNQYW5lbCgpKSB7XG4gICAgICB0aGlzLnZpZXcudXBkYXRlUGFuZWxNaW4odGhpcy5tb2RlbC5nZXRNaW4oKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3U2V0TWF4KHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm1vZGVsLnNldE1heCh2YWx1ZSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1vZGVsU2V0TWF4KCk6IHZvaWQge1xuICAgIHRoaXMudmlldy5zZXRNYXhWYWx1ZSh0aGlzLm1vZGVsLmdldE1heCgpKTtcbiAgICB0aGlzLnBhc3NMZWZ0VmFsdWVUb1ZpZXcodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSk7XG5cbiAgICBjb25zdCByaWdodFZhbHVlID0gdGhpcy5tb2RlbC5nZXRSaWdodFZhbHVlKCk7XG4gICAgaWYgKHJpZ2h0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5wYXNzUmlnaHRWYWx1ZVRvVmlldyhyaWdodFZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWV3Lmhhc1NjYWxlKCkpIHtcbiAgICAgIHRoaXMudmlldy5yZW1vdmVTY2FsZSgpO1xuICAgICAgdGhpcy52aWV3LmFkZFNjYWxlKHRoaXMubW9kZWwuZ2V0TWluKCksIHRoaXMubW9kZWwuZ2V0TWF4KCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZpZXcuaGFzUGFuZWwoKSkge1xuICAgICAgdGhpcy52aWV3LnVwZGF0ZVBhbmVsTWF4KHRoaXMubW9kZWwuZ2V0TWF4KCkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld1NldFN0ZXAodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubW9kZWwuc2V0U3RlcCh2YWx1ZSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZpZXdUb2dnbGVPcmllbnRhdGlvbigpOiB2b2lkIHtcbiAgICB0aGlzLnBhc3NMZWZ0VmFsdWVUb1ZpZXcodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSk7XG5cbiAgICBpZiAodGhpcy52aWV3LmlzUmFuZ2UoKSkge1xuICAgICAgY29uc3QgcmlnaHRWYWx1ZSA9IHRoaXMubW9kZWwuZ2V0UmlnaHRWYWx1ZSgpO1xuICAgICAgaWYgKHJpZ2h0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnBhc3NSaWdodFZhbHVlVG9WaWV3KHJpZ2h0VmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnZpZXcuaGFzTGFiZWxzKCkpIHtcbiAgICAgIGlmICghdGhpcy52aWV3LmlzVmVydGljYWwoKSkge1xuICAgICAgICB0aGlzLnZpZXcuZml4TGFiZWxzQ29udGFpbmVySGVpZ2h0Rm9ySG9yaXpvbnRhbCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy52aWV3LmlzVmVydGljYWwoKSkge1xuICAgICAgICB0aGlzLnZpZXcuZml4TGFiZWxzQ29udGFpbmVyV2lkdGhGb3JWZXJ0aWNhbCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld1RvZ2dsZVJhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMubW9kZWwudG9nZ2xlUmFuZ2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTW9kZWxUb2dnbGVSYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnBhc3NMZWZ0VmFsdWVUb1ZpZXcodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSk7XG5cbiAgICBpZiAodGhpcy5tb2RlbC5pc1JhbmdlKCkpIHtcbiAgICAgIHRoaXMubW9kZWwuc2V0UmlnaHRWYWx1ZSgpO1xuICAgICAgY29uc3QgcmlnaHRWYWx1ZSA9IHRoaXMubW9kZWwuZ2V0UmlnaHRWYWx1ZSgpO1xuICAgICAgaWYgKHJpZ2h0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnBhc3NSaWdodFZhbHVlVG9WaWV3KHJpZ2h0VmFsdWUpO1xuICAgICAgICB0aGlzLnZpZXcudXBkYXRlSW5wdXQodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSwgcmlnaHRWYWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLnZpZXcuaGFzUGFuZWwoKSkge1xuICAgICAgICAgIHRoaXMudmlldy51cGRhdGVQYW5lbFRvKHJpZ2h0VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1vZGVsLmlzUmFuZ2UoKSkge1xuICAgICAgdGhpcy5tb2RlbC5yZW1vdmVSaWdodFZhbHVlKCk7XG4gICAgICB0aGlzLnZpZXcudXBkYXRlSW5wdXQodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSk7XG4gICAgICBpZiAodGhpcy52aWV3Lmhhc1BhbmVsKCkpIHtcbiAgICAgICAgdGhpcy52aWV3LnVwZGF0ZVBhbmVsVG8oJycpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTW9kZWxTZXRTdGVwKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZpZXcuaGFzUGFuZWwoKSkge1xuICAgICAgdGhpcy52aWV3LnVwZGF0ZVBhbmVsU3RlcCh0aGlzLm1vZGVsLmdldFN0ZXAoKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3VG9nZ2xlU2NhbGUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnZpZXcuaGFzU2NhbGUoKSkge1xuICAgICAgdGhpcy52aWV3LmFkZFNjYWxlKHRoaXMubW9kZWwuZ2V0TWluKCksIHRoaXMubW9kZWwuZ2V0TWF4KCkpO1xuXG4gICAgICBpZiAodGhpcy52aWV3Lmhhc1BhbmVsKCkpIHtcbiAgICAgICAgdGhpcy52aWV3LnVwZGF0ZVBhbmVsU2NhbGVJbnRlcnZhbHModGhpcy52aWV3LmdldFNjYWxlSW50ZXJ2YWxzKCkgPz8gNCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWV3Lmhhc1NjYWxlKCkpIHtcbiAgICAgIHRoaXMudmlldy5yZW1vdmVTY2FsZSgpO1xuXG4gICAgICBpZiAodGhpcy52aWV3Lmhhc1BhbmVsKCkpIHtcbiAgICAgICAgdGhpcy52aWV3LnVwZGF0ZVBhbmVsU2NhbGVJbnRlcnZhbHMoJycpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld1NldFNjYWxlSW50ZXJ2YWxzKCk6IHZvaWQge1xuICAgIHRoaXMudmlldy5hZGRTY2FsZSh0aGlzLm1vZGVsLmdldE1pbigpLCB0aGlzLm1vZGVsLmdldE1heCgpKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld0FkZFZhbHVlTGFiZWxzKCk6IHZvaWQge1xuICAgIHRoaXMucGFzc0xlZnRWYWx1ZVRvVmlldyh0aGlzLm1vZGVsLmdldExlZnRWYWx1ZSgpKTtcbiAgICBpZiAodGhpcy52aWV3LmlzUmFuZ2UoKSkge1xuICAgICAgY29uc3QgcmlnaHRWYWx1ZSA9IHRoaXMubW9kZWwuZ2V0UmlnaHRWYWx1ZSgpO1xuICAgICAgaWYgKHJpZ2h0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnBhc3NSaWdodFZhbHVlVG9WaWV3KHJpZ2h0VmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld0FkZE1pbk1heExhYmVscygpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXcuc2V0TWluVmFsdWUodGhpcy5tb2RlbC5nZXRNaW4oKSk7XG4gICAgdGhpcy52aWV3LnNldE1heFZhbHVlKHRoaXMubW9kZWwuZ2V0TWF4KCkpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByZXNlbnRlcjtcbiIsImltcG9ydCBNb2RlbCBmcm9tICcuL01vZGVsL01vZGVsJztcbmltcG9ydCBWaWV3IGZyb20gJy4vVmlldy9WaWV3JztcbmltcG9ydCBQcmVzZW50ZXIgZnJvbSAnLi9QcmVzZW50ZXIvUHJlc2VudGVyJztcblxudHlwZSBTbGlkZXJPcHRpb25zID0ge1xuICBtaW46IG51bWJlcixcbiAgbWF4OiBudW1iZXIsXG4gIGxlZnRWYWx1ZTogbnVtYmVyLFxuICByaWdodFZhbHVlOiBudW1iZXIsXG4gIHJhbmdlOiBib29sZWFuLFxuICBzdGVwOiBudW1iZXIsXG4gIG1pbk1heExhYmVsczogYm9vbGVhbixcbiAgdmFsdWVMYWJlbHM6IGJvb2xlYW4sXG4gIHZlcnRpY2FsOiBib29sZWFuLFxuICBzY2FsZTogYm9vbGVhbixcbiAgc2NhbGVJbnRlcnZhbHM6IG51bWJlcixcbiAgcGFuZWw6IGJvb2xlYW4sXG59O1xuXG5jbGFzcyBTbGlkZXIge1xuICBlbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcblxuICBtb2RlbDogTW9kZWw7XG5cbiAgdmlldzogVmlldztcblxuICBwcmVzZW50ZXI6IFByZXNlbnRlcjtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRGl2RWxlbWVudCwgb3B0aW9uczogU2xpZGVyT3B0aW9ucykge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5tb2RlbCA9IG5ldyBNb2RlbCh7XG4gICAgICBtaW46IG9wdGlvbnMubWluLFxuICAgICAgbWF4OiBvcHRpb25zLm1heCxcbiAgICAgIGxlZnRWYWx1ZTogb3B0aW9ucy5sZWZ0VmFsdWUsXG4gICAgICByaWdodFZhbHVlOiBvcHRpb25zLnJpZ2h0VmFsdWUsXG4gICAgICByYW5nZTogb3B0aW9ucy5yYW5nZSxcbiAgICAgIHN0ZXA6IG9wdGlvbnMuc3RlcCxcbiAgICB9KTtcbiAgICB0aGlzLnZpZXcgPSBuZXcgVmlldyhlbGVtZW50LCB7XG4gICAgICBtaW5NYXhMYWJlbHM6IG9wdGlvbnMubWluTWF4TGFiZWxzLFxuICAgICAgdmFsdWVMYWJlbHM6IG9wdGlvbnMudmFsdWVMYWJlbHMsXG4gICAgICB2ZXJ0aWNhbDogb3B0aW9ucy52ZXJ0aWNhbCxcbiAgICAgIHJhbmdlOiBvcHRpb25zLnJhbmdlLFxuICAgICAgc2NhbGU6IG9wdGlvbnMuc2NhbGUsXG4gICAgICBzY2FsZUludGVydmFsczogb3B0aW9ucy5zY2FsZUludGVydmFscyxcbiAgICAgIHBhbmVsOiBvcHRpb25zLnBhbmVsLFxuICAgIH0pO1xuICAgIHRoaXMucHJlc2VudGVyID0gbmV3IFByZXNlbnRlcih0aGlzLm1vZGVsLCB0aGlzLnZpZXcpO1xuXG4gICAgdGhpcy5tb2RlbC5zdWJzY3JpYmUodGhpcyk7XG4gIH1cblxuICBpbmZvcm0oZXZlbnRUeXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBzd2l0Y2ggKGV2ZW50VHlwZSkge1xuICAgICAgY2FzZSAnbW9kZWxMZWZ0U2V0JzpcbiAgICAgICAgaWYgKHRoaXMub25DaGFuZ2UpIHtcbiAgICAgICAgICB0aGlzLm9uQ2hhbmdlKHRoaXMubW9kZWwuZ2V0TGVmdFZhbHVlKCksIHRoaXMubW9kZWwuZ2V0UmlnaHRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21vZGVsUmlnaHRTZXQnOlxuICAgICAgICBpZiAodGhpcy5vbkNoYW5nZSkge1xuICAgICAgICAgIHRoaXMub25DaGFuZ2UodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSwgdGhpcy5tb2RlbC5nZXRSaWdodFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBzZXRMZWZ0VmFsdWUodmFsdWU6IG51bWJlcik6IHRoaXMge1xuICAgIHRoaXMudmlldy5jaGFuZ2VMZWZ0VmFsdWVGcm9tT3V0c2lkZSh2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZXRSaWdodFZhbHVlKHZhbHVlOiBudW1iZXIpOiB0aGlzIHtcbiAgICB0aGlzLnZpZXcuY2hhbmdlUmlnaHRWYWx1ZUZyb21PdXRzaWRlKHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNldFN0ZXAodmFsdWU6IG51bWJlcik6IHRoaXMge1xuICAgIHRoaXMudmlldy5jaGFuZ2VTdGVwRnJvbU91dHNpZGUodmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgb25DaGFuZ2U/OiAobGVmdFZhbHVlOiBudW1iZXIsIHJpZ2h0VmFsdWU6IG51bWJlciB8IHVuZGVmaW5lZCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IHsgU2xpZGVyLCBTbGlkZXJPcHRpb25zIH07XG4iLCJpbXBvcnQgJ2FpcmJuYi1icm93c2VyLXNoaW1zJztcblxuaW1wb3J0IHsgU2xpZGVyLCBTbGlkZXJPcHRpb25zIH0gZnJvbSAnLi9TbGlkZXInO1xuaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBKUXVlcnkge1xuICAgIHJhbmdlU2xpZGVyOiBJUmFuZ2VTbGlkZXI7XG4gIH1cblxuICBpbnRlcmZhY2UgSVJhbmdlU2xpZGVyIHtcbiAgICAob3B0aW9ucz86IG9iamVjdCk6IEpRdWVyeTxIVE1MRWxlbWVudD47XG4gIH1cbn1cblxuKGZ1bmN0aW9uIHJhbmdlU2xpZGVyV3JhcHBlcihqUSkge1xuICBjb25zdCAkID0galE7XG5cbiAgY29uc3QgZGVmYXVsdHM6IFJlYWRvbmx5PFNsaWRlck9wdGlvbnM+ID0ge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IDEwMCxcbiAgICByYW5nZTogdHJ1ZSxcbiAgICBsZWZ0VmFsdWU6IDI1LFxuICAgIHJpZ2h0VmFsdWU6IDc1LFxuICAgIHN0ZXA6IDEsXG4gICAgbWluTWF4TGFiZWxzOiB0cnVlLFxuICAgIHZhbHVlTGFiZWxzOiB0cnVlLFxuICAgIHZlcnRpY2FsOiBmYWxzZSxcbiAgICBzY2FsZTogZmFsc2UsXG4gICAgc2NhbGVJbnRlcnZhbHM6IDUsXG4gICAgcGFuZWw6IGZhbHNlLFxuICB9O1xuXG4gICQuZm4ucmFuZ2VTbGlkZXIgPSBmdW5jdGlvbiBpbml0U2xpZGVycyhvcHRpb25zOiBQYXJ0aWFsPFNsaWRlck9wdGlvbnM+ID0ge30pOiBKUXVlcnkge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gaW5pdFNsaWRlcigpIHtcbiAgICAgIGNvbnN0IHNldHRpbmdzRnJvbURhdGFzZXQ6IFBhcnRpYWw8U2xpZGVyT3B0aW9ucz4gPSB7XG4gICAgICAgIG1pbjogJCh0aGlzKS5kYXRhKCdtaW4nKSxcbiAgICAgICAgbWF4OiAkKHRoaXMpLmRhdGEoJ21heCcpLFxuICAgICAgICByYW5nZTogJCh0aGlzKS5kYXRhKCdyYW5nZScpLFxuICAgICAgICBsZWZ0VmFsdWU6ICQodGhpcykuZGF0YSgnbGVmdFZhbHVlJyksXG4gICAgICAgIHJpZ2h0VmFsdWU6ICQodGhpcykuZGF0YSgncmlnaHRWYWx1ZScpLFxuICAgICAgICBzdGVwOiAkKHRoaXMpLmRhdGEoJ3N0ZXAnKSxcbiAgICAgICAgbWluTWF4TGFiZWxzOiAkKHRoaXMpLmRhdGEoJ21pbk1heExhYmVscycpLFxuICAgICAgICB2YWx1ZUxhYmVsczogJCh0aGlzKS5kYXRhKCd2YWx1ZUxhYmVscycpLFxuICAgICAgICB2ZXJ0aWNhbDogJCh0aGlzKS5kYXRhKCd2ZXJ0aWNhbCcpLFxuICAgICAgICBzY2FsZTogJCh0aGlzKS5kYXRhKCdzY2FsZScpLFxuICAgICAgICBzY2FsZUludGVydmFsczogJCh0aGlzKS5kYXRhKCdzY2FsZUludGVydmFscycpLFxuICAgICAgICBwYW5lbDogJCh0aGlzKS5kYXRhKCdwYW5lbCcpLFxuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gdmFsaWRhdGUoc2V0dGluZ3M6IFNsaWRlck9wdGlvbnMpOiBTbGlkZXJPcHRpb25zIHtcbiAgICAgICAgbGV0IGZpeGVkU2V0dGluZ3M6IFNsaWRlck9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgc2V0dGluZ3MpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZVdyb25nVHlwZXMoKTogdm9pZCB7XG4gICAgICAgICAgZnVuY3Rpb24gY2hlY2tUeXBlKHByb3BlcnR5OiBrZXlvZiBTbGlkZXJPcHRpb25zKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzW3Byb3BlcnR5XSAhPT0gdHlwZW9mIGRlZmF1bHRzW3Byb3BlcnR5XSkge1xuICAgICAgICAgICAgICBkZWxldGUgZml4ZWRTZXR0aW5nc1twcm9wZXJ0eV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLyogVGhlcmUgaXMgbm8gT2JqZWN0LmtleXMoKS5mb3JFYWNoIGJlY2F1c2UgVFMgdGhyb3dzIGFuIGVycm9yOlxuICAgICAgICAgICAqIFwiVHlwZSAnc3RyaW5nW10nIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ2tleW9mIFJhbmdlU2xpZGVyT3B0aW9uc1tdJ1wiICovXG4gICAgICAgICAgY2hlY2tUeXBlKCdtaW4nKTtcbiAgICAgICAgICBjaGVja1R5cGUoJ21heCcpO1xuICAgICAgICAgIGNoZWNrVHlwZSgnbGVmdFZhbHVlJyk7XG4gICAgICAgICAgY2hlY2tUeXBlKCdyaWdodFZhbHVlJyk7XG4gICAgICAgICAgY2hlY2tUeXBlKCdyYW5nZScpO1xuICAgICAgICAgIGNoZWNrVHlwZSgnc3RlcCcpO1xuICAgICAgICAgIGNoZWNrVHlwZSgnbWluTWF4TGFiZWxzJyk7XG4gICAgICAgICAgY2hlY2tUeXBlKCd2YWx1ZUxhYmVscycpO1xuICAgICAgICAgIGNoZWNrVHlwZSgndmVydGljYWwnKTtcbiAgICAgICAgICBjaGVja1R5cGUoJ3NjYWxlJyk7XG4gICAgICAgICAgY2hlY2tUeXBlKCdzY2FsZUludGVydmFscycpO1xuICAgICAgICAgIGNoZWNrVHlwZSgncGFuZWwnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG1lcmdlV2l0aERlZmF1bHRzKCk6IHZvaWQge1xuICAgICAgICAgIGZpeGVkU2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIGZpeGVkU2V0dGluZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZml4VmFsdWVzKCk6IHZvaWQge1xuICAgICAgICAgIGlmIChmaXhlZFNldHRpbmdzLm1pbiA+IGZpeGVkU2V0dGluZ3MubWF4KSB7XG4gICAgICAgICAgICBbZml4ZWRTZXR0aW5ncy5taW4sIGZpeGVkU2V0dGluZ3MubWF4XSA9IFtmaXhlZFNldHRpbmdzLm1heCwgZml4ZWRTZXR0aW5ncy5taW5dO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChmaXhlZFNldHRpbmdzLmxlZnRWYWx1ZSA8IGZpeGVkU2V0dGluZ3MubWluKSB7XG4gICAgICAgICAgICBmaXhlZFNldHRpbmdzLmxlZnRWYWx1ZSA9IGZpeGVkU2V0dGluZ3MubWluO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChmaXhlZFNldHRpbmdzLnJpZ2h0VmFsdWUgPiBmaXhlZFNldHRpbmdzLm1heCkge1xuICAgICAgICAgICAgZml4ZWRTZXR0aW5ncy5yaWdodFZhbHVlID0gZml4ZWRTZXR0aW5ncy5tYXg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGZpeGVkU2V0dGluZ3MubGVmdFZhbHVlID4gZml4ZWRTZXR0aW5ncy5tYXgpIHtcbiAgICAgICAgICAgIGZpeGVkU2V0dGluZ3MubGVmdFZhbHVlID0gZml4ZWRTZXR0aW5ncy5tYXg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGZpeGVkU2V0dGluZ3MubGVmdFZhbHVlID4gZml4ZWRTZXR0aW5ncy5yaWdodFZhbHVlKSB7XG4gICAgICAgICAgICBbZml4ZWRTZXR0aW5ncy5sZWZ0VmFsdWUsIGZpeGVkU2V0dGluZ3MucmlnaHRWYWx1ZV0gPSAoXG4gICAgICAgICAgICAgIFtmaXhlZFNldHRpbmdzLnJpZ2h0VmFsdWUsIGZpeGVkU2V0dGluZ3MubGVmdFZhbHVlXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZml4ZWRTZXR0aW5ncy5zdGVwID4gTWF0aC5hYnMoZml4ZWRTZXR0aW5ncy5tYXggLSBmaXhlZFNldHRpbmdzLm1pbikpIHtcbiAgICAgICAgICAgIGZpeGVkU2V0dGluZ3Muc3RlcCA9IE1hdGguYWJzKGZpeGVkU2V0dGluZ3MubWF4IC0gZml4ZWRTZXR0aW5ncy5taW4pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChmaXhlZFNldHRpbmdzLnNjYWxlSW50ZXJ2YWxzIDwgMSkge1xuICAgICAgICAgICAgZml4ZWRTZXR0aW5ncy5zY2FsZUludGVydmFscyA9IDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKE51bWJlci5pc0ludGVnZXIoZml4ZWRTZXR0aW5ncy5zY2FsZUludGVydmFscykpIHtcbiAgICAgICAgICAgIGZpeGVkU2V0dGluZ3Muc2NhbGVJbnRlcnZhbHMgPSBNYXRoLmZsb29yKGZpeGVkU2V0dGluZ3Muc2NhbGVJbnRlcnZhbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlbW92ZVdyb25nVHlwZXMoKTtcbiAgICAgICAgbWVyZ2VXaXRoRGVmYXVsdHMoKTtcbiAgICAgICAgZml4VmFsdWVzKCk7XG5cbiAgICAgICAgcmV0dXJuIGZpeGVkU2V0dGluZ3M7XG4gICAgICB9XG5cbiAgICAgIGxldCBzZXR0aW5nczogU2xpZGVyT3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucywgc2V0dGluZ3NGcm9tRGF0YXNldCk7XG4gICAgICBzZXR0aW5ncyA9IHZhbGlkYXRlKHNldHRpbmdzKTtcblxuICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBIVE1MRGl2RWxlbWVudCkge1xuICAgICAgICAkKHRoaXMpLmRhdGEoJ3JhbmdlU2xpZGVyJywgbmV3IFNsaWRlcih0aGlzLCBzZXR0aW5ncykpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufShqUXVlcnkpKTtcbiJdLCJuYW1lcyI6WyJFdmVudE1hbmFnZXIiLCJsaXN0ZW5lcnMiLCJzdWJzY3JpYmUiLCJsaXN0ZW5lciIsInRoaXMiLCJwdXNoIiwidW5zdWJzY3JpYmUiLCJmaWx0ZXIiLCJpdGVtIiwibm90aWZ5IiwiZXZlbnRUeXBlIiwiZGF0YSIsImxlbmd0aCIsImZvckVhY2giLCJpbmZvcm0iLCJjb25zdHJ1Y3RvciIsInRhZyIsImNsYXNzTmFtZSIsImNvbXBvbmVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImVsZW1lbnQiLCJnZXRDb21wb25lbnQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnZXRXaWR0aCIsIm9mZnNldFdpZHRoIiwiZ2V0SGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0Iiwic2V0SW5kZW50Iiwic2lkZSIsImluZGVudCIsInN0eWxlIiwicmVtb3ZlIiwidmlldyIsInN1cGVyIiwiYXR0YWNoRXZlbnRIYW5kbGVycyIsImFwcGVuZCIsImVsZW1lbnRzIiwiaGFuZGxlQ2xpY2siLCJldmVudCIsImN1cnJlbnRUYXJnZXQiLCJIVE1MRWxlbWVudCIsIngiLCJjbGllbnRYIiwibGVmdCIsInkiLCJjbGllbnRZIiwidG9wIiwiaGFuZGxlU2NhbGVPclRyYWNrQ2xpY2siLCJhZGRFdmVudExpc3RlbmVyIiwiYmluZCIsInNldFdpZHRoIiwicGVyY2VudCIsIndpZHRoIiwic2V0SGVpZ2h0IiwiaGVpZ2h0IiwicmVzZXRXaWR0aCIsInJlc2V0SGVpZ2h0IiwicmVzZXRUb3BJbmRlbnQiLCJUaHVtYiIsInR5cGUiLCJnZXRMZWZ0SW5kZW50IiwiZ2V0VG9wSW5kZW50Iiwic2V0WkluZGV4IiwidmFsdWUiLCJ6SW5kZXgiLCJjbGFzc0xpc3QiLCJhZGQiLCJoYW5kbGVQb2ludGVyRG93biIsInNldFBvaW50ZXJDYXB0dXJlIiwicG9pbnRlcklkIiwicHJldmVudERlZmF1bHQiLCJzaGlmdFgiLCJzaGlmdFkiLCJoYW5kbGVQb2ludGVyTW92ZSIsIm5ld0V2ZW50IiwiaGFuZGxlTGVmdElucHV0IiwiaGFuZGxlUmlnaHRJbnB1dCIsImhhbmRsZVBvaW50ZXJVcCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVQb2ludGVyT3ZlciIsImhhbmRsZVBvaW50ZXJPdXQiLCJoYW5kbGVEcmFnU3RhcnQiLCJtaW4iLCJtYXgiLCJpbnRlcnZhbHMiLCJ2YWx1ZXMiLCJ2YWx1ZUVsZW1lbnRzIiwiaW50ZXJ2YWxzTnVtYmVyIiwiZ2V0U2NhbGVJbnRlcnZhbHMiLCJjcmVhdGVJbnRlcnZhbHMiLCJhZGRNYXJrc0luSW50ZXJ2YWxzIiwiYWRkVmFsdWVzIiwiZml0V2lkdGhGb3JWZXJ0aWNhbCIsIm1heFdpZHRoIiwidmFsdWVFbGVtZW50IiwicGFkZGluZ1JpZ2h0IiwiZml0SGVpZ2h0Rm9ySG9yaXpvbnRhbCIsIm1heEhlaWdodCIsInBhZGRpbmdCb3R0b20iLCJoYW5kbGVTd2l0Y2hGcm9tSG9yaXpvbnRhbFRvVmVydGljYWwiLCJoYW5kbGVTd2l0Y2hGcm9tVmVydGljYWxUb0hvcml6b250YWwiLCJmcmFnbWVudCIsIkRvY3VtZW50RnJhZ21lbnQiLCJpIiwic3RlcCIsIm51bWJlck9mRGlnaXRzQWZ0ZXJQb2ludCIsIk1hdGgiLCJyb3VuZCIsInRvU3RyaW5nIiwiTnVtYmVyIiwidG9GaXhlZCIsInRleHRDb250ZW50IiwibmV3VmFsdWVFbGVtZW50IiwiZml4V2lkdGhGb3JWZXJ0aWNhbCIsImxhYmVscyIsImxhYmVsIiwicGFkZGluZ0xlZnQiLCJmaXhIZWlnaHRGb3JIb3Jpem9udGFsIiwicGFkZGluZ1RvcCIsInNldE9wYWNpdHkiLCJvcGFjaXR5Iiwic2V0VmFsdWUiLCJnZXRWYWx1ZSIsInNldEF0dHJpYnV0ZXMiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJ0YWJJbmRleCIsInJlYWRPbmx5IiwiUGFuZWwiLCJmcm9tIiwidG8iLCJ2ZXJ0aWNhbCIsInJhbmdlIiwic2NhbGUiLCJzY2FsZUludGVydmFscyIsInZhbHVlTGFiZWxzIiwibWluTWF4TGFiZWxzIiwicmVuZGVyIiwic2V0VmFsdWVzIiwib3B0aW9ucyIsImNoZWNrZWQiLCJzZXRDaGVja01hcmtzIiwidXBkYXRlRnJvbSIsInVwZGF0ZUF0dHJpYnV0ZXNBZnRlckZyb21DaGFuZ2UiLCJ1cGRhdGVUbyIsInVwZGF0ZUF0dHJpYnV0ZXNBZnRlclRvQ2hhbmdlIiwidXBkYXRlU3RlcCIsInVwZGF0ZUF0dHJpYnV0ZXNBZnRlclN0ZXBDaGFuZ2UiLCJ1cGRhdGVNaW4iLCJ1cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJNaW5DaGFuZ2UiLCJ1cGRhdGVNYXgiLCJ1cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJNYXhDaGFuZ2UiLCJ1cGRhdGVTY2FsZUludGVydmFscyIsImlucHV0IiwibmFtZSIsImlzSW50ZWdlciIsInJlc3VsdCIsInNwbGl0IiwiY2xvc2VzdCIsInRvZ2dsZSIsInNldFR5cGVzIiwiYWRkTGFiZWwiLCJjYWxjU3RlcE1pbiIsImFicyIsImRpc2FibGVkIiwiY2hlY2tib3giLCJ0b2dnbGVDaGVja2JveCIsImlzUmFuZ2UiLCJoYW5kbGVNaW5DaGFuZ2UiLCJjaGFuZ2VNaW5Gcm9tT3V0c2lkZSIsImhhbmRsZU1heENoYW5nZSIsImNoYW5nZU1heEZyb21PdXRzaWRlIiwiaGFuZGxlU3RlcENoYW5nZSIsImNoYW5nZVN0ZXBGcm9tT3V0c2lkZSIsImhhbmRsZUZyb21DaGFuZ2UiLCJjaGFuZ2VMZWZ0VmFsdWVGcm9tT3V0c2lkZSIsImhhbmRsZVRvQ2hhbmdlIiwiY2hhbmdlUmlnaHRWYWx1ZUZyb21PdXRzaWRlIiwiaGFuZGxlVmVydGljYWxDaGFuZ2UiLCJjaGFuZ2VPcmllbnRhdGlvbkZyb21PdXRzaWRlIiwiaGFuZGxlUmFuZ2VDaGFuZ2UiLCJ0b2dnbGVSYW5nZUZyb21PdXRzaWRlIiwiaGFuZGxlU2NhbGVDaGFuZ2UiLCJ0b2dnbGVTY2FsZUZyb21PdXRzaWRlIiwiaGFuZGxlU2NhbGVJbnRlcnZhbHNDaGFuZ2UiLCJmbG9vciIsImNoYW5nZVNjYWxlSW50ZXJ2YWxzIiwiaGFuZGxlVmFsdWVMYWJlbHNDaGFuZ2UiLCJ0b2dnbGVWYWx1ZUxhYmVscyIsImhhbmRsZU1pbk1heExhYmVsc0NoYW5nZSIsInRvZ2dsZU1pbk1heExhYmVscyIsImV2ZW50TWFuYWdlciIsInNsaWRlciIsInRyYWNrIiwidGh1bWJMZWZ0IiwidGh1bWJSaWdodCIsImxhYmVsc0NvbnRhaW5lciIsIm1pbkxhYmVsIiwibWF4TGFiZWwiLCJ2YWx1ZUxhYmVsTGVmdCIsInZhbHVlTGFiZWxSaWdodCIsInZhbHVlTGFiZWxDb21tb24iLCJwYW5lbCIsInNldE1pblZhbHVlIiwic2V0TWF4VmFsdWUiLCJzZXRMZWZ0VmFsdWUiLCJpc1R3b1ZhbHVlTGFiZWxzQ2xvc2UiLCJtZXJnZUxhYmVscyIsInNwbGl0TGFiZWxzIiwiaXNMZWZ0VmFsdWVMYWJlbENsb3NlVG9NaW5MYWJlbCIsImlzTGVmdFZhbHVlTGFiZWxDbG9zZVRvTWF4TGFiZWwiLCJzZXRSaWdodFZhbHVlIiwiaXNSaWdodFZhbHVlTGFiZWxDbG9zZVRvTWF4TGFiZWwiLCJ1cGRhdGVJbnB1dCIsInRyYWNrU2hpZnQiLCJuZXdMZWZ0IiwidHJhY2tXaWR0aCIsImdldFRyYWNrV2lkdGgiLCJyaWdodFRodW1iUG9zaXRpb24iLCJuZXdUb3AiLCJ0cmFja0hlaWdodCIsImdldFRyYWNrSGVpZ2h0IiwibmV3Qm90dG9tIiwibGVmdFRodW1iUG9zaXRpb24iLCJhZGRTY2FsZSIsImFmdGVyIiwicmVtb3ZlU2NhbGUiLCJ1bmRlZmluZWQiLCJnZXRTY2FsZSIsImFkZFNtb290aFRyYW5zaXRpb24iLCJzZXRUaW1lb3V0IiwicmVtb3ZlU21vb3RoVHJhbnNpdGlvbiIsIndoaWNoVGh1bWJJc05lYXJlciIsImZpeExhYmVsc0NvbnRhaW5lcldpZHRoRm9yVmVydGljYWwiLCJjb2xsZWN0TGFiZWxzIiwiZml4TGFiZWxzQ29udGFpbmVySGVpZ2h0Rm9ySG9yaXpvbnRhbCIsInNldFBhbmVsVmFsdWVzIiwidXBkYXRlUGFuZWxGcm9tIiwidXBkYXRlUGFuZWxUbyIsInVwZGF0ZVBhbmVsU2NhbGVJbnRlcnZhbHMiLCJ1cGRhdGVQYW5lbFN0ZXAiLCJ1cGRhdGVQYW5lbE1pbiIsInVwZGF0ZVBhbmVsTWF4IiwiZGVzdHJveSIsImJlZm9yZSIsImhhc0xhYmVscyIsImhhc1NjYWxlIiwiaGFzTWluTWF4TGFiZWxzIiwiaGFzVmFsdWVMYWJlbHMiLCJoYXNQYW5lbCIsImlzVmVydGljYWwiLCJwYW5lbFdyYXBwZXIiLCJjaGlsZHJlbiIsImRpc3RhbmNlQmV0d2VlblRodW1icyIsInBhcnNlSW50IiwiaXNUd29MYWJlbHNDbG9zZSIsImxhYmVsMSIsImxhYmVsMiIsImJvdHRvbSIsImxlZnRMYWJlbEVkZ2UiLCJyaWdodCIsImxlZnRUaHVtYkNvb3JkcyIsInJpZ2h0VGh1bWJDb29yZHMiLCJ0cmFja0Nvb3JkcyIsImRpc3RhbmNlRnJvbUxlZnRUaHVtYkNlbnRlciIsImRpc3RhbmNlRnJvbVJpZ2h0VGh1bWJDZW50ZXIiLCJsZWZ0VGh1bWJDZW50ZXIiLCJyaWdodFRodW1iQ2VudGVyIiwiUHJlc2VudGVyIiwibW9kZWwiLCJpbml0Vmlld1ZhbHVlcyIsImhhbmRsZVZpZXdJbnB1dExlZnQiLCJoYW5kbGVWaWV3SW5wdXRSaWdodCIsImhhbmRsZVZpZXdTZXRMZWZ0RnJvbU91dHNpZGUiLCJoYW5kbGVWaWV3U2V0UmlnaHRGcm9tT3V0c2lkZSIsImhhbmRsZVZpZXdTZXRNaW4iLCJoYW5kbGVWaWV3U2V0TWF4IiwiaGFuZGxlVmlld1NldFN0ZXAiLCJoYW5kbGVWaWV3VG9nZ2xlT3JpZW50YXRpb24iLCJoYW5kbGVWaWV3VG9nZ2xlUmFuZ2UiLCJoYW5kbGVWaWV3VG9nZ2xlU2NhbGUiLCJoYW5kbGVWaWV3U2V0U2NhbGVJbnRlcnZhbHMiLCJoYW5kbGVWaWV3QWRkVmFsdWVMYWJlbHMiLCJoYW5kbGVWaWV3QWRkTWluTWF4TGFiZWxzIiwiaGFuZGxlTW9kZWxTZXRMZWZ0IiwiaGFuZGxlTW9kZWxTZXRSaWdodCIsImhhbmRsZU1vZGVsU2V0TWluIiwiaGFuZGxlTW9kZWxTZXRNYXgiLCJoYW5kbGVNb2RlbFRvZ2dsZVJhbmdlIiwiaGFuZGxlTW9kZWxTZXRTdGVwIiwiZ2V0TWluIiwiZ2V0TWF4IiwibGVmdFZhbHVlIiwiZ2V0TGVmdFZhbHVlIiwicmlnaHRWYWx1ZSIsImdldFJpZ2h0VmFsdWUiLCJwYXNzTGVmdFZhbHVlVG9WaWV3IiwicGFzc1JpZ2h0VmFsdWVUb1ZpZXciLCJnZXRTdGVwIiwicHgiLCJjb252ZXJ0UHhUb1ZhbHVlIiwidXBkYXRlVmlld0lucHV0IiwiY29udmVydFZhbHVlVG9QZXJjZW50IiwicmVtb3ZlQ2FsY0luYWNjdXJhY3kiLCJmaXRUb1N0ZXAiLCJzZXRNaW4iLCJzZXRNYXgiLCJzZXRTdGVwIiwidG9nZ2xlUmFuZ2UiLCJyZW1vdmVSaWdodFZhbHVlIiwiU2xpZGVyIiwicHJlc2VudGVyIiwib25DaGFuZ2UiLCJqUSIsIiQiLCJkZWZhdWx0cyIsImZuIiwicmFuZ2VTbGlkZXIiLCJlYWNoIiwic2V0dGluZ3NGcm9tRGF0YXNldCIsInNldHRpbmdzIiwiZXh0ZW5kIiwiZml4ZWRTZXR0aW5ncyIsImNoZWNrVHlwZSIsInByb3BlcnR5IiwicmVtb3ZlV3JvbmdUeXBlcyIsInZhbGlkYXRlIiwiSFRNTERpdkVsZW1lbnQiXSwic291cmNlUm9vdCI6IiJ9