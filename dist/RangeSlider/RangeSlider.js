(self.webpackChunk=self.webpackChunk||[]).push([[906],{71376:(e,t,i)=>{"use strict";i(83875);class a{constructor(){this.listeners=[]}subscribe(e){this.listeners.push(e)}unsubscribe(e){this.listeners=this.listeners.filter((t=>t!==e))}notify(e,t=null){0!==this.listeners.length&&this.listeners.forEach((i=>i.inform(e,t)))}}const s=class{constructor(e,t){this.component=document.createElement(e),t&&(this.component.className=t)}static createComponent(e,t){const i=document.createElement(e);return t&&(i.className=t),i}getComponent(){return this.component}getBoundingClientRect(){return this.component.getBoundingClientRect()}getWidth(){return this.component.offsetWidth}getHeight(){return this.component.offsetHeight}setIndent(e,t){"number"==typeof t&&(this.component.style[e]=`${t}%`),"string"==typeof t&&(this.component.style[e]=t)}remove(){this.component.remove()}},n=class extends s{constructor(e){super("div","range-slider__track"),this.view=e,this.attachEventHandlers()}append(...e){this.component.append(...e)}handleClick(e){if(e.currentTarget instanceof HTMLElement){const t=e.clientX-e.currentTarget.getBoundingClientRect().left,i=e.clientY-e.currentTarget.getBoundingClientRect().top;this.view.handleScaleOrTrackClick(t,i)}}attachEventHandlers(){this.component.addEventListener("click",this.handleClick.bind(this))}},l=class extends s{constructor(){super("div","range-slider__range")}setWidth(e){this.component.style.width=`${e}%`}setHeight(e){this.component.style.height=`${e}%`}resetWidth(){this.component.style.width="unset"}resetHeight(){this.component.style.height="unset"}resetTopIndent(){this.component.style.top="unset"}};class h extends s{constructor(e,t="left"){super("div",`range-slider__thumb range-slider__thumb_${t}`),this.type=t,this.view=e,this.attachEventHandlers()}getLeftIndent(){return this.component.style.left}getTopIndent(){return this.component.style.top}setZIndex(e){this.component.style.zIndex=`${e}`}static handlePointerOver(e){e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.add("range-slider__thumb_hover")}static handlePointerOut(e){e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.remove("range-slider__thumb_hover")}static handlePointerUp(e){e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.remove("range-slider__thumb_active")}static handleDragStart(){return!1}handlePointerDown(e){if(e.currentTarget instanceof HTMLElement){e.currentTarget.classList.add("range-slider__thumb_active"),e.currentTarget.setPointerCapture(e.pointerId),e.preventDefault();const t=e.clientX-e.currentTarget.getBoundingClientRect().left,i=e.clientY-e.currentTarget.getBoundingClientRect().top,a=e=>{"left"===this.type&&this.view.handleLeftInput(e.clientX,e.clientY,t,i),"right"===this.type&&this.view.handleRightInput(e.clientX,e.clientY,t,i)},s=()=>{this.component.removeEventListener("pointermove",a),this.component.removeEventListener("pointerup",s)};this.component.addEventListener("pointermove",a),this.component.addEventListener("pointerup",s)}}attachEventHandlers(){this.component.addEventListener("pointerover",h.handlePointerOver),this.component.addEventListener("pointerout",h.handlePointerOut),this.component.addEventListener("pointerdown",this.handlePointerDown.bind(this)),this.component.addEventListener("pointerup",h.handlePointerUp),this.component.addEventListener("dragstart",h.handleDragStart)}}const r=h,o=class extends s{constructor(e,t,i){super("div","range-slider__scale"),this.view=i,this.intervals=[],this.values=[],this.valueElements=[];const a=i.getScaleIntervals();this.createIntervals(a),this.addMarksInIntervals(a),this.addValues(e,t,a),this.attachEventHandlers()}fitWidthForVertical(){let e=0;this.valueElements.forEach((t=>{t.offsetWidth>e&&(e=t.offsetWidth)})),this.component.style.paddingRight=`${e+3}px`}fitHeightForHorizontal(){let e=0;this.valueElements.forEach((t=>{t.offsetHeight>e&&(e=t.offsetHeight)})),this.component.style.paddingBottom=`${e+3}px`}handleSwitchFromHorizontalToVertical(){this.component.style.paddingBottom="unset",this.fitWidthForVertical()}handleSwitchFromVerticalToHorizontal(){this.component.style.paddingRight="unset",this.fitHeightForHorizontal()}createIntervals(e){for(let t=0;t<e;t+=1)this.intervals[t]=s.createComponent("div","range-slider__scale-interval"),this.component.append(this.intervals[t])}addMarksInIntervals(e){this.intervals.forEach((t=>{const i=new DocumentFragment;e<29&&i.append(s.createComponent("span","range-slider__scale-mark")),e<15&&i.append(s.createComponent("span","range-slider__scale-mark")),e<8&&i.append(s.createComponent("span","range-slider__scale-mark")),e<5&&i.append(s.createComponent("span","range-slider__scale-mark")),t.append(i)}))}addValues(e,t,i){this.values[0]=e;const a=Math.round((t-e)/i);for(let t=1;t<i;t+=1)this.values[t]=t*a+e;this.values.push(t);const n=s.createComponent("span","range-slider__scale-interval-value range-slider__scale-interval-value_min");n.textContent=`${this.values[0]}`,this.intervals[0].append(n),this.valueElements.push(n);for(let e=1;e<this.values.length;e+=1){const t=s.createComponent("span","range-slider__scale-interval-value");t.textContent=`${this.values[e]}`,this.intervals[e-1].append(t),this.valueElements.push(t)}}handleClick(e){if(e.currentTarget instanceof HTMLElement){const t=e.clientX-e.currentTarget.getBoundingClientRect().left,i=e.clientY-e.currentTarget.getBoundingClientRect().top;this.view.handleScaleOrTrackClick(t,i)}}attachEventHandlers(){this.component.addEventListener("click",this.handleClick.bind(this))}},u=class extends s{constructor(){super("div","range-slider__labels-container")}append(...e){this.component.append(...e)}fixWidthForVertical(e,t=4){let i=0;e.forEach((e=>{e.offsetWidth>i&&(i=e.offsetWidth)})),this.component.style.paddingLeft=`${i+t}px`}fixHeightForHorizontal(e,t=4){let i=0;e.forEach((e=>{e.offsetHeight>i&&(i=e.offsetHeight)})),this.component.style.paddingTop=`${i+t}px`}},d=class extends s{constructor(e){super("div",e)}setOpacity(e){this.component.style.opacity=`${e}`}setValue(e){this.component.textContent=`${e}`}getValue(){return Number(this.component.textContent)}getLeftIndent(){return this.component.style.left}getTopIndent(){return this.component.style.top}},c=class extends s{constructor(){super("input","range-slider__input"),this.setAttributes()}setValue(e,t=null){this.component.value=null===t?`${e}`:`${e} - ${t}`}setAttributes(){this.component.type="text",this.component.tabIndex=-1,this.component.readOnly=!0}};class m extends s{constructor(e){super("form","panel"),this.view=e,this.min=s.createComponent("input","panel__min panel__input"),this.max=s.createComponent("input","panel__max panel__input"),this.step=s.createComponent("input","panel__step panel__input"),this.from=s.createComponent("input","panel__from panel__input"),this.to=s.createComponent("input","panel__to panel__input"),this.vertical=s.createComponent("input","panel__vertical panel__checkbox"),this.range=s.createComponent("input","panel__range panel__checkbox"),this.scale=s.createComponent("input","panel__scale panel__checkbox"),this.scaleIntervals=s.createComponent("input","panel__scale-intervals panel__input"),this.valueLabels=s.createComponent("input","panel__value-labels panel__checkbox"),this.minMaxLabels=s.createComponent("input","panel__min-max-labels panel__checkbox"),this.render(),this.attachEventHandlers()}setValues(e){this.min.value=`${e.min}`,this.max.value=`${e.max}`,this.step.value=`${e.step}`,this.from.value=`${e.from}`,this.to.value=null!==e.to?`${e.to}`:"",this.vertical.checked=e.vertical,this.range.checked=e.range,this.scale.checked=e.scale,this.scaleIntervals.value=`${e.scaleIntervals}`,this.valueLabels.checked=e.valueLabels,this.minMaxLabels.checked=e.minMaxLabels,this.setCheckMarks(),this.setAttributes(e)}updateFrom(e){this.from.value=`${e}`,this.updateAttributesAfterFromChange()}updateTo(e){this.to.value=`${e}`,this.updateAttributesAfterToChange()}updateStep(e){this.step.value=`${e}`,this.updateAttributesAfterStepChange()}updateMin(e){this.min.value=`${e}`,this.updateAttributesAfterMinChange()}updateMax(e){this.max.value=`${e}`,this.updateAttributesAfterMaxChange()}updateScaleIntervals(e){this.scaleIntervals.value=`${e}`}static addLabel(e,t,i){const a=s.createComponent("label","panel__label");return a.textContent=t,i&&a.classList.add(i),a.append(e),a}static calcStepMin(e){if(Number.isInteger(e))return 1;let t="1";for(let i=e.toString().split(".")[1].length;i>1;i-=1)t=`0${t}`;return t=`0.${t}`,Number(t)}static toggleCheckbox(e){const t=e.closest("label");null==t||t.classList.toggle("panel__label_for-checkbox_checked")}render(){this.setTypes(),this.component.append(m.addLabel(this.range,"Range:","panel__label_for-checkbox"),m.addLabel(this.vertical,"Vertical:","panel__label_for-checkbox"),m.addLabel(this.valueLabels,"Value labels:","panel__label_for-checkbox"),m.addLabel(this.minMaxLabels,"Min&max labels:","panel__label_for-checkbox"),m.addLabel(this.scale,"Scale:","panel__label_for-checkbox"),m.addLabel(this.scaleIntervals,"Scale intervals:"),m.addLabel(this.min,"Min:"),m.addLabel(this.max,"Max:"),m.addLabel(this.from,"From:"),m.addLabel(this.to,"To:"),m.addLabel(this.step,"Step:"))}setTypes(){this.min.type="number",this.max.type="number",this.step.type="number",this.from.type="number",this.to.type="number",this.vertical.type="checkbox",this.range.type="checkbox",this.scale.type="checkbox",this.scaleIntervals.type="number",this.valueLabels.type="checkbox",this.minMaxLabels.type="checkbox"}setAttributes(e){this.from.min=`${e.min}`,this.from.max=e.range?`${e.to}`:`${e.max}`,this.to.min=`${e.from}`,this.to.max=`${e.max}`,this.from.step=`${e.step}`,this.to.step=`${e.step}`,this.min.step=`${e.step}`,this.max.step=`${e.step}`,this.min.max=`${e.from}`,this.max.min=e.range?`${e.to}`:`${e.from}`,this.step.min=`${m.calcStepMin(e.step)}`,this.step.step=this.step.min,this.step.max=`${Math.abs(e.max-e.min)}`,e.range||(this.to.disabled=!0),this.scaleIntervals.min="1",e.scale||(this.scaleIntervals.disabled=!0)}setCheckMarks(){[this.vertical,this.range,this.scale,this.valueLabels,this.minMaxLabels].forEach((e=>{e.checked&&m.toggleCheckbox(e)}))}updateAttributesAfterFromChange(){this.min.max=this.from.value,this.view.isRange()&&(this.to.min=this.from.value),this.view.isRange()||(this.max.min=this.from.value)}updateAttributesAfterToChange(){this.from.max=this.to.value,this.max.min=this.to.value}updateAttributesAfterStepChange(){this.step.min=`${m.calcStepMin(Number(this.step.value))}`,this.step.step=`${m.calcStepMin(Number(this.step.value))}`,this.from.step=this.step.value,this.to.step=this.step.value,this.min.step=this.step.value,this.max.step=this.step.value}updateAttributesAfterMinChange(){this.from.min=this.min.value}updateAttributesAfterMaxChange(){this.view.isRange()||(this.from.max=this.max.value),this.view.isRange()&&(this.to.max=this.max.value)}handleMinChange(){Number(this.min.value)>Number(this.from.value)&&(this.min.value=this.from.value),this.view.changeMinFromOutside(Number(this.min.value)),this.step.max=`${Math.abs(Number(this.max.value)-Number(this.min.value))}`,this.updateAttributesAfterMinChange()}handleMaxChange(){this.view.isRange()||Number(this.max.value)<Number(this.from.value)&&(this.max.value=this.from.value),this.view.isRange()&&Number(this.max.value)<Number(this.to.value)&&(this.max.value=this.to.value),this.view.changeMaxFromOutside(Number(this.max.value)),this.step.max=`${Math.abs(Number(this.max.value)-Number(this.min.value))}`,this.updateAttributesAfterMaxChange()}handleStepChange(){Number(this.step.value)>Number(this.step.max)&&(this.step.value=this.step.max),Number(this.step.value)<=0&&(this.step.value=this.step.min),this.view.changeStepFromOutside(Number(this.step.value)),this.updateAttributesAfterStepChange()}handleFromChange(){Number(this.from.value)>Number(this.from.max)&&(this.from.value=this.from.max),Number(this.from.value)<Number(this.from.min)&&(this.from.value=this.from.min),this.view.changeLeftValueFromOutside(Number(this.from.value)),this.updateAttributesAfterFromChange()}handleToChange(){Number(this.to.value)>Number(this.to.max)&&(this.to.value=this.to.max),Number(this.to.value)<Number(this.to.min)&&(this.to.value=this.to.min),this.view.changeRightValueFromOutside(Number(this.to.value)),this.updateAttributesAfterToChange()}handleVerticalChange(){this.view.changeOrientationFromOutside(),m.toggleCheckbox(this.vertical)}handleRangeChange(){this.view.toggleRangeFromOutside(),this.to.disabled=!this.to.disabled,this.range.checked?this.from.max=this.to.value:this.from.max=this.max.value,m.toggleCheckbox(this.range)}handleScaleChange(){this.view.toggleScaleFromOutside(),this.scaleIntervals.disabled=!this.scaleIntervals.disabled,m.toggleCheckbox(this.scale)}handleScaleIntervalsChange(){Number(this.scaleIntervals.value)<Number(this.scaleIntervals.min)&&(this.scaleIntervals.value=this.scaleIntervals.min),Number.isInteger(this.scaleIntervals.value)||(this.scaleIntervals.value=`${Math.floor(Number(this.scaleIntervals.value))}`),this.view.changeScaleIntervals(Number(this.scaleIntervals.value))}handleValueLabelsChange(){this.view.toggleValueLabels(),m.toggleCheckbox(this.valueLabels)}handleMinMaxLabelsChange(){this.view.toggleMinMaxLabels(),m.toggleCheckbox(this.minMaxLabels)}attachEventHandlers(){this.min.addEventListener("change",this.handleMinChange.bind(this)),this.max.addEventListener("change",this.handleMaxChange.bind(this)),this.step.addEventListener("change",this.handleStepChange.bind(this)),this.from.addEventListener("change",this.handleFromChange.bind(this)),this.to.addEventListener("change",this.handleToChange.bind(this)),this.vertical.addEventListener("change",this.handleVerticalChange.bind(this)),this.range.addEventListener("change",this.handleRangeChange.bind(this)),this.scale.addEventListener("change",this.handleScaleChange.bind(this)),this.scaleIntervals.addEventListener("change",this.handleScaleIntervalsChange.bind(this)),this.valueLabels.addEventListener("change",this.handleValueLabelsChange.bind(this)),this.minMaxLabels.addEventListener("change",this.handleMinMaxLabelsChange.bind(this))}}const g=class extends s{constructor(e,t={}){var i;super("div"),this.component=e,this.eventManager=new a,this.slider=s.createComponent("div","range-slider__slider"),this.track=new n(this),this.range=new l,this.thumbLeft=new r(this,"left"),this.input=new c,t.range&&(this.thumbRight=new r(this,"right")),this.scaleIntervals=null!==(i=t.scaleIntervals)&&void 0!==i?i:4,t.scale&&(this.scale=new o(0,100,this)),(t.minMaxLabels||t.valueLabels)&&(this.labelsContainer=new u,t.minMaxLabels&&(this.minLabel=new d("range-slider__min-max-label range-slider__min-max-label_left"),this.maxLabel=new d("range-slider__min-max-label range-slider__min-max-label_right")),t.valueLabels&&(this.valueLabelLeft=new d("range-slider__value-label range-slider__value-label_left"),t.range&&(this.valueLabelRight=new d("range-slider__value-label range-slider__value-label_right"),this.valueLabelCommon=new d("range-slider__value-label range-slider__value-label_common")))),t.vertical&&(this.vertical=!0),t.panel&&(this.panel=new m(this)),this.render()}subscribe(e){this.eventManager.subscribe(e)}notify(e,t=null){this.eventManager.notify(e,t)}setMinValue(e){var t;null===(t=this.minLabel)||void 0===t||t.setValue(e)}setMaxValue(e){var t;null===(t=this.maxLabel)||void 0===t||t.setValue(e)}setLeftValue(e,t){var i,a;this.vertical||(this.thumbLeft.setIndent("left",t),this.isRange()||this.range.setWidth(t),this.isRange()&&this.range.setIndent("left",t),null===(i=this.valueLabelLeft)||void 0===i||i.setIndent("left",this.thumbLeft.getLeftIndent()),"100%"===this.thumbLeft.getLeftIndent()?this.thumbLeft.setZIndex(100):this.thumbLeft.setZIndex(3)),this.vertical&&(this.thumbLeft.setIndent("top",100-t),this.isRange()||this.range.setHeight(t),this.isRange()&&this.range.setIndent("bottom",t),null===(a=this.valueLabelLeft)||void 0===a||a.setIndent("top",this.thumbLeft.getTopIndent()),"0%"===this.thumbLeft.getTopIndent()?this.thumbLeft.setZIndex(100):this.thumbLeft.setZIndex(3)),this.valueLabelLeft&&(this.valueLabelLeft.setValue(e),this.isRange()&&(this.valueLabelCommon.setValue(`${e} - ${this.valueLabelRight.getValue()}`),this.isTwoValueLabelsClose()?this.mergeLabels():this.splitLabels())),this.valueLabelLeft&&this.minLabel&&(this.isLeftValueLabelCloseToMinLabel()?this.minLabel.setOpacity(0):this.minLabel.setOpacity(1),this.isRange()||(this.isLeftValueLabelCloseToMaxLabel()?this.maxLabel.setOpacity(0):this.maxLabel.setOpacity(1)))}setRightValue(e,t){var i,a,s,n;this.vertical||(null===(i=this.thumbRight)||void 0===i||i.setIndent("left",t),this.range.setIndent("right",100-t),null===(a=this.valueLabelRight)||void 0===a||a.setIndent("left",this.thumbRight.getLeftIndent())),this.vertical&&(null===(s=this.thumbRight)||void 0===s||s.setIndent("top",100-t),this.range.setIndent("top",100-t),null===(n=this.valueLabelRight)||void 0===n||n.setIndent("top",this.thumbRight.getTopIndent())),this.valueLabelRight&&(this.valueLabelRight.setValue(e),this.valueLabelCommon.setValue(`${this.valueLabelLeft.getValue()} - ${e}`),this.isTwoValueLabelsClose()?this.mergeLabels():this.splitLabels()),this.valueLabelRight&&this.maxLabel&&(this.isRightValueLabelCloseToMaxLabel()?this.maxLabel.setOpacity(0):this.maxLabel.setOpacity(1))}updateInput(e,t=null){this.input.setValue(e,t)}handleLeftInput(e,t,i=0,a=0){if(!this.vertical){const t=this.track.getBoundingClientRect().left;let a=e-i-t;if(a<0&&(a=0),!this.isRange()){const e=this.getTrackWidth();a>e&&(a=e)}if(this.isRange()){const e=this.thumbRight.getBoundingClientRect().left+this.thumbRight.getWidth()/2-t;a>e&&(a=e)}this.notify("viewInputLeft",a)}if(this.vertical){const e=this.track.getBoundingClientRect().top;let i=t-a-e;const s=this.getTrackHeight();if(i>s&&(i=s),!this.isRange()&&i<0&&(i=0),this.isRange()){const t=this.thumbRight.getBoundingClientRect().top+this.thumbRight.getHeight()/2-e;i<t&&(i=t)}const n=s-i;this.notify("viewInputLeft",n)}}handleRightInput(e,t,i=0,a=0){if(!this.vertical){const t=this.track.getBoundingClientRect().left;let a=e-i-t;const s=this.thumbLeft.getBoundingClientRect().left+this.thumbLeft.getWidth()/2-t;a<s&&(a=s);const n=this.getTrackWidth();a>n&&(a=n),this.notify("viewInputRight",a)}if(this.vertical){const e=this.track.getBoundingClientRect().top;let i=t-a-e;i<0&&(i=0);const s=this.thumbLeft.getBoundingClientRect().top+this.thumbLeft.getHeight()/2-e;i>s&&(i=s);const n=this.getTrackHeight()-i;this.notify("viewInputRight",n)}}addScale(e,t){this.scale=new o(e,t,this),this.slider.after(this.scale.getComponent()),this.vertical||this.scale.fitHeightForHorizontal(),this.vertical&&this.scale.fitWidthForVertical()}removeScale(){var e;null===(e=this.scale)||void 0===e||e.getComponent().remove(),this.scale=void 0}getScale(){return this.scale}getScaleIntervals(){return this.scaleIntervals||0}handleScaleOrTrackClick(e,t){this.isRange()||(this.addSmoothTransition("left"),this.vertical?this.notify("viewInputLeft",this.getTrackHeight()-t):this.notify("viewInputLeft",e),setTimeout((()=>{this.removeSmoothTransition("left")}),1e3)),this.isRange()&&("left"===this.whichThumbIsNearer(e,t)?(this.addSmoothTransition("left"),this.vertical?this.notify("viewInputLeft",this.getTrackHeight()-t):this.notify("viewInputLeft",e),setTimeout((()=>{this.removeSmoothTransition("left")}),1e3)):(this.addSmoothTransition("right"),this.vertical?this.notify("viewInputRight",this.getTrackHeight()-t):this.notify("viewInputRight",e),setTimeout((()=>{this.removeSmoothTransition("right")}),1e3)))}fixLabelsContainerWidthForVertical(){var e;const t=this.collectLabels();null===(e=this.labelsContainer)||void 0===e||e.fixWidthForVertical(t)}fixLabelsContainerHeightForHorizontal(){var e;const t=this.collectLabels();null===(e=this.labelsContainer)||void 0===e||e.fixHeightForHorizontal(t)}setPanelValues(e){var t;null===(t=this.panel)||void 0===t||t.setValues(e)}updatePanelFrom(e){var t;null===(t=this.panel)||void 0===t||t.updateFrom(e)}updatePanelTo(e){var t;null===(t=this.panel)||void 0===t||t.updateTo(e)}updatePanelScaleIntervals(e){var t;null===(t=this.panel)||void 0===t||t.updateScaleIntervals(e)}updatePanelStep(e){var t;null===(t=this.panel)||void 0===t||t.updateStep(e)}updatePanelMin(e){var t;null===(t=this.panel)||void 0===t||t.updateMin(e)}updatePanelMax(e){var t;null===(t=this.panel)||void 0===t||t.updateMax(e)}changeLeftValueFromOutside(e){this.notify("viewSetLeftFromOutside",e)}changeRightValueFromOutside(e){this.notify("viewSetRightFromOutside",e)}changeMinFromOutside(e){this.notify("viewSetMin",e)}changeMaxFromOutside(e){this.notify("viewSetMax",e)}changeStepFromOutside(e){this.notify("viewSetStep",e)}changeOrientationFromOutside(){var e,t,i,a,s,n,l,h,r,o;if(!this.vertical)return this.vertical=!0,this.destroy(),this.render(),this.thumbLeft.setIndent("left",0),null===(e=this.thumbRight)||void 0===e||e.setIndent("left",0),this.range.setIndent("left",0),this.range.setIndent("right",0),this.range.resetTopIndent(),this.range.resetWidth(),null===(t=this.valueLabelLeft)||void 0===t||t.setIndent("left","unset"),null===(i=this.valueLabelRight)||void 0===i||i.setIndent("left","unset"),null===(a=this.valueLabelCommon)||void 0===a||a.setIndent("left","unset"),null===(s=this.scale)||void 0===s||s.handleSwitchFromHorizontalToVertical(),void this.notify("viewToggleOrientation");this.vertical&&(this.vertical=!1,this.component.classList.remove("range-slider_vertical"),this.destroy(),this.render(),this.thumbLeft.setIndent("top",0),null===(n=this.thumbRight)||void 0===n||n.setIndent("top",0),this.range.setIndent("bottom",0),this.range.setIndent("top",0),this.range.resetHeight(),null===(l=this.valueLabelLeft)||void 0===l||l.setIndent("top","unset"),null===(h=this.valueLabelRight)||void 0===h||h.setIndent("top","unset"),null===(r=this.valueLabelCommon)||void 0===r||r.setIndent("top","unset"),null===(o=this.scale)||void 0===o||o.handleSwitchFromVerticalToHorizontal(),this.notify("viewToggleOrientation"))}toggleRangeFromOutside(){const e=!this.isRange();e&&(this.destroy(),this.thumbRight=new r(this,"right"),this.valueLabelLeft&&(this.valueLabelRight=new d("range-slider__value-label range-slider__value-label_right"),this.valueLabelCommon=new d("range-slider__value-label range-slider__value-label_common")),this.vertical||this.range.resetWidth(),this.vertical&&this.range.resetHeight(),this.render()),e||(this.vertical&&this.range.resetTopIndent(),this.destroy(),this.thumbRight=void 0,this.render()),this.notify("viewToggleRange")}toggleScaleFromOutside(){this.notify("viewToggleScale")}changeScaleIntervals(e){e<=0||(this.scaleIntervals=Math.floor(e),this.removeScale(),this.notify("viewSetScaleIntervals"))}toggleValueLabels(){var e,t,i;if(this.valueLabelLeft)return this.valueLabelLeft.remove(),null===(e=this.valueLabelRight)||void 0===e||e.remove(),null===(t=this.valueLabelCommon)||void 0===t||t.remove(),this.valueLabelLeft=void 0,this.valueLabelRight=void 0,this.valueLabelCommon=void 0,this.minLabel&&(this.vertical||this.fixLabelsContainerHeightForHorizontal(),this.vertical&&this.fixLabelsContainerWidthForVertical()),void(this.minLabel||(null===(i=this.labelsContainer)||void 0===i||i.remove(),this.labelsContainer=void 0));this.valueLabelLeft||(this.valueLabelLeft=new d("range-slider__value-label range-slider__value-label_left"),this.labelsContainer||(this.labelsContainer=new u,this.slider.before(this.labelsContainer.getComponent())),this.labelsContainer.append(this.valueLabelLeft.getComponent()),this.isRange()&&(this.valueLabelRight=new d("range-slider__value-label range-slider__value-label_right"),this.valueLabelCommon=new d("range-slider__value-label range-slider__value-label_common"),this.labelsContainer.append(this.valueLabelRight.getComponent(),this.valueLabelCommon.getComponent())),this.notify("viewAddValueLabels"),this.vertical||this.fixLabelsContainerHeightForHorizontal(),this.vertical&&this.fixLabelsContainerWidthForVertical())}toggleMinMaxLabels(){var e,t;if(this.minLabel)return this.minLabel.remove(),null===(e=this.maxLabel)||void 0===e||e.remove(),this.minLabel=void 0,this.maxLabel=void 0,this.valueLabelLeft&&(this.vertical||this.fixLabelsContainerHeightForHorizontal(),this.vertical&&this.fixLabelsContainerWidthForVertical()),void(this.valueLabelLeft||(null===(t=this.labelsContainer)||void 0===t||t.remove(),this.labelsContainer=void 0));this.minLabel||(this.minLabel=new d("range-slider__min-max-label range-slider__min-max-label_left"),this.maxLabel=new d("range-slider__min-max-label range-slider__min-max-label_right"),this.labelsContainer||(this.labelsContainer=new u,this.slider.before(this.labelsContainer.getComponent())),this.labelsContainer.append(this.minLabel.getComponent(),this.maxLabel.getComponent()),this.notify("viewAddMinMaxLabels"),this.vertical||this.fixLabelsContainerHeightForHorizontal(),this.vertical&&this.fixLabelsContainerWidthForVertical())}hasLabels(){return!(!this.valueLabelLeft&&!this.minLabel)}hasScale(){return!!this.scale}hasMinMaxLabels(){return!!this.maxLabel}hasValueLabels(){return!!this.valueLabelLeft}hasPanel(){return!!this.panel}isRange(){return!!this.thumbRight}isVertical(){return!!this.vertical}getTrackWidth(){return this.track.getWidth()}getTrackHeight(){return this.track.getHeight()}render(){const e=new DocumentFragment;if(this.track.append(this.range.getComponent()),this.slider.append(this.track.getComponent(),this.thumbLeft.getComponent()),e.append(this.slider,this.input.getComponent()),this.isRange()?this.slider.append(this.thumbRight.getComponent()):(this.vertical||this.range.setIndent("left",0),this.vertical&&this.range.setIndent("bottom",0)),this.minLabel&&this.maxLabel&&this.labelsContainer.append(this.minLabel.getComponent(),this.maxLabel.getComponent()),this.valueLabelLeft&&(this.labelsContainer.append(this.valueLabelLeft.getComponent()),this.isRange()&&this.labelsContainer.append(this.valueLabelRight.getComponent(),this.valueLabelCommon.getComponent())),this.labelsContainer&&this.slider.before(this.labelsContainer.getComponent()),this.vertical&&this.component.classList.add("range-slider_vertical"),this.panel){const t=s.createComponent("div","range-slider__panel");t.append(this.panel.getComponent()),e.append(t)}this.scale&&this.slider.after(this.scale.getComponent()),this.component.append(e)}destroy(){this.labelsContainer&&[...this.labelsContainer.getComponent().children].forEach((e=>{e.remove()})),[...this.slider.children].forEach((e=>{e.remove()})),[...this.component.children].forEach((e=>{e.remove()}))}mergeLabels(){var e,t,i,a,s;if(null===(e=this.valueLabelLeft)||void 0===e||e.setOpacity(0),null===(t=this.valueLabelRight)||void 0===t||t.setOpacity(0),null===(i=this.valueLabelCommon)||void 0===i||i.setOpacity(1),!this.vertical){const e=parseInt(this.thumbRight.getLeftIndent(),10)-parseInt(this.thumbLeft.getLeftIndent(),10);null===(a=this.valueLabelCommon)||void 0===a||a.setIndent("left",`${parseInt(this.valueLabelLeft.getLeftIndent(),10)+e/2}%`)}if(this.vertical){const e=parseInt(this.thumbRight.getTopIndent(),10)-parseInt(this.thumbLeft.getTopIndent(),10);null===(s=this.valueLabelCommon)||void 0===s||s.setIndent("top",parseInt(this.valueLabelRight.getTopIndent(),10)-e/2+"%")}}splitLabels(){var e,t,i;null===(e=this.valueLabelCommon)||void 0===e||e.setOpacity(0),null===(t=this.valueLabelLeft)||void 0===t||t.setOpacity(1),null===(i=this.valueLabelRight)||void 0===i||i.setOpacity(1)}isTwoLabelsClose(e,t){if(this.vertical)return e.getBoundingClientRect().top-t.getBoundingClientRect().bottom<3;const i=e.getBoundingClientRect().right;return t.getBoundingClientRect().left-i<3}isTwoValueLabelsClose(){return!(!this.valueLabelLeft||!this.valueLabelRight)&&this.isTwoLabelsClose(this.valueLabelLeft,this.valueLabelRight)}isLeftValueLabelCloseToMinLabel(){return!(!this.minLabel||!this.valueLabelLeft)&&this.isTwoLabelsClose(this.minLabel,this.valueLabelLeft)}isLeftValueLabelCloseToMaxLabel(){return!(!this.valueLabelLeft||!this.maxLabel)&&this.isTwoLabelsClose(this.valueLabelLeft,this.maxLabel)}isRightValueLabelCloseToMaxLabel(){return!(!this.valueLabelRight||!this.maxLabel)&&this.isTwoLabelsClose(this.valueLabelRight,this.maxLabel)}whichThumbIsNearer(e,t){const i=this.thumbLeft.getBoundingClientRect(),a=this.thumbRight.getBoundingClientRect(),s=this.track.getBoundingClientRect();let n=0,l=0;if(!this.vertical){const t=i.left+i.width/2-s.left,h=a.left+a.width/2-s.left;n=Math.abs(e-t),l=Math.abs(e-h)}if(this.vertical){const e=i.top+i.height/2-s.top,h=a.top+a.height/2-s.top;n=Math.abs(t-e),l=Math.abs(t-h)}return n<=l?"left":"right"}addSmoothTransition(e="left"){var t,i;"left"===e&&(this.thumbLeft.getComponent().classList.add("range-slider__thumb_smooth-transition"),this.range.getComponent().classList.add("range-slider__range_smooth-transition"),null===(t=this.valueLabelLeft)||void 0===t||t.getComponent().classList.add("range-slider__value-label_smooth-transition")),"right"===e&&(this.thumbRight.getComponent().classList.add("range-slider__thumb_smooth-transition"),this.range.getComponent().classList.add("range-slider__range_smooth-transition"),null===(i=this.valueLabelRight)||void 0===i||i.getComponent().classList.add("range-slider__value-label_smooth-transition"))}removeSmoothTransition(e="left"){var t,i;"left"===e&&(this.thumbLeft.getComponent().classList.remove("range-slider__thumb_smooth-transition"),this.range.getComponent().classList.remove("range-slider__range_smooth-transition"),null===(t=this.valueLabelLeft)||void 0===t||t.getComponent().classList.remove("range-slider__value-label_smooth-transition")),"right"===e&&(this.thumbRight.getComponent().classList.remove("range-slider__thumb_smooth-transition"),this.range.getComponent().classList.remove("range-slider__range_smooth-transition"),null===(i=this.valueLabelRight)||void 0===i||i.getComponent().classList.remove("range-slider__value-label_smooth-transition"))}collectLabels(){const e=[];return this.minLabel&&this.maxLabel&&(e.push(this.minLabel.getComponent()),e.push(this.maxLabel.getComponent())),this.valueLabelLeft&&e.push(this.valueLabelLeft.getComponent()),this.valueLabelRight&&e.push(this.valueLabelRight.getComponent()),e}};class v{constructor(e,t){this.model=e,this.view=t,this.initViewValues(),this.model.subscribe(this),this.view.subscribe(this)}inform(e,t=null){switch(e){case"viewInputLeft":"number"==typeof t&&this.handleViewInputLeft(t);break;case"viewInputRight":"number"==typeof t&&this.handleViewInputRight(t);break;case"viewSetLeftFromOutside":"number"==typeof t&&this.handleViewSetLeftFromOutside(t);break;case"viewSetRightFromOutside":"number"==typeof t&&this.handleViewSetRightFromOutside(t);break;case"viewSetMin":"number"==typeof t&&this.handleViewSetMin(t);break;case"viewSetMax":"number"==typeof t&&this.handleViewSetMax(t);break;case"viewSetStep":"number"==typeof t&&this.handleViewSetStep(t);break;case"viewToggleOrientation":this.handleViewToggleOrientation();break;case"viewToggleRange":this.handleViewToggleRange();break;case"viewToggleScale":this.handleViewToggleScale();break;case"viewSetScaleIntervals":this.handleViewSetScaleIntervals();break;case"viewAddValueLabels":this.handleViewAddValueLabels();break;case"viewAddMinMaxLabels":this.handleViewAddMinMaxLabels();break;case"modelSetLeft":this.handleModelSetLeft();break;case"modelSetRight":this.handleModelSetRight();break;case"modelSetMin":this.handleModelSetMin();break;case"modelSetMax":this.handleModelSetMax();break;case"modelToggleRange":this.handleModelToggleRange();break;case"modelSetStep":this.handleModelSetStep()}}static removeCalcInaccuracy(e){return Number(e.toFixed(10))}initViewValues(){var e;const{model:t}=this,{view:i}=this,a=t.getMin(),s=t.getMax(),n=t.getLeftValue(),l=t.getRightValue();i.setMinValue(a),i.setMaxValue(s),this.passLeftValueToView(n),i.isRange()&&void 0!==l?(this.passRightValueToView(l),i.updateInput(n,l)):i.updateInput(n),i.hasScale()&&(i.removeScale(),i.addScale(a,s)),this.view.hasLabels()&&(i.isVertical()||i.fixLabelsContainerHeightForHorizontal(),i.isVertical()&&i.fixLabelsContainerWidthForVertical()),i.hasPanel()&&i.setPanelValues({min:a,max:s,step:t.getStep(),from:n,to:null!=l?l:null,vertical:null!==(e=i.isVertical())&&void 0!==e&&e,range:i.isRange(),scale:i.hasScale(),scaleIntervals:i.getScaleIntervals(),valueLabels:i.hasValueLabels(),minMaxLabels:i.hasMinMaxLabels()})}handleViewInputLeft(e){const t=this.convertPxToValue(e);this.model.setLeftValue(t)}handleModelSetLeft(){const e=this.model.getLeftValue();this.passLeftValueToView(e),this.updateViewInput(),this.view.hasPanel()&&this.view.updatePanelFrom(e)}handleViewInputRight(e){const t=this.convertPxToValue(e);this.model.setRightValue(t)}handleModelSetRight(){const e=this.model.getRightValue();this.passRightValueToView(e),this.updateViewInput(),this.view.hasPanel()&&this.view.updatePanelTo(e)}passLeftValueToView(e){const t=this.convertValueToPercent(e);this.view.setLeftValue(e,t)}passRightValueToView(e){const t=this.convertValueToPercent(e);this.view.setRightValue(e,t)}updateViewInput(){this.view.isRange()||this.view.updateInput(this.model.getLeftValue()),this.view.isRange()&&this.view.updateInput(this.model.getLeftValue(),this.model.getRightValue())}convertValueToPercent(e){const t=this.model.getMin();let i=(e-t)/(this.model.getMax()-t)*100;return i=v.removeCalcInaccuracy(i),i}convertPxToValue(e){let t=0;this.view.isVertical()||(t=100*e/this.view.getTrackWidth()),this.view.isVertical()&&(t=100*e/this.view.getTrackHeight());const i=this.model.getMin();let a=t/100*(this.model.getMax()-i)+i;return a=this.fitToStep(a),a=v.removeCalcInaccuracy(a),a}fitToStep(e){let t=Math.round(e/this.model.getStep())*this.model.getStep();return t=v.removeCalcInaccuracy(t),t}handleViewSetLeftFromOutside(e){this.model.setLeftValue(e)}handleViewSetRightFromOutside(e){this.model.setRightValue(e)}handleViewSetMin(e){this.model.setMin(e)}handleModelSetMin(){this.view.setMinValue(this.model.getMin()),this.passLeftValueToView(this.model.getLeftValue());const e=this.model.getRightValue();void 0!==e&&this.passRightValueToView(e),this.view.hasScale()&&(this.view.removeScale(),this.view.addScale(this.model.getMin(),this.model.getMax())),this.view.hasPanel()&&this.view.updatePanelMin(this.model.getMin())}handleViewSetMax(e){this.model.setMax(e)}handleModelSetMax(){this.view.setMaxValue(this.model.getMax()),this.passLeftValueToView(this.model.getLeftValue());const e=this.model.getRightValue();void 0!==e&&this.passRightValueToView(e),this.view.hasScale()&&(this.view.removeScale(),this.view.addScale(this.model.getMin(),this.model.getMax())),this.view.hasPanel()&&this.view.updatePanelMax(this.model.getMax())}handleViewSetStep(e){this.model.setStep(e)}handleViewToggleOrientation(){if(this.passLeftValueToView(this.model.getLeftValue()),this.view.isRange()){const e=this.model.getRightValue();void 0!==e&&this.passRightValueToView(e)}this.view.hasLabels()&&(this.view.isVertical()||this.view.fixLabelsContainerHeightForHorizontal(),this.view.isVertical()&&this.view.fixLabelsContainerWidthForVertical())}handleViewToggleRange(){this.model.toggleRange()}handleModelToggleRange(){if(this.passLeftValueToView(this.model.getLeftValue()),this.model.isRange()){this.model.setRightValue();const e=this.model.getRightValue();void 0!==e&&(this.passRightValueToView(e),this.view.updateInput(this.model.getLeftValue(),e),this.view.hasPanel()&&this.view.updatePanelTo(e))}this.model.isRange()||(this.model.removeRightValue(),this.view.updateInput(this.model.getLeftValue()),this.view.hasPanel()&&this.view.updatePanelTo(""))}handleModelSetStep(){this.view.hasPanel()&&this.view.updatePanelStep(this.model.getStep())}handleViewToggleScale(){var e;if(!this.view.hasScale())return this.view.addScale(this.model.getMin(),this.model.getMax()),void(this.view.hasPanel()&&this.view.updatePanelScaleIntervals(null!==(e=this.view.getScaleIntervals())&&void 0!==e?e:4));this.view.hasScale()&&(this.view.removeScale(),this.view.hasPanel()&&this.view.updatePanelScaleIntervals(""))}handleViewSetScaleIntervals(){this.view.addScale(this.model.getMin(),this.model.getMax())}handleViewAddValueLabels(){if(this.passLeftValueToView(this.model.getLeftValue()),this.view.isRange()){const e=this.model.getRightValue();void 0!==e&&this.passRightValueToView(e)}}handleViewAddMinMaxLabels(){this.view.setMinValue(this.model.getMin()),this.view.setMaxValue(this.model.getMax())}}const p=v;class b{constructor(e,t){this.element=e,this.model=new class{constructor(e){this.eventManager=new a,this.min=e.min,this.max=e.max,this.leftValue=e.leftValue,this.step=e.step,e.range?(this.rightValue=e.rightValue,this.range=!0):this.range=!1}subscribe(e){this.eventManager.subscribe(e)}setLeftValue(e){e<this.min?this.leftValue=this.min:(this.isRange()||(this.leftValue=Math.min(e,this.max)),this.isRange()&&void 0!==this.rightValue&&(this.leftValue=Math.min(e,this.rightValue))),this.eventManager.notify("modelSetLeft")}setRightValue(e=this.max){this.isRange()&&(e>this.max?this.rightValue=this.max:this.rightValue=Math.max(e,this.leftValue),this.eventManager.notify("modelSetRight"))}removeRightValue(){this.rightValue=void 0}setMin(e){e>this.leftValue||(this.min=e,this.eventManager.notify("modelSetMin"))}setMax(e){!this.isRange()&&e<this.leftValue||this.isRange()&&void 0!==this.rightValue&&e<this.rightValue||(this.max=e,this.eventManager.notify("modelSetMax"))}setStep(e){e<=0||e>Math.abs(this.max-this.min)||(this.step=e,this.eventManager.notify("modelSetStep"))}toggleRange(){this.range=!this.range,this.eventManager.notify("modelToggleRange")}getMin(){return this.min}getMax(){return this.max}getLeftValue(){return this.leftValue}getRightValue(){return this.rightValue}getStep(){return this.step}isRange(){return this.range}}({min:t.min,max:t.max,leftValue:t.leftValue,rightValue:t.rightValue,range:t.range,step:t.step}),this.view=new g(e,{minMaxLabels:t.minMaxLabels,valueLabels:t.valueLabels,vertical:t.vertical,range:t.range,scale:t.scale,scaleIntervals:t.scaleIntervals,panel:t.panel}),this.presenter=new p(this.model,this.view),this.model.subscribe(this)}inform(e){switch(e){case"modelLeftSet":case"modelRightSet":this.onChange&&this.onChange(this.model.getLeftValue(),this.model.getRightValue())}}setLeftValue(e){return this.view.changeLeftValueFromOutside(e),this}setRightValue(e){return this.view.changeRightValueFromOutside(e),this}setStep(e){return this.view.changeStepFromOutside(e),this}}!function(e){const t=e,i={min:0,max:100,range:!0,leftValue:25,rightValue:75,step:1,minMaxLabels:!0,valueLabels:!0,vertical:!1,scale:!1,scaleIntervals:5,panel:!1};t.fn.rangeSlider=function(e={}){return this.each((function(){const a={min:t(this).data("min"),max:t(this).data("max"),range:t(this).data("range"),leftValue:t(this).data("leftValue"),rightValue:t(this).data("rightValue"),step:t(this).data("step"),minMaxLabels:t(this).data("minMaxLabels"),valueLabels:t(this).data("valueLabels"),vertical:t(this).data("vertical"),scale:t(this).data("scale"),scaleIntervals:t(this).data("scaleIntervals"),panel:t(this).data("panel")};let s=t.extend({},i,e,a);s=function(e){let a=t.extend({},e);return function(){function t(t){typeof e[t]!=typeof i[t]&&delete a[t]}t("min"),t("max"),t("leftValue"),t("rightValue"),t("range"),t("step"),t("minMaxLabels"),t("valueLabels"),t("vertical"),t("scale"),t("scaleIntervals"),t("panel")}(),a=t.extend({},i,a),a.min>a.max&&([a.min,a.max]=[a.max,a.min]),a.leftValue<a.min&&(a.leftValue=a.min),a.rightValue>a.max&&(a.rightValue=a.max),a.leftValue>a.max&&(a.leftValue=a.max),a.leftValue>a.rightValue&&([a.leftValue,a.rightValue]=[a.rightValue,a.leftValue]),a.step>Math.abs(a.max-a.min)&&(a.step=Math.abs(a.max-a.min)),a.scaleIntervals<1&&(a.scaleIntervals=1),Number.isInteger(a.scaleIntervals)&&(a.scaleIntervals=Math.floor(a.scaleIntervals)),a}(s),this instanceof HTMLDivElement&&t(this).data("rangeSlider",new b(this,s))}))}}(i(65638))},96553:()=>{}},e=>{e.O(0,[216],(()=>(71376,e(e.s=71376)))),e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RU8sT0FBTyxHQUFJTixFQUFVTyxHQUluQ0EsRUFBYy9PLElBQU0rTyxFQUFjOU8sT0FDbkM4TyxFQUFjL08sSUFBSytPLEVBQWM5TyxLQUFPLENBQUM4TyxFQUFjOU8sSUFBSzhPLEVBQWMvTyxNQUd6RStPLEVBQWM5QixVQUFZOEIsRUFBYy9PLE1BQzFDK08sRUFBYzlCLFVBQVk4QixFQUFjL08sS0FHdEMrTyxFQUFjNUIsV0FBYTRCLEVBQWM5TyxNQUMzQzhPLEVBQWM1QixXQUFhNEIsRUFBYzlPLEtBR3ZDOE8sRUFBYzlCLFVBQVk4QixFQUFjOU8sTUFDMUM4TyxFQUFjOUIsVUFBWThCLEVBQWM5TyxLQUd0QzhPLEVBQWM5QixVQUFZOEIsRUFBYzVCLGNBQ3pDNEIsRUFBYzlCLFVBQVc4QixFQUFjNUIsWUFBYyxDQUNuRDRCLEVBQWM1QixXQUFZNEIsRUFBYzlCLFlBSXpDOEIsRUFBY3pOLEtBQU9DLEtBQUt3RCxJQUFJZ0ssRUFBYzlPLElBQU04TyxFQUFjL08sT0FDbEUrTyxFQUFjek4sS0FBT0MsS0FBS3dELElBQUlnSyxFQUFjOU8sSUFBTThPLEVBQWMvTyxNQUc5RCtPLEVBQWM5TCxlQUFpQixJQUNqQzhMLEVBQWM5TCxlQUFpQixHQUc3QlosT0FBT2lDLFVBQVV5SyxFQUFjOUwsa0JBQ2pDOEwsRUFBYzlMLGVBQWlCMUIsS0FBSzhFLE1BQU0wSSxFQUFjOUwsaUJBUXJEOEwsRUFJRUksQ0FBU04sR0FFaEI1VCxnQkFBZ0JtVSxnQkFDbEJiLEVBQUV0VCxNQUFNTyxLQUFLLGNBQWUsSUFBSTJTLEVBQU9sVCxLQUFNNFQsUUFoSHJELEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9FdmVudE1hbmFnZXIvRXZlbnRNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL01vZGVsL01vZGVsLnRzIiwid2VicGFjazovLy8uL1ZpZXcvQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vVmlldy9zdWJ2aWV3cy9UcmFjay9UcmFjay50cyIsIndlYnBhY2s6Ly8vLi9WaWV3L3N1YnZpZXdzL1JhbmdlL1JhbmdlLnRzIiwid2VicGFjazovLy8uL1ZpZXcvc3Vidmlld3MvVGh1bWIvVGh1bWIudHMiLCJ3ZWJwYWNrOi8vLy4vVmlldy9zdWJ2aWV3cy9TY2FsZS9TY2FsZS50cyIsIndlYnBhY2s6Ly8vLi9WaWV3L3N1YnZpZXdzL0xhYmVsc0NvbnRhaW5lci9MYWJlbHNDb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vLy4vVmlldy9zdWJ2aWV3cy9MYWJlbC9MYWJlbC50cyIsIndlYnBhY2s6Ly8vLi9WaWV3L3N1YnZpZXdzL0lucHV0L0lucHV0LnRzIiwid2VicGFjazovLy8uL1ZpZXcvc3Vidmlld3MvUGFuZWwvUGFuZWwudHMiLCJ3ZWJwYWNrOi8vLy4vVmlldy9WaWV3LnRzIiwid2VicGFjazovLy8uL1ByZXNlbnRlci9QcmVzZW50ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vU2xpZGVyLnRzIiwid2VicGFjazovLy8uL1dyYXBwZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgRXZlbnRNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnM6IElFdmVudExpc3RlbmVyW10gPSBbXTtcblxuICBzdWJzY3JpYmUobGlzdGVuZXI6IElFdmVudExpc3RlbmVyKTogdm9pZCB7XG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gIH1cblxuICB1bnN1YnNjcmliZShsaXN0ZW5lcjogSUV2ZW50TGlzdGVuZXIpOiB2b2lkIHtcbiAgICB0aGlzLmxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmZpbHRlcigoaXRlbSkgPT4gaXRlbSAhPT0gbGlzdGVuZXIpO1xuICB9XG5cbiAgbm90aWZ5KGV2ZW50VHlwZTogc3RyaW5nLCBkYXRhOiBudW1iZXIgfCBudWxsID0gbnVsbCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmxpc3RlbmVycy5sZW5ndGggPT09IDApIHsgcmV0dXJuOyB9XG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5pbmZvcm0oZXZlbnRUeXBlLCBkYXRhKSk7XG4gIH1cbn1cblxuaW50ZXJmYWNlIElFdmVudExpc3RlbmVyIHtcbiAgaW5mb3JtKGV2ZW50VHlwZTogc3RyaW5nLCBkYXRhOiBudW1iZXIgfCBudWxsKTogdm9pZDtcbn1cblxuZXhwb3J0IHsgRXZlbnRNYW5hZ2VyLCBJRXZlbnRMaXN0ZW5lciB9O1xuIiwiaW1wb3J0IHsgRXZlbnRNYW5hZ2VyLCBJRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4uL0V2ZW50TWFuYWdlci9FdmVudE1hbmFnZXInO1xuXG50eXBlIE1vZGVsT3B0aW9ucyA9IHtcbiAgbWluOiBudW1iZXI7XG4gIG1heDogbnVtYmVyO1xuICBsZWZ0VmFsdWU6IG51bWJlcjtcbiAgcmlnaHRWYWx1ZT86IG51bWJlcjtcbiAgc3RlcDogbnVtYmVyO1xuICByYW5nZT86IGJvb2xlYW47XG59O1xuXG5jbGFzcyBNb2RlbCB7XG4gIHByaXZhdGUgZXZlbnRNYW5hZ2VyOiBFdmVudE1hbmFnZXI7XG5cbiAgcHJpdmF0ZSBtaW46IG51bWJlcjtcblxuICBwcml2YXRlIG1heDogbnVtYmVyO1xuXG4gIHByaXZhdGUgbGVmdFZhbHVlOiBudW1iZXI7XG5cbiAgcHJpdmF0ZSByaWdodFZhbHVlPzogbnVtYmVyO1xuXG4gIHByaXZhdGUgc3RlcDogbnVtYmVyO1xuXG4gIHByaXZhdGUgcmFuZ2U6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogTW9kZWxPcHRpb25zKSB7XG4gICAgdGhpcy5ldmVudE1hbmFnZXIgPSBuZXcgRXZlbnRNYW5hZ2VyKCk7XG5cbiAgICB0aGlzLm1pbiA9IG9wdGlvbnMubWluO1xuICAgIHRoaXMubWF4ID0gb3B0aW9ucy5tYXg7XG4gICAgdGhpcy5sZWZ0VmFsdWUgPSBvcHRpb25zLmxlZnRWYWx1ZTtcbiAgICB0aGlzLnN0ZXAgPSBvcHRpb25zLnN0ZXA7XG5cbiAgICBpZiAob3B0aW9ucy5yYW5nZSkge1xuICAgICAgdGhpcy5yaWdodFZhbHVlID0gb3B0aW9ucy5yaWdodFZhbHVlO1xuICAgICAgdGhpcy5yYW5nZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmFuZ2UgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzdWJzY3JpYmUobGlzdGVuZXI6IElFdmVudExpc3RlbmVyKTogdm9pZCB7XG4gICAgdGhpcy5ldmVudE1hbmFnZXIuc3Vic2NyaWJlKGxpc3RlbmVyKTtcbiAgfVxuXG4gIHNldExlZnRWYWx1ZSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHZhbHVlIDwgdGhpcy5taW4pIHtcbiAgICAgIHRoaXMubGVmdFZhbHVlID0gdGhpcy5taW47XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgICAgdGhpcy5sZWZ0VmFsdWUgPSBNYXRoLm1pbih2YWx1ZSwgdGhpcy5tYXgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pc1JhbmdlKCkgJiYgdGhpcy5yaWdodFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5sZWZ0VmFsdWUgPSBNYXRoLm1pbih2YWx1ZSwgdGhpcy5yaWdodFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmV2ZW50TWFuYWdlci5ub3RpZnkoJ21vZGVsU2V0TGVmdCcpO1xuICB9XG5cbiAgc2V0UmlnaHRWYWx1ZSh2YWx1ZTogbnVtYmVyID0gdGhpcy5tYXgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNSYW5nZSgpKSByZXR1cm47XG5cbiAgICBpZiAodmFsdWUgPiB0aGlzLm1heCkge1xuICAgICAgdGhpcy5yaWdodFZhbHVlID0gdGhpcy5tYXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmlnaHRWYWx1ZSA9IE1hdGgubWF4KHZhbHVlLCB0aGlzLmxlZnRWYWx1ZSk7XG4gICAgfVxuXG4gICAgdGhpcy5ldmVudE1hbmFnZXIubm90aWZ5KCdtb2RlbFNldFJpZ2h0Jyk7XG4gIH1cblxuICByZW1vdmVSaWdodFZhbHVlKCk6IHZvaWQge1xuICAgIHRoaXMucmlnaHRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHNldE1pbih2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHZhbHVlID4gdGhpcy5sZWZ0VmFsdWUpIHJldHVybjtcbiAgICB0aGlzLm1pbiA9IHZhbHVlO1xuXG4gICAgdGhpcy5ldmVudE1hbmFnZXIubm90aWZ5KCdtb2RlbFNldE1pbicpO1xuICB9XG5cbiAgc2V0TWF4KHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICBpZiAodmFsdWUgPCB0aGlzLmxlZnRWYWx1ZSkgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzUmFuZ2UoKSAmJiB0aGlzLnJpZ2h0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHZhbHVlIDwgdGhpcy5yaWdodFZhbHVlKSByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5tYXggPSB2YWx1ZTtcblxuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgnbW9kZWxTZXRNYXgnKTtcbiAgfVxuXG4gIHNldFN0ZXAodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh2YWx1ZSA8PSAwKSByZXR1cm47XG4gICAgaWYgKHZhbHVlID4gTWF0aC5hYnModGhpcy5tYXggLSB0aGlzLm1pbikpIHJldHVybjtcblxuICAgIHRoaXMuc3RlcCA9IHZhbHVlO1xuXG4gICAgdGhpcy5ldmVudE1hbmFnZXIubm90aWZ5KCdtb2RlbFNldFN0ZXAnKTtcbiAgfVxuXG4gIHRvZ2dsZVJhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMucmFuZ2UgPSAhdGhpcy5yYW5nZTtcblxuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgnbW9kZWxUb2dnbGVSYW5nZScpO1xuICB9XG5cbiAgZ2V0TWluKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubWluO1xuICB9XG5cbiAgZ2V0TWF4KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubWF4O1xuICB9XG5cbiAgZ2V0TGVmdFZhbHVlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubGVmdFZhbHVlO1xuICB9XG5cbiAgZ2V0UmlnaHRWYWx1ZSgpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLnJpZ2h0VmFsdWU7XG4gIH1cblxuICBnZXRTdGVwKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuc3RlcDtcbiAgfVxuXG4gIGlzUmFuZ2UoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucmFuZ2U7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9kZWw7XG4iLCJjbGFzcyBCYXNlRWxlbWVudDxUIGV4dGVuZHMga2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwPiB7XG4gIHByb3RlY3RlZCBjb21wb25lbnQ6IEhUTUxFbGVtZW50VGFnTmFtZU1hcFtUXTtcblxuICBjb25zdHJ1Y3Rvcih0YWc6IFQsIGNsYXNzTmFtZT86IHN0cmluZykge1xuICAgIHRoaXMuY29tcG9uZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuXG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgdGhpcy5jb21wb25lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBzdGF0aWMgY3JlYXRlQ29tcG9uZW50PEsgZXh0ZW5kcyBrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXA+KFxuICAgIHRhZzogSywgY2xhc3NOYW1lPzogc3RyaW5nLFxuICApOiBIVE1MRWxlbWVudFRhZ05hbWVNYXBbS10ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG5cbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIGdldENvbXBvbmVudCgpOiBIVE1MRWxlbWVudFRhZ05hbWVNYXBbVF0ge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudDtcbiAgfVxuXG4gIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOiBET01SZWN0IHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIH1cblxuICBnZXRXaWR0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vZmZzZXRXaWR0aDtcbiAgfVxuXG4gIGdldEhlaWdodCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vZmZzZXRIZWlnaHQ7XG4gIH1cblxuICBzZXRJbmRlbnQoc2lkZTogJ3RvcCcgfCAncmlnaHQnIHwgJ2JvdHRvbScgfCAnbGVmdCcsIGluZGVudDogbnVtYmVyIHwgc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiBpbmRlbnQgPT09ICdudW1iZXInKSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC5zdHlsZVtzaWRlXSA9IGAke2luZGVudH0lYDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGluZGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LnN0eWxlW3NpZGVdID0gaW5kZW50O1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZSgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5yZW1vdmUoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCYXNlRWxlbWVudDtcbiIsImltcG9ydCBCYXNlRWxlbWVudCBmcm9tICcuLi8uLi9CYXNlRWxlbWVudC9CYXNlRWxlbWVudCc7XG5cbnR5cGUgVmlld0ZvclRyYWNrID0ge1xuICBoYW5kbGVTY2FsZU9yVHJhY2tDbGljayh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQsXG59O1xuXG5jbGFzcyBUcmFjayBleHRlbmRzIEJhc2VFbGVtZW50PCdkaXYnPiB7XG4gIHByaXZhdGUgdmlldzogVmlld0ZvclRyYWNrO1xuXG4gIGNvbnN0cnVjdG9yKHZpZXc6IFZpZXdGb3JUcmFjaykge1xuICAgIHN1cGVyKCdkaXYnLCAncmFuZ2Utc2xpZGVyX190cmFjaycpO1xuXG4gICAgdGhpcy52aWV3ID0gdmlldztcblxuICAgIHRoaXMuYXR0YWNoRXZlbnRIYW5kbGVycygpO1xuICB9XG5cbiAgYXBwZW5kKC4uLmVsZW1lbnRzOiBIVE1MRWxlbWVudFtdKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuYXBwZW5kKC4uLmVsZW1lbnRzKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICBjb25zdCB4OiBudW1iZXIgPSBldmVudC5jbGllbnRYIC0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICAgICAgY29uc3QgeTogbnVtYmVyID0gZXZlbnQuY2xpZW50WSAtIGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuXG4gICAgICB0aGlzLnZpZXcuaGFuZGxlU2NhbGVPclRyYWNrQ2xpY2soeCwgeSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhdHRhY2hFdmVudEhhbmRsZXJzKCk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmFjaztcbiIsImltcG9ydCBCYXNlRWxlbWVudCBmcm9tICcuLi8uLi9CYXNlRWxlbWVudC9CYXNlRWxlbWVudCc7XG5cbmNsYXNzIFJhbmdlIGV4dGVuZHMgQmFzZUVsZW1lbnQ8J2Rpdic+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ2RpdicsICdyYW5nZS1zbGlkZXJfX3JhbmdlJyk7XG4gIH1cblxuICBzZXRXaWR0aChwZXJjZW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS53aWR0aCA9IGAke3BlcmNlbnR9JWA7XG4gIH1cblxuICBzZXRIZWlnaHQocGVyY2VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7cGVyY2VudH0lYDtcbiAgfVxuXG4gIHJlc2V0V2lkdGgoKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUud2lkdGggPSAndW5zZXQnO1xuICB9XG5cbiAgcmVzZXRIZWlnaHQoKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUuaGVpZ2h0ID0gJ3Vuc2V0JztcbiAgfVxuXG4gIHJlc2V0VG9wSW5kZW50KCk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLnRvcCA9ICd1bnNldCc7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFuZ2U7XG4iLCJpbXBvcnQgQmFzZUVsZW1lbnQgZnJvbSAnLi4vLi4vQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQnO1xuXG50eXBlIFZpZXdGb3JUaHVtYiA9IHtcbiAgaGFuZGxlTGVmdElucHV0KGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyLCBzaGlmdFg6IG51bWJlciwgc2hpZnRZOiBudW1iZXIpOiB2b2lkLFxuICBoYW5kbGVSaWdodElucHV0KGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyLCBzaGlmdFg6IG51bWJlciwgc2hpZnRZOiBudW1iZXIpOiB2b2lkLFxufTtcblxuY2xhc3MgVGh1bWIgZXh0ZW5kcyBCYXNlRWxlbWVudDwnZGl2Jz4ge1xuICBwcml2YXRlIHR5cGU6ICdsZWZ0JyB8ICdyaWdodCc7XG5cbiAgcHJpdmF0ZSB2aWV3OiBWaWV3Rm9yVGh1bWI7XG5cbiAgY29uc3RydWN0b3IodmlldzogVmlld0ZvclRodW1iLCB0eXBlOiAnbGVmdCcgfCAncmlnaHQnID0gJ2xlZnQnKSB7XG4gICAgc3VwZXIoJ2RpdicsIGByYW5nZS1zbGlkZXJfX3RodW1iIHJhbmdlLXNsaWRlcl9fdGh1bWJfJHt0eXBlfWApO1xuXG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLnZpZXcgPSB2aWV3O1xuXG4gICAgdGhpcy5hdHRhY2hFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBnZXRMZWZ0SW5kZW50KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LnN0eWxlLmxlZnQ7XG4gIH1cblxuICBnZXRUb3BJbmRlbnQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnQuc3R5bGUudG9wO1xuICB9XG5cbiAgc2V0WkluZGV4KHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS56SW5kZXggPSBgJHt2YWx1ZX1gO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgaGFuZGxlUG9pbnRlck92ZXIoZXZlbnQ6IFBvaW50ZXJFdmVudCk6IHZvaWQge1xuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZCgncmFuZ2Utc2xpZGVyX190aHVtYl9ob3ZlcicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGhhbmRsZVBvaW50ZXJPdXQoZXZlbnQ6IFBvaW50ZXJFdmVudCk6IHZvaWQge1xuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2Utc2xpZGVyX190aHVtYl9ob3ZlcicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGhhbmRsZVBvaW50ZXJVcChldmVudDogUG9pbnRlckV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdyYW5nZS1zbGlkZXJfX3RodW1iX2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGhhbmRsZURyYWdTdGFydCgpOiBmYWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVQb2ludGVyRG93bihldmVudDogUG9pbnRlckV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKCdyYW5nZS1zbGlkZXJfX3RodW1iX2FjdGl2ZScpO1xuXG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LnNldFBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XG5cbiAgICAgIC8vIHByZXZlbnQgc2VsZWN0aW9uIChicm93c2VyIGFjdGlvbilcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGNvbnN0IHNoaWZ0WDogbnVtYmVyID0gZXZlbnQuY2xpZW50WCAtIGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgIGNvbnN0IHNoaWZ0WTogbnVtYmVyID0gZXZlbnQuY2xpZW50WSAtIGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuXG4gICAgICBjb25zdCBoYW5kbGVQb2ludGVyTW92ZSA9IChuZXdFdmVudDogUG9pbnRlckV2ZW50KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdsZWZ0Jykge1xuICAgICAgICAgIHRoaXMudmlldy5oYW5kbGVMZWZ0SW5wdXQobmV3RXZlbnQuY2xpZW50WCwgbmV3RXZlbnQuY2xpZW50WSwgc2hpZnRYLCBzaGlmdFkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIHRoaXMudmlldy5oYW5kbGVSaWdodElucHV0KG5ld0V2ZW50LmNsaWVudFgsIG5ld0V2ZW50LmNsaWVudFksIHNoaWZ0WCwgc2hpZnRZKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgaGFuZGxlUG9pbnRlclVwID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGhhbmRsZVBvaW50ZXJNb3ZlKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgaGFuZGxlUG9pbnRlclVwKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgaGFuZGxlUG9pbnRlck1vdmUpO1xuICAgICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgaGFuZGxlUG9pbnRlclVwKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGF0dGFjaEV2ZW50SGFuZGxlcnMoKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCBUaHVtYi5oYW5kbGVQb2ludGVyT3Zlcik7XG4gICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm91dCcsIFRodW1iLmhhbmRsZVBvaW50ZXJPdXQpO1xuICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5oYW5kbGVQb2ludGVyRG93bi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBUaHVtYi5oYW5kbGVQb2ludGVyVXApO1xuICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIFRodW1iLmhhbmRsZURyYWdTdGFydCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGh1bWI7XG4iLCJpbXBvcnQgQmFzZUVsZW1lbnQgZnJvbSAnLi4vLi4vQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQnO1xuXG50eXBlIFZpZXdGb3JTY2FsZSA9IHtcbiAgZ2V0U2NhbGVJbnRlcnZhbHMoKTogbnVtYmVyLFxuICBoYW5kbGVTY2FsZU9yVHJhY2tDbGljayh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQsXG59O1xuXG5jbGFzcyBTY2FsZSBleHRlbmRzIEJhc2VFbGVtZW50PCdkaXYnPiB7XG4gIHByaXZhdGUgdmlldzogVmlld0ZvclNjYWxlO1xuXG4gIHByaXZhdGUgaW50ZXJ2YWxzOiBIVE1MRGl2RWxlbWVudFtdO1xuXG4gIHByaXZhdGUgdmFsdWVzOiBudW1iZXJbXTtcblxuICBwcml2YXRlIHZhbHVlRWxlbWVudHM6IEhUTUxTcGFuRWxlbWVudFtdO1xuXG4gIGNvbnN0cnVjdG9yKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgdmlldzogVmlld0ZvclNjYWxlKSB7XG4gICAgc3VwZXIoJ2RpdicsICdyYW5nZS1zbGlkZXJfX3NjYWxlJyk7XG5cbiAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgIHRoaXMuaW50ZXJ2YWxzID0gW107XG4gICAgdGhpcy52YWx1ZXMgPSBbXTtcbiAgICB0aGlzLnZhbHVlRWxlbWVudHMgPSBbXTtcblxuICAgIGNvbnN0IGludGVydmFsc051bWJlciA9IHZpZXcuZ2V0U2NhbGVJbnRlcnZhbHMoKTtcblxuICAgIHRoaXMuY3JlYXRlSW50ZXJ2YWxzKGludGVydmFsc051bWJlcik7XG4gICAgdGhpcy5hZGRNYXJrc0luSW50ZXJ2YWxzKGludGVydmFsc051bWJlcik7XG4gICAgdGhpcy5hZGRWYWx1ZXMobWluLCBtYXgsIGludGVydmFsc051bWJlcik7XG4gICAgdGhpcy5hdHRhY2hFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBmaXRXaWR0aEZvclZlcnRpY2FsKCk6IHZvaWQge1xuICAgIGxldCBtYXhXaWR0aCA9IDA7XG5cbiAgICB0aGlzLnZhbHVlRWxlbWVudHMuZm9yRWFjaCgodmFsdWVFbGVtZW50KSA9PiB7XG4gICAgICBpZiAodmFsdWVFbGVtZW50Lm9mZnNldFdpZHRoID4gbWF4V2lkdGgpIHtcbiAgICAgICAgbWF4V2lkdGggPSB2YWx1ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSBgJHttYXhXaWR0aCArIDN9cHhgO1xuICB9XG5cbiAgZml0SGVpZ2h0Rm9ySG9yaXpvbnRhbCgpOiB2b2lkIHtcbiAgICBsZXQgbWF4SGVpZ2h0ID0gMDtcblxuICAgIHRoaXMudmFsdWVFbGVtZW50cy5mb3JFYWNoKCh2YWx1ZUVsZW1lbnQpID0+IHtcbiAgICAgIGlmICh2YWx1ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0ID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgIG1heEhlaWdodCA9IHZhbHVlRWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5wYWRkaW5nQm90dG9tID0gYCR7bWF4SGVpZ2h0ICsgM31weGA7XG4gIH1cblxuICBoYW5kbGVTd2l0Y2hGcm9tSG9yaXpvbnRhbFRvVmVydGljYWwoKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUucGFkZGluZ0JvdHRvbSA9ICd1bnNldCc7XG4gICAgdGhpcy5maXRXaWR0aEZvclZlcnRpY2FsKCk7XG4gIH1cblxuICBoYW5kbGVTd2l0Y2hGcm9tVmVydGljYWxUb0hvcml6b250YWwoKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gJ3Vuc2V0JztcbiAgICB0aGlzLmZpdEhlaWdodEZvckhvcml6b250YWwoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlSW50ZXJ2YWxzKGludGVydmFsc051bWJlcjogbnVtYmVyKTogdm9pZCB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnRlcnZhbHNOdW1iZXI7IGkgKz0gMSkge1xuICAgICAgdGhpcy5pbnRlcnZhbHNbaV0gPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2RpdicsICdyYW5nZS1zbGlkZXJfX3NjYWxlLWludGVydmFsJyk7XG4gICAgICB0aGlzLmNvbXBvbmVudC5hcHBlbmQodGhpcy5pbnRlcnZhbHNbaV0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYWRkTWFya3NJbkludGVydmFscyhpbnRlcnZhbHNOdW1iZXI6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuaW50ZXJ2YWxzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGZyYWdtZW50ID0gbmV3IERvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgICAgaWYgKGludGVydmFsc051bWJlciA8IDI5KSB7XG4gICAgICAgIGZyYWdtZW50LmFwcGVuZChCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ3NwYW4nLCAncmFuZ2Utc2xpZGVyX19zY2FsZS1tYXJrJykpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW50ZXJ2YWxzTnVtYmVyIDwgMTUpIHtcbiAgICAgICAgZnJhZ21lbnQuYXBwZW5kKEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnc3BhbicsICdyYW5nZS1zbGlkZXJfX3NjYWxlLW1hcmsnKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbnRlcnZhbHNOdW1iZXIgPCA4KSB7XG4gICAgICAgIGZyYWdtZW50LmFwcGVuZChCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ3NwYW4nLCAncmFuZ2Utc2xpZGVyX19zY2FsZS1tYXJrJykpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW50ZXJ2YWxzTnVtYmVyIDwgNSkge1xuICAgICAgICBmcmFnbWVudC5hcHBlbmQoQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdzcGFuJywgJ3JhbmdlLXNsaWRlcl9fc2NhbGUtbWFyaycpKTtcbiAgICAgIH1cblxuICAgICAgaXRlbS5hcHBlbmQoZnJhZ21lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRWYWx1ZXMobWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBpbnRlcnZhbHNOdW1iZXI6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMudmFsdWVzWzBdID0gbWluO1xuICAgIGNvbnN0IHN0ZXAgPSBNYXRoLnJvdW5kKChtYXggLSBtaW4pIC8gaW50ZXJ2YWxzTnVtYmVyKTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgaW50ZXJ2YWxzTnVtYmVyOyBpICs9IDEpIHtcbiAgICAgIHRoaXMudmFsdWVzW2ldID0gaSAqIHN0ZXAgKyBtaW47XG4gICAgfVxuXG4gICAgdGhpcy52YWx1ZXMucHVzaChtYXgpO1xuXG4gICAgY29uc3QgdmFsdWVFbGVtZW50ID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdzcGFuJywgJ3JhbmdlLXNsaWRlcl9fc2NhbGUtaW50ZXJ2YWwtdmFsdWUgcmFuZ2Utc2xpZGVyX19zY2FsZS1pbnRlcnZhbC12YWx1ZV9taW4nKTtcbiAgICB2YWx1ZUVsZW1lbnQudGV4dENvbnRlbnQgPSBgJHt0aGlzLnZhbHVlc1swXX1gO1xuICAgIHRoaXMuaW50ZXJ2YWxzWzBdLmFwcGVuZCh2YWx1ZUVsZW1lbnQpO1xuICAgIHRoaXMudmFsdWVFbGVtZW50cy5wdXNoKHZhbHVlRWxlbWVudCk7XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMudmFsdWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBuZXdWYWx1ZUVsZW1lbnQgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ3NwYW4nLCAncmFuZ2Utc2xpZGVyX19zY2FsZS1pbnRlcnZhbC12YWx1ZScpO1xuICAgICAgbmV3VmFsdWVFbGVtZW50LnRleHRDb250ZW50ID0gYCR7dGhpcy52YWx1ZXNbaV19YDtcbiAgICAgIHRoaXMuaW50ZXJ2YWxzW2kgLSAxXS5hcHBlbmQobmV3VmFsdWVFbGVtZW50KTtcbiAgICAgIHRoaXMudmFsdWVFbGVtZW50cy5wdXNoKG5ld1ZhbHVlRWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVDbGljayhldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IHg6IG51bWJlciA9IGV2ZW50LmNsaWVudFggLSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICBjb25zdCB5OiBudW1iZXIgPSBldmVudC5jbGllbnRZIC0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG5cbiAgICAgIHRoaXMudmlldy5oYW5kbGVTY2FsZU9yVHJhY2tDbGljayh4LCB5KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGF0dGFjaEV2ZW50SGFuZGxlcnMoKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcykpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjYWxlO1xuIiwiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uLy4uL0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50JztcblxuY2xhc3MgTGFiZWxzQ29udGFpbmVyIGV4dGVuZHMgQmFzZUVsZW1lbnQ8J2Rpdic+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ2RpdicsICdyYW5nZS1zbGlkZXJfX2xhYmVscy1jb250YWluZXInKTtcbiAgfVxuXG4gIGFwcGVuZCguLi5lbGVtZW50czogSFRNTEVsZW1lbnRbXSk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZCguLi5lbGVtZW50cyk7XG4gIH1cblxuICBmaXhXaWR0aEZvclZlcnRpY2FsKGxhYmVsczogSFRNTEVsZW1lbnRbXSwgaW5kZW50OiBudW1iZXIgPSA0KTogdm9pZCB7XG4gICAgbGV0IG1heFdpZHRoID0gMDtcblxuICAgIGxhYmVscy5mb3JFYWNoKChsYWJlbCkgPT4ge1xuICAgICAgaWYgKGxhYmVsLm9mZnNldFdpZHRoID4gbWF4V2lkdGgpIHtcbiAgICAgICAgbWF4V2lkdGggPSBsYWJlbC5vZmZzZXRXaWR0aDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLnBhZGRpbmdMZWZ0ID0gYCR7bWF4V2lkdGggKyBpbmRlbnR9cHhgO1xuICB9XG5cbiAgZml4SGVpZ2h0Rm9ySG9yaXpvbnRhbChsYWJlbHM6IEhUTUxFbGVtZW50W10sIGluZGVudDogbnVtYmVyID0gNCk6IHZvaWQge1xuICAgIGxldCBtYXhIZWlnaHQgPSAwO1xuXG4gICAgbGFiZWxzLmZvckVhY2goKGxhYmVsKSA9PiB7XG4gICAgICBpZiAobGFiZWwub2Zmc2V0SGVpZ2h0ID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgIG1heEhlaWdodCA9IGxhYmVsLm9mZnNldEhlaWdodDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLnBhZGRpbmdUb3AgPSBgJHttYXhIZWlnaHQgKyBpbmRlbnR9cHhgO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExhYmVsc0NvbnRhaW5lcjtcbiIsImltcG9ydCBCYXNlRWxlbWVudCBmcm9tICcuLi8uLi9CYXNlRWxlbWVudC9CYXNlRWxlbWVudCc7XG5cbmNsYXNzIExhYmVsIGV4dGVuZHMgQmFzZUVsZW1lbnQ8J2Rpdic+IHtcbiAgY29uc3RydWN0b3IoY2xhc3NOYW1lPzogc3RyaW5nKSB7XG4gICAgc3VwZXIoJ2RpdicsIGNsYXNzTmFtZSk7XG4gIH1cblxuICBzZXRPcGFjaXR5KHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5vcGFjaXR5ID0gYCR7dmFsdWV9YDtcbiAgfVxuXG4gIHNldFZhbHVlKHZhbHVlOiBudW1iZXIgfCBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC50ZXh0Q29udGVudCA9IGAke3ZhbHVlfWA7XG4gIH1cblxuICBnZXRWYWx1ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiBOdW1iZXIodGhpcy5jb21wb25lbnQudGV4dENvbnRlbnQpO1xuICB9XG5cbiAgZ2V0TGVmdEluZGVudCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5zdHlsZS5sZWZ0O1xuICB9XG5cbiAgZ2V0VG9wSW5kZW50KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LnN0eWxlLnRvcDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMYWJlbDtcbiIsImltcG9ydCBCYXNlRWxlbWVudCBmcm9tICcuLi8uLi9CYXNlRWxlbWVudC9CYXNlRWxlbWVudCc7XG5cbmNsYXNzIElucHV0IGV4dGVuZHMgQmFzZUVsZW1lbnQ8J2lucHV0Jz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignaW5wdXQnLCAncmFuZ2Utc2xpZGVyX19pbnB1dCcpO1xuICAgIHRoaXMuc2V0QXR0cmlidXRlcygpO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWUxOiBudW1iZXIsIHZhbHVlMjogbnVtYmVyIHwgbnVsbCA9IG51bGwpOiB2b2lkIHtcbiAgICBpZiAodmFsdWUyID09PSBudWxsKSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC52YWx1ZSA9IGAke3ZhbHVlMX1gO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC52YWx1ZSA9IGAke3ZhbHVlMX0gLSAke3ZhbHVlMn1gO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2V0QXR0cmlidXRlcygpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC50eXBlID0gJ3RleHQnO1xuICAgIHRoaXMuY29tcG9uZW50LnRhYkluZGV4ID0gLTE7XG4gICAgdGhpcy5jb21wb25lbnQucmVhZE9ubHkgPSB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IElucHV0O1xuIiwiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uLy4uL0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50JztcblxudHlwZSBQYW5lbE9wdGlvbnMgPSB7XG4gIG1pbjogbnVtYmVyLFxuICBtYXg6IG51bWJlcixcbiAgc3RlcDogbnVtYmVyLFxuICBmcm9tOiBudW1iZXIsXG4gIHRvOiBudW1iZXIgfCBudWxsLFxuICB2ZXJ0aWNhbDogYm9vbGVhbixcbiAgcmFuZ2U6IGJvb2xlYW4sXG4gIHNjYWxlOiBib29sZWFuLFxuICBzY2FsZUludGVydmFsczogbnVtYmVyLFxuICB2YWx1ZUxhYmVsczogYm9vbGVhbixcbiAgbWluTWF4TGFiZWxzOiBib29sZWFuXG59O1xuXG50eXBlIFZpZXdGb3JQYW5lbCA9IHtcbiAgaXNSYW5nZSgpOiBib29sZWFuLFxuICBjaGFuZ2VNaW5Gcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCxcbiAgY2hhbmdlTWF4RnJvbU91dHNpZGUodmFsdWU6IG51bWJlcik6IHZvaWQsXG4gIGNoYW5nZVN0ZXBGcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCxcbiAgY2hhbmdlTGVmdFZhbHVlRnJvbU91dHNpZGUodmFsdWU6IG51bWJlcik6IHZvaWQsXG4gIGNoYW5nZVJpZ2h0VmFsdWVGcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCxcbiAgY2hhbmdlT3JpZW50YXRpb25Gcm9tT3V0c2lkZSgpOiB2b2lkLFxuICB0b2dnbGVSYW5nZUZyb21PdXRzaWRlKCk6IHZvaWQsXG4gIHRvZ2dsZVNjYWxlRnJvbU91dHNpZGUoKTogdm9pZCxcbiAgY2hhbmdlU2NhbGVJbnRlcnZhbHModmFsdWU6IG51bWJlcik6IHZvaWQsXG4gIHRvZ2dsZVZhbHVlTGFiZWxzKCk6IHZvaWQsXG4gIHRvZ2dsZU1pbk1heExhYmVscygpOiB2b2lkLFxufTtcblxuY2xhc3MgUGFuZWwgZXh0ZW5kcyBCYXNlRWxlbWVudDwnZm9ybSc+IHtcbiAgcHJpdmF0ZSB2aWV3OiBWaWV3Rm9yUGFuZWw7XG5cbiAgcHJpdmF0ZSBtaW46IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBtYXg6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBzdGVwOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHByaXZhdGUgZnJvbTogSFRNTElucHV0RWxlbWVudDtcblxuICBwcml2YXRlIHRvOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHByaXZhdGUgdmVydGljYWw6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSByYW5nZTogSFRNTElucHV0RWxlbWVudDtcblxuICBwcml2YXRlIHNjYWxlOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHByaXZhdGUgc2NhbGVJbnRlcnZhbHM6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSB2YWx1ZUxhYmVsczogSFRNTElucHV0RWxlbWVudDtcblxuICBwcml2YXRlIG1pbk1heExhYmVsczogSFRNTElucHV0RWxlbWVudDtcblxuICBjb25zdHJ1Y3Rvcih2aWV3OiBWaWV3Rm9yUGFuZWwpIHtcbiAgICBzdXBlcignZm9ybScsICdwYW5lbCcpO1xuXG4gICAgdGhpcy52aWV3ID0gdmlldztcblxuICAgIHRoaXMubWluID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fbWluIHBhbmVsX19pbnB1dCcpO1xuICAgIHRoaXMubWF4ID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fbWF4IHBhbmVsX19pbnB1dCcpO1xuICAgIHRoaXMuc3RlcCA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX3N0ZXAgcGFuZWxfX2lucHV0Jyk7XG4gICAgdGhpcy5mcm9tID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fZnJvbSBwYW5lbF9faW5wdXQnKTtcbiAgICB0aGlzLnRvID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fdG8gcGFuZWxfX2lucHV0Jyk7XG5cbiAgICB0aGlzLnZlcnRpY2FsID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fdmVydGljYWwgcGFuZWxfX2NoZWNrYm94Jyk7XG4gICAgdGhpcy5yYW5nZSA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX3JhbmdlIHBhbmVsX19jaGVja2JveCcpO1xuICAgIHRoaXMuc2NhbGUgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX19zY2FsZSBwYW5lbF9fY2hlY2tib3gnKTtcbiAgICB0aGlzLnNjYWxlSW50ZXJ2YWxzID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fc2NhbGUtaW50ZXJ2YWxzIHBhbmVsX19pbnB1dCcpO1xuICAgIHRoaXMudmFsdWVMYWJlbHMgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX192YWx1ZS1sYWJlbHMgcGFuZWxfX2NoZWNrYm94Jyk7XG4gICAgdGhpcy5taW5NYXhMYWJlbHMgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX19taW4tbWF4LWxhYmVscyBwYW5lbF9fY2hlY2tib3gnKTtcblxuICAgIHRoaXMucmVuZGVyKCk7XG4gICAgdGhpcy5hdHRhY2hFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBzZXRWYWx1ZXMob3B0aW9uczogUGFuZWxPcHRpb25zKTogdm9pZCB7XG4gICAgdGhpcy5taW4udmFsdWUgPSBgJHtvcHRpb25zLm1pbn1gO1xuICAgIHRoaXMubWF4LnZhbHVlID0gYCR7b3B0aW9ucy5tYXh9YDtcbiAgICB0aGlzLnN0ZXAudmFsdWUgPSBgJHtvcHRpb25zLnN0ZXB9YDtcbiAgICB0aGlzLmZyb20udmFsdWUgPSBgJHtvcHRpb25zLmZyb219YDtcbiAgICB0aGlzLnRvLnZhbHVlID0gb3B0aW9ucy50byAhPT0gbnVsbCA/IGAke29wdGlvbnMudG99YCA6ICcnO1xuICAgIHRoaXMudmVydGljYWwuY2hlY2tlZCA9IG9wdGlvbnMudmVydGljYWw7XG4gICAgdGhpcy5yYW5nZS5jaGVja2VkID0gb3B0aW9ucy5yYW5nZTtcbiAgICB0aGlzLnNjYWxlLmNoZWNrZWQgPSBvcHRpb25zLnNjYWxlO1xuICAgIHRoaXMuc2NhbGVJbnRlcnZhbHMudmFsdWUgPSBgJHtvcHRpb25zLnNjYWxlSW50ZXJ2YWxzfWA7XG4gICAgdGhpcy52YWx1ZUxhYmVscy5jaGVja2VkID0gb3B0aW9ucy52YWx1ZUxhYmVscztcbiAgICB0aGlzLm1pbk1heExhYmVscy5jaGVja2VkID0gb3B0aW9ucy5taW5NYXhMYWJlbHM7XG5cbiAgICB0aGlzLnNldENoZWNrTWFya3MoKTtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZXMob3B0aW9ucyk7XG4gIH1cblxuICB1cGRhdGVGcm9tKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmZyb20udmFsdWUgPSBgJHt2YWx1ZX1gO1xuICAgIHRoaXMudXBkYXRlQXR0cmlidXRlc0FmdGVyRnJvbUNoYW5nZSgpO1xuICB9XG5cbiAgdXBkYXRlVG8odmFsdWU6IG51bWJlciB8ICcnKTogdm9pZCB7XG4gICAgdGhpcy50by52YWx1ZSA9IGAke3ZhbHVlfWA7XG4gICAgdGhpcy51cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJUb0NoYW5nZSgpO1xuICB9XG5cbiAgdXBkYXRlU3RlcCh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5zdGVwLnZhbHVlID0gYCR7dmFsdWV9YDtcbiAgICB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXNBZnRlclN0ZXBDaGFuZ2UoKTtcbiAgfVxuXG4gIHVwZGF0ZU1pbih2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5taW4udmFsdWUgPSBgJHt2YWx1ZX1gO1xuICAgIHRoaXMudXBkYXRlQXR0cmlidXRlc0FmdGVyTWluQ2hhbmdlKCk7XG4gIH1cblxuICB1cGRhdGVNYXgodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubWF4LnZhbHVlID0gYCR7dmFsdWV9YDtcbiAgICB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXNBZnRlck1heENoYW5nZSgpO1xuICB9XG5cbiAgdXBkYXRlU2NhbGVJbnRlcnZhbHModmFsdWU6IG51bWJlciB8ICcnKTogdm9pZCB7XG4gICAgdGhpcy5zY2FsZUludGVydmFscy52YWx1ZSA9IGAke3ZhbHVlfWA7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBhZGRMYWJlbChcbiAgICBpbnB1dDogSFRNTElucHV0RWxlbWVudCwgbmFtZTogc3RyaW5nLCBjbGFzc05hbWU/OiBzdHJpbmcsXG4gICk6IEhUTUxMYWJlbEVsZW1lbnQge1xuICAgIGNvbnN0IGxhYmVsOiBIVE1MTGFiZWxFbGVtZW50ID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdsYWJlbCcsICdwYW5lbF9fbGFiZWwnKTtcbiAgICBsYWJlbC50ZXh0Q29udGVudCA9IG5hbWU7XG5cbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgbGFiZWwuYXBwZW5kKGlucHV0KTtcblxuICAgIHJldHVybiBsYWJlbDtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGNhbGNTdGVwTWluKHN0ZXA6IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKE51bWJlci5pc0ludGVnZXIoc3RlcCkpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIGNvbnN0IG51bWJlck9mU3ltYm9sc0FmdGVyQ29tbWEgPSBzdGVwLnRvU3RyaW5nKCkuc3BsaXQoJy4nKVsxXS5sZW5ndGg7XG4gICAgbGV0IHJlc3VsdDogc3RyaW5nID0gJzEnO1xuXG4gICAgZm9yIChsZXQgaSA9IG51bWJlck9mU3ltYm9sc0FmdGVyQ29tbWE7IGkgPiAxOyBpIC09IDEpIHtcbiAgICAgIHJlc3VsdCA9IGAwJHtyZXN1bHR9YDtcbiAgICB9XG5cbiAgICByZXN1bHQgPSBgMC4ke3Jlc3VsdH1gO1xuXG4gICAgcmV0dXJuIE51bWJlcihyZXN1bHQpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgdG9nZ2xlQ2hlY2tib3goaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCBsYWJlbDogSFRNTExhYmVsRWxlbWVudCB8IG51bGwgPSBpbnB1dC5jbG9zZXN0KCdsYWJlbCcpO1xuICAgIGxhYmVsPy5jbGFzc0xpc3QudG9nZ2xlKCdwYW5lbF9fbGFiZWxfZm9yLWNoZWNrYm94X2NoZWNrZWQnKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyKCk6IHZvaWQge1xuICAgIHRoaXMuc2V0VHlwZXMoKTtcbiAgICB0aGlzLmNvbXBvbmVudC5hcHBlbmQoXG4gICAgICBQYW5lbC5hZGRMYWJlbCh0aGlzLnJhbmdlLCAnUmFuZ2U6JywgJ3BhbmVsX19sYWJlbF9mb3ItY2hlY2tib3gnKSxcbiAgICAgIFBhbmVsLmFkZExhYmVsKHRoaXMudmVydGljYWwsICdWZXJ0aWNhbDonLCAncGFuZWxfX2xhYmVsX2Zvci1jaGVja2JveCcpLFxuICAgICAgUGFuZWwuYWRkTGFiZWwodGhpcy52YWx1ZUxhYmVscywgJ1ZhbHVlIGxhYmVsczonLCAncGFuZWxfX2xhYmVsX2Zvci1jaGVja2JveCcpLFxuICAgICAgUGFuZWwuYWRkTGFiZWwodGhpcy5taW5NYXhMYWJlbHMsICdNaW4mbWF4IGxhYmVsczonLCAncGFuZWxfX2xhYmVsX2Zvci1jaGVja2JveCcpLFxuICAgICAgUGFuZWwuYWRkTGFiZWwodGhpcy5zY2FsZSwgJ1NjYWxlOicsICdwYW5lbF9fbGFiZWxfZm9yLWNoZWNrYm94JyksXG4gICAgICBQYW5lbC5hZGRMYWJlbCh0aGlzLnNjYWxlSW50ZXJ2YWxzLCAnU2NhbGUgaW50ZXJ2YWxzOicpLFxuICAgICAgUGFuZWwuYWRkTGFiZWwodGhpcy5taW4sICdNaW46JyksXG4gICAgICBQYW5lbC5hZGRMYWJlbCh0aGlzLm1heCwgJ01heDonKSxcbiAgICAgIFBhbmVsLmFkZExhYmVsKHRoaXMuZnJvbSwgJ0Zyb206JyksXG4gICAgICBQYW5lbC5hZGRMYWJlbCh0aGlzLnRvLCAnVG86JyksXG4gICAgICBQYW5lbC5hZGRMYWJlbCh0aGlzLnN0ZXAsICdTdGVwOicpLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHNldFR5cGVzKCk6IHZvaWQge1xuICAgIHRoaXMubWluLnR5cGUgPSAnbnVtYmVyJztcbiAgICB0aGlzLm1heC50eXBlID0gJ251bWJlcic7XG4gICAgdGhpcy5zdGVwLnR5cGUgPSAnbnVtYmVyJztcbiAgICB0aGlzLmZyb20udHlwZSA9ICdudW1iZXInO1xuICAgIHRoaXMudG8udHlwZSA9ICdudW1iZXInO1xuICAgIHRoaXMudmVydGljYWwudHlwZSA9ICdjaGVja2JveCc7XG4gICAgdGhpcy5yYW5nZS50eXBlID0gJ2NoZWNrYm94JztcbiAgICB0aGlzLnNjYWxlLnR5cGUgPSAnY2hlY2tib3gnO1xuICAgIHRoaXMuc2NhbGVJbnRlcnZhbHMudHlwZSA9ICdudW1iZXInO1xuICAgIHRoaXMudmFsdWVMYWJlbHMudHlwZSA9ICdjaGVja2JveCc7XG4gICAgdGhpcy5taW5NYXhMYWJlbHMudHlwZSA9ICdjaGVja2JveCc7XG4gIH1cblxuICBwcml2YXRlIHNldEF0dHJpYnV0ZXMob3B0aW9uczogUGFuZWxPcHRpb25zKTogdm9pZCB7XG4gICAgdGhpcy5mcm9tLm1pbiA9IGAke29wdGlvbnMubWlufWA7XG4gICAgdGhpcy5mcm9tLm1heCA9IG9wdGlvbnMucmFuZ2UgPyBgJHtvcHRpb25zLnRvfWAgOiBgJHtvcHRpb25zLm1heH1gO1xuXG4gICAgdGhpcy50by5taW4gPSBgJHtvcHRpb25zLmZyb219YDtcbiAgICB0aGlzLnRvLm1heCA9IGAke29wdGlvbnMubWF4fWA7XG5cbiAgICB0aGlzLmZyb20uc3RlcCA9IGAke29wdGlvbnMuc3RlcH1gO1xuICAgIHRoaXMudG8uc3RlcCA9IGAke29wdGlvbnMuc3RlcH1gO1xuXG4gICAgdGhpcy5taW4uc3RlcCA9IGAke29wdGlvbnMuc3RlcH1gO1xuICAgIHRoaXMubWF4LnN0ZXAgPSBgJHtvcHRpb25zLnN0ZXB9YDtcblxuICAgIHRoaXMubWluLm1heCA9IGAke29wdGlvbnMuZnJvbX1gO1xuICAgIHRoaXMubWF4Lm1pbiA9IG9wdGlvbnMucmFuZ2UgPyBgJHtvcHRpb25zLnRvfWAgOiBgJHtvcHRpb25zLmZyb219YDtcblxuICAgIHRoaXMuc3RlcC5taW4gPSBgJHtQYW5lbC5jYWxjU3RlcE1pbihvcHRpb25zLnN0ZXApfWA7XG4gICAgdGhpcy5zdGVwLnN0ZXAgPSB0aGlzLnN0ZXAubWluO1xuICAgIHRoaXMuc3RlcC5tYXggPSBgJHtNYXRoLmFicyhvcHRpb25zLm1heCAtIG9wdGlvbnMubWluKX1gO1xuXG4gICAgaWYgKCFvcHRpb25zLnJhbmdlKSB7XG4gICAgICB0aGlzLnRvLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLnNjYWxlSW50ZXJ2YWxzLm1pbiA9ICcxJztcblxuICAgIGlmICghb3B0aW9ucy5zY2FsZSkge1xuICAgICAgdGhpcy5zY2FsZUludGVydmFscy5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZXRDaGVja01hcmtzKCk6IHZvaWQge1xuICAgIGNvbnN0IGNoZWNrYm94ZXMgPSBbXG4gICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICAgdGhpcy5yYW5nZSxcbiAgICAgIHRoaXMuc2NhbGUsXG4gICAgICB0aGlzLnZhbHVlTGFiZWxzLFxuICAgICAgdGhpcy5taW5NYXhMYWJlbHMsXG4gICAgXTtcbiAgICBjaGVja2JveGVzLmZvckVhY2goKGNoZWNrYm94KSA9PiB7XG4gICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgICBQYW5lbC50b2dnbGVDaGVja2JveChjaGVja2JveCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUF0dHJpYnV0ZXNBZnRlckZyb21DaGFuZ2UoKTogdm9pZCB7XG4gICAgdGhpcy5taW4ubWF4ID0gdGhpcy5mcm9tLnZhbHVlO1xuXG4gICAgaWYgKHRoaXMudmlldy5pc1JhbmdlKCkpIHtcbiAgICAgIHRoaXMudG8ubWluID0gdGhpcy5mcm9tLnZhbHVlO1xuICAgIH1cblxuICAgIGlmICghdGhpcy52aWV3LmlzUmFuZ2UoKSkge1xuICAgICAgdGhpcy5tYXgubWluID0gdGhpcy5mcm9tLnZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQXR0cmlidXRlc0FmdGVyVG9DaGFuZ2UoKTogdm9pZCB7XG4gICAgdGhpcy5mcm9tLm1heCA9IHRoaXMudG8udmFsdWU7XG4gICAgdGhpcy5tYXgubWluID0gdGhpcy50by52YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQXR0cmlidXRlc0FmdGVyU3RlcENoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnN0ZXAubWluID0gYCR7UGFuZWwuY2FsY1N0ZXBNaW4oTnVtYmVyKHRoaXMuc3RlcC52YWx1ZSkpfWA7XG4gICAgdGhpcy5zdGVwLnN0ZXAgPSBgJHtQYW5lbC5jYWxjU3RlcE1pbihOdW1iZXIodGhpcy5zdGVwLnZhbHVlKSl9YDtcblxuICAgIHRoaXMuZnJvbS5zdGVwID0gdGhpcy5zdGVwLnZhbHVlO1xuICAgIHRoaXMudG8uc3RlcCA9IHRoaXMuc3RlcC52YWx1ZTtcbiAgICB0aGlzLm1pbi5zdGVwID0gdGhpcy5zdGVwLnZhbHVlO1xuICAgIHRoaXMubWF4LnN0ZXAgPSB0aGlzLnN0ZXAudmFsdWU7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUF0dHJpYnV0ZXNBZnRlck1pbkNoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLmZyb20ubWluID0gdGhpcy5taW4udmFsdWU7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUF0dHJpYnV0ZXNBZnRlck1heENoYW5nZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudmlldy5pc1JhbmdlKCkpIHtcbiAgICAgIHRoaXMuZnJvbS5tYXggPSB0aGlzLm1heC52YWx1ZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWV3LmlzUmFuZ2UoKSkge1xuICAgICAgdGhpcy50by5tYXggPSB0aGlzLm1heC52YWx1ZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1pbkNoYW5nZSgpOiB2b2lkIHtcbiAgICBpZiAoTnVtYmVyKHRoaXMubWluLnZhbHVlKSA+IE51bWJlcih0aGlzLmZyb20udmFsdWUpKSB7XG4gICAgICB0aGlzLm1pbi52YWx1ZSA9IHRoaXMuZnJvbS52YWx1ZTtcbiAgICB9XG5cbiAgICB0aGlzLnZpZXcuY2hhbmdlTWluRnJvbU91dHNpZGUoTnVtYmVyKHRoaXMubWluLnZhbHVlKSk7XG4gICAgdGhpcy5zdGVwLm1heCA9IGAke01hdGguYWJzKE51bWJlcih0aGlzLm1heC52YWx1ZSkgLSBOdW1iZXIodGhpcy5taW4udmFsdWUpKX1gO1xuICAgIHRoaXMudXBkYXRlQXR0cmlidXRlc0FmdGVyTWluQ2hhbmdlKCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1heENoYW5nZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudmlldy5pc1JhbmdlKCkpIHtcbiAgICAgIGlmIChOdW1iZXIodGhpcy5tYXgudmFsdWUpIDwgTnVtYmVyKHRoaXMuZnJvbS52YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5tYXgudmFsdWUgPSB0aGlzLmZyb20udmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmlldy5pc1JhbmdlKCkpIHtcbiAgICAgIGlmIChOdW1iZXIodGhpcy5tYXgudmFsdWUpIDwgTnVtYmVyKHRoaXMudG8udmFsdWUpKSB7XG4gICAgICAgIHRoaXMubWF4LnZhbHVlID0gdGhpcy50by52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnZpZXcuY2hhbmdlTWF4RnJvbU91dHNpZGUoTnVtYmVyKHRoaXMubWF4LnZhbHVlKSk7XG4gICAgdGhpcy5zdGVwLm1heCA9IGAke01hdGguYWJzKE51bWJlcih0aGlzLm1heC52YWx1ZSkgLSBOdW1iZXIodGhpcy5taW4udmFsdWUpKX1gO1xuICAgIHRoaXMudXBkYXRlQXR0cmlidXRlc0FmdGVyTWF4Q2hhbmdlKCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVN0ZXBDaGFuZ2UoKTogdm9pZCB7XG4gICAgaWYgKE51bWJlcih0aGlzLnN0ZXAudmFsdWUpID4gTnVtYmVyKHRoaXMuc3RlcC5tYXgpKSB7XG4gICAgICB0aGlzLnN0ZXAudmFsdWUgPSB0aGlzLnN0ZXAubWF4O1xuICAgIH1cblxuICAgIGlmIChOdW1iZXIodGhpcy5zdGVwLnZhbHVlKSA8PSAwKSB7XG4gICAgICB0aGlzLnN0ZXAudmFsdWUgPSB0aGlzLnN0ZXAubWluO1xuICAgIH1cblxuICAgIHRoaXMudmlldy5jaGFuZ2VTdGVwRnJvbU91dHNpZGUoTnVtYmVyKHRoaXMuc3RlcC52YWx1ZSkpO1xuICAgIHRoaXMudXBkYXRlQXR0cmlidXRlc0FmdGVyU3RlcENoYW5nZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVGcm9tQ2hhbmdlKCk6IHZvaWQge1xuICAgIGlmIChOdW1iZXIodGhpcy5mcm9tLnZhbHVlKSA+IE51bWJlcih0aGlzLmZyb20ubWF4KSkge1xuICAgICAgdGhpcy5mcm9tLnZhbHVlID0gdGhpcy5mcm9tLm1heDtcbiAgICB9XG5cbiAgICBpZiAoTnVtYmVyKHRoaXMuZnJvbS52YWx1ZSkgPCBOdW1iZXIodGhpcy5mcm9tLm1pbikpIHtcbiAgICAgIHRoaXMuZnJvbS52YWx1ZSA9IHRoaXMuZnJvbS5taW47XG4gICAgfVxuXG4gICAgdGhpcy52aWV3LmNoYW5nZUxlZnRWYWx1ZUZyb21PdXRzaWRlKE51bWJlcih0aGlzLmZyb20udmFsdWUpKTtcbiAgICB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXNBZnRlckZyb21DaGFuZ2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVG9DaGFuZ2UoKTogdm9pZCB7XG4gICAgaWYgKE51bWJlcih0aGlzLnRvLnZhbHVlKSA+IE51bWJlcih0aGlzLnRvLm1heCkpIHtcbiAgICAgIHRoaXMudG8udmFsdWUgPSB0aGlzLnRvLm1heDtcbiAgICB9XG5cbiAgICBpZiAoTnVtYmVyKHRoaXMudG8udmFsdWUpIDwgTnVtYmVyKHRoaXMudG8ubWluKSkge1xuICAgICAgdGhpcy50by52YWx1ZSA9IHRoaXMudG8ubWluO1xuICAgIH1cblxuICAgIHRoaXMudmlldy5jaGFuZ2VSaWdodFZhbHVlRnJvbU91dHNpZGUoTnVtYmVyKHRoaXMudG8udmFsdWUpKTtcbiAgICB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXNBZnRlclRvQ2hhbmdlKCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZlcnRpY2FsQ2hhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMudmlldy5jaGFuZ2VPcmllbnRhdGlvbkZyb21PdXRzaWRlKCk7XG4gICAgUGFuZWwudG9nZ2xlQ2hlY2tib3godGhpcy52ZXJ0aWNhbCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVJhbmdlQ2hhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMudmlldy50b2dnbGVSYW5nZUZyb21PdXRzaWRlKCk7XG5cbiAgICB0aGlzLnRvLmRpc2FibGVkID0gIXRoaXMudG8uZGlzYWJsZWQ7XG5cbiAgICBpZiAodGhpcy5yYW5nZS5jaGVja2VkKSB7XG4gICAgICB0aGlzLmZyb20ubWF4ID0gdGhpcy50by52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mcm9tLm1heCA9IHRoaXMubWF4LnZhbHVlO1xuICAgIH1cblxuICAgIFBhbmVsLnRvZ2dsZUNoZWNrYm94KHRoaXMucmFuZ2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVTY2FsZUNoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXcudG9nZ2xlU2NhbGVGcm9tT3V0c2lkZSgpO1xuXG4gICAgdGhpcy5zY2FsZUludGVydmFscy5kaXNhYmxlZCA9ICF0aGlzLnNjYWxlSW50ZXJ2YWxzLmRpc2FibGVkO1xuXG4gICAgUGFuZWwudG9nZ2xlQ2hlY2tib3godGhpcy5zY2FsZSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVNjYWxlSW50ZXJ2YWxzQ2hhbmdlKCk6IHZvaWQge1xuICAgIGlmIChOdW1iZXIodGhpcy5zY2FsZUludGVydmFscy52YWx1ZSkgPCBOdW1iZXIodGhpcy5zY2FsZUludGVydmFscy5taW4pKSB7XG4gICAgICB0aGlzLnNjYWxlSW50ZXJ2YWxzLnZhbHVlID0gdGhpcy5zY2FsZUludGVydmFscy5taW47XG4gICAgfVxuXG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHRoaXMuc2NhbGVJbnRlcnZhbHMudmFsdWUpKSB7XG4gICAgICB0aGlzLnNjYWxlSW50ZXJ2YWxzLnZhbHVlID0gYCR7TWF0aC5mbG9vcihOdW1iZXIodGhpcy5zY2FsZUludGVydmFscy52YWx1ZSkpfWA7XG4gICAgfVxuXG4gICAgdGhpcy52aWV3LmNoYW5nZVNjYWxlSW50ZXJ2YWxzKE51bWJlcih0aGlzLnNjYWxlSW50ZXJ2YWxzLnZhbHVlKSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZhbHVlTGFiZWxzQ2hhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMudmlldy50b2dnbGVWYWx1ZUxhYmVscygpO1xuICAgIFBhbmVsLnRvZ2dsZUNoZWNrYm94KHRoaXMudmFsdWVMYWJlbHMpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNaW5NYXhMYWJlbHNDaGFuZ2UoKTogdm9pZCB7XG4gICAgdGhpcy52aWV3LnRvZ2dsZU1pbk1heExhYmVscygpO1xuICAgIFBhbmVsLnRvZ2dsZUNoZWNrYm94KHRoaXMubWluTWF4TGFiZWxzKTtcbiAgfVxuXG4gIHByaXZhdGUgYXR0YWNoRXZlbnRIYW5kbGVycygpOiB2b2lkIHtcbiAgICB0aGlzLm1pbi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZU1pbkNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLm1heC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZU1heENoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnN0ZXAuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVTdGVwQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZnJvbS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZUZyb21DaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy50by5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZVRvQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMudmVydGljYWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVWZXJ0aWNhbENoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlUmFuZ2VDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5zY2FsZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZVNjYWxlQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2NhbGVJbnRlcnZhbHMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVTY2FsZUludGVydmFsc0NoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnZhbHVlTGFiZWxzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlVmFsdWVMYWJlbHNDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5taW5NYXhMYWJlbHMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVNaW5NYXhMYWJlbHNDaGFuZ2UuYmluZCh0aGlzKSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgUGFuZWxPcHRpb25zLCBQYW5lbCB9O1xuIiwiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4vQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQnO1xuaW1wb3J0IFRyYWNrIGZyb20gJy4vc3Vidmlld3MvVHJhY2svVHJhY2snO1xuaW1wb3J0IFJhbmdlIGZyb20gJy4vc3Vidmlld3MvUmFuZ2UvUmFuZ2UnO1xuaW1wb3J0IFRodW1iIGZyb20gJy4vc3Vidmlld3MvVGh1bWIvVGh1bWInO1xuaW1wb3J0IFNjYWxlIGZyb20gJy4vc3Vidmlld3MvU2NhbGUvU2NhbGUnO1xuaW1wb3J0IExhYmVsc0NvbnRhaW5lciBmcm9tICcuL3N1YnZpZXdzL0xhYmVsc0NvbnRhaW5lci9MYWJlbHNDb250YWluZXInO1xuaW1wb3J0IExhYmVsIGZyb20gJy4vc3Vidmlld3MvTGFiZWwvTGFiZWwnO1xuaW1wb3J0IElucHV0IGZyb20gJy4vc3Vidmlld3MvSW5wdXQvSW5wdXQnO1xuaW1wb3J0IHsgUGFuZWwsIFBhbmVsT3B0aW9ucyB9IGZyb20gJy4vc3Vidmlld3MvUGFuZWwvUGFuZWwnO1xuaW1wb3J0IHsgRXZlbnRNYW5hZ2VyLCBJRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4uL0V2ZW50TWFuYWdlci9FdmVudE1hbmFnZXInO1xuXG50eXBlIFZpZXdPcHRpb25zID0ge1xuICBtaW5NYXhMYWJlbHM/OiBib29sZWFuLFxuICB2YWx1ZUxhYmVscz86IGJvb2xlYW4sXG4gIHZlcnRpY2FsPzogYm9vbGVhbixcbiAgcmFuZ2U/OiBib29sZWFuLFxuICBzY2FsZT86IGJvb2xlYW4sXG4gIHNjYWxlSW50ZXJ2YWxzPzogbnVtYmVyLFxuICBwYW5lbD86IGJvb2xlYW5cbn07XG5cbmNsYXNzIFZpZXcgZXh0ZW5kcyBCYXNlRWxlbWVudDwnZGl2Jz4ge1xuICBwcml2YXRlIGV2ZW50TWFuYWdlcjogRXZlbnRNYW5hZ2VyO1xuXG4gIHByaXZhdGUgc2xpZGVyOiBIVE1MRGl2RWxlbWVudDtcblxuICBwcml2YXRlIHRyYWNrOiBUcmFjaztcblxuICBwcml2YXRlIHJhbmdlOiBSYW5nZTtcblxuICBwcml2YXRlIGlucHV0OiBJbnB1dDtcblxuICBwcml2YXRlIHRodW1iTGVmdDogVGh1bWI7XG5cbiAgcHJpdmF0ZSB0aHVtYlJpZ2h0PzogVGh1bWI7XG5cbiAgcHJpdmF0ZSBzY2FsZT86IFNjYWxlO1xuXG4gIHByaXZhdGUgc2NhbGVJbnRlcnZhbHM6IG51bWJlcjtcblxuICBwcml2YXRlIG1pbkxhYmVsPzogTGFiZWw7XG5cbiAgcHJpdmF0ZSBtYXhMYWJlbD86IExhYmVsO1xuXG4gIHByaXZhdGUgdmFsdWVMYWJlbExlZnQ/OiBMYWJlbDtcblxuICBwcml2YXRlIHZhbHVlTGFiZWxSaWdodD86IExhYmVsO1xuXG4gIHByaXZhdGUgdmFsdWVMYWJlbENvbW1vbj86IExhYmVsO1xuXG4gIHByaXZhdGUgdmVydGljYWw/OiBib29sZWFuO1xuXG4gIHByaXZhdGUgbGFiZWxzQ29udGFpbmVyPzogTGFiZWxzQ29udGFpbmVyO1xuXG4gIHByaXZhdGUgcGFuZWw/OiBQYW5lbDtcblxuICBjb25zdHJ1Y3Rvcihjb21wb25lbnQ6IEhUTUxEaXZFbGVtZW50LCBvcHRpb25zOiBWaWV3T3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoJ2RpdicpO1xuXG4gICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgdGhpcy5ldmVudE1hbmFnZXIgPSBuZXcgRXZlbnRNYW5hZ2VyKCk7XG5cbiAgICB0aGlzLnNsaWRlciA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnZGl2JywgJ3JhbmdlLXNsaWRlcl9fc2xpZGVyJyk7XG4gICAgdGhpcy50cmFjayA9IG5ldyBUcmFjayh0aGlzKTtcbiAgICB0aGlzLnJhbmdlID0gbmV3IFJhbmdlKCk7XG5cbiAgICB0aGlzLnRodW1iTGVmdCA9IG5ldyBUaHVtYih0aGlzLCAnbGVmdCcpO1xuXG4gICAgdGhpcy5pbnB1dCA9IG5ldyBJbnB1dCgpO1xuXG4gICAgaWYgKG9wdGlvbnMucmFuZ2UpIHtcbiAgICAgIHRoaXMudGh1bWJSaWdodCA9IG5ldyBUaHVtYih0aGlzLCAncmlnaHQnKTtcbiAgICB9XG5cbiAgICAvLyB0aGlzIGZpZWxkIGlzIGFsd2F5cyBpbml0aWFsaXplZCBpbiBjYXNlIHRoZSB0b2dnbGVTY2FsZUZyb21PdXRzaWRlKCkgbWV0aG9kIHdpbGwgYmUgY2FsbGVkXG4gICAgdGhpcy5zY2FsZUludGVydmFscyA9IG9wdGlvbnMuc2NhbGVJbnRlcnZhbHMgPz8gNDtcblxuICAgIGlmIChvcHRpb25zLnNjYWxlKSB7XG4gICAgICAvKiBjcmVhdGUgc2NhbGUgd2l0aCBhcmJpdHJhcnkgdmFsdWVzLCB3aGljaCB3aWxsIGJlIHJlcGxhY2VkIGxhdGVyIGJ5IFByZXNlbnRlclxuICAgICAgICogaXQgaXMgbmVjZXNzYXJ5IGZvciBoYXNTY2FsZSgpIHJldHVybiB0cnVlICovXG4gICAgICB0aGlzLnNjYWxlID0gbmV3IFNjYWxlKDAsIDEwMCwgdGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMubWluTWF4TGFiZWxzIHx8IG9wdGlvbnMudmFsdWVMYWJlbHMpIHtcbiAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyID0gbmV3IExhYmVsc0NvbnRhaW5lcigpO1xuXG4gICAgICBpZiAob3B0aW9ucy5taW5NYXhMYWJlbHMpIHtcbiAgICAgICAgdGhpcy5taW5MYWJlbCA9IG5ldyBMYWJlbCgncmFuZ2Utc2xpZGVyX19taW4tbWF4LWxhYmVsIHJhbmdlLXNsaWRlcl9fbWluLW1heC1sYWJlbF9sZWZ0Jyk7XG4gICAgICAgIHRoaXMubWF4TGFiZWwgPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fbWluLW1heC1sYWJlbCByYW5nZS1zbGlkZXJfX21pbi1tYXgtbGFiZWxfcmlnaHQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMudmFsdWVMYWJlbHMpIHtcbiAgICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdCA9IG5ldyBMYWJlbCgncmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbCByYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsX2xlZnQnKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5yYW5nZSkge1xuICAgICAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0ID0gbmV3IExhYmVsKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsIHJhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWxfcmlnaHQnKTtcbiAgICAgICAgICB0aGlzLnZhbHVlTGFiZWxDb21tb24gPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWwgcmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9jb21tb24nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLnZlcnRpY2FsID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5wYW5lbCkge1xuICAgICAgdGhpcy5wYW5lbCA9IG5ldyBQYW5lbCh0aGlzKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgc3Vic2NyaWJlKGxpc3RlbmVyOiBJRXZlbnRMaXN0ZW5lcik6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLnN1YnNjcmliZShsaXN0ZW5lcik7XG4gIH1cblxuICBub3RpZnkoZXZlbnRUeXBlOiBzdHJpbmcsIGRhdGE6IG51bWJlciB8IG51bGwgPSBudWxsKTogdm9pZCB7XG4gICAgdGhpcy5ldmVudE1hbmFnZXIubm90aWZ5KGV2ZW50VHlwZSwgZGF0YSk7XG4gIH1cblxuICBzZXRNaW5WYWx1ZShtaW46IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubWluTGFiZWw/LnNldFZhbHVlKG1pbik7XG4gIH1cblxuICBzZXRNYXhWYWx1ZShtYXg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubWF4TGFiZWw/LnNldFZhbHVlKG1heCk7XG4gIH1cblxuICBzZXRMZWZ0VmFsdWUodmFsdWU6IG51bWJlciwgcGVyY2VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLnRodW1iTGVmdC5zZXRJbmRlbnQoJ2xlZnQnLCBwZXJjZW50KTtcblxuICAgICAgaWYgKCF0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgICB0aGlzLnJhbmdlLnNldFdpZHRoKHBlcmNlbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgICAgdGhpcy5yYW5nZS5zZXRJbmRlbnQoJ2xlZnQnLCBwZXJjZW50KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdD8uc2V0SW5kZW50KCdsZWZ0JywgdGhpcy50aHVtYkxlZnQuZ2V0TGVmdEluZGVudCgpKTtcblxuICAgICAgaWYgKHRoaXMudGh1bWJMZWZ0LmdldExlZnRJbmRlbnQoKSA9PT0gJzEwMCUnKSB7XG4gICAgICAgIHRoaXMudGh1bWJMZWZ0LnNldFpJbmRleCgxMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aHVtYkxlZnQuc2V0WkluZGV4KDMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLnRodW1iTGVmdC5zZXRJbmRlbnQoJ3RvcCcsIDEwMCAtIHBlcmNlbnQpO1xuXG4gICAgICBpZiAoIXRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIHRoaXMucmFuZ2Uuc2V0SGVpZ2h0KHBlcmNlbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgICAgdGhpcy5yYW5nZS5zZXRJbmRlbnQoJ2JvdHRvbScsIHBlcmNlbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0Py5zZXRJbmRlbnQoJ3RvcCcsIHRoaXMudGh1bWJMZWZ0LmdldFRvcEluZGVudCgpKTtcblxuICAgICAgaWYgKHRoaXMudGh1bWJMZWZ0LmdldFRvcEluZGVudCgpID09PSAnMCUnKSB7XG4gICAgICAgIHRoaXMudGh1bWJMZWZ0LnNldFpJbmRleCgxMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aHVtYkxlZnQuc2V0WkluZGV4KDMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxMZWZ0KSB7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0LnNldFZhbHVlKHZhbHVlKTtcblxuICAgICAgaWYgKHRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbiEuc2V0VmFsdWUoYCR7dmFsdWV9IC0gJHt0aGlzLnZhbHVlTGFiZWxSaWdodCEuZ2V0VmFsdWUoKX1gKTtcblxuICAgICAgICBpZiAodGhpcy5pc1R3b1ZhbHVlTGFiZWxzQ2xvc2UoKSkge1xuICAgICAgICAgIHRoaXMubWVyZ2VMYWJlbHMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNwbGl0TGFiZWxzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy52YWx1ZUxhYmVsTGVmdCAmJiB0aGlzLm1pbkxhYmVsKSB7XG4gICAgICBpZiAodGhpcy5pc0xlZnRWYWx1ZUxhYmVsQ2xvc2VUb01pbkxhYmVsKCkpIHtcbiAgICAgICAgdGhpcy5taW5MYWJlbC5zZXRPcGFjaXR5KDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5taW5MYWJlbC5zZXRPcGFjaXR5KDEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTGVmdFZhbHVlTGFiZWxDbG9zZVRvTWF4TGFiZWwoKSkge1xuICAgICAgICAgIHRoaXMubWF4TGFiZWwhLnNldE9wYWNpdHkoMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5tYXhMYWJlbCEuc2V0T3BhY2l0eSgxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldFJpZ2h0VmFsdWUodmFsdWU6IG51bWJlciwgcGVyY2VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLnRodW1iUmlnaHQ/LnNldEluZGVudCgnbGVmdCcsIHBlcmNlbnQpO1xuICAgICAgdGhpcy5yYW5nZS5zZXRJbmRlbnQoJ3JpZ2h0JywgMTAwIC0gcGVyY2VudCk7XG5cbiAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0Py5zZXRJbmRlbnQoJ2xlZnQnLCB0aGlzLnRodW1iUmlnaHQhLmdldExlZnRJbmRlbnQoKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMudGh1bWJSaWdodD8uc2V0SW5kZW50KCd0b3AnLCAxMDAgLSBwZXJjZW50KTtcbiAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCd0b3AnLCAxMDAgLSBwZXJjZW50KTtcblxuICAgICAgdGhpcy52YWx1ZUxhYmVsUmlnaHQ/LnNldEluZGVudCgndG9wJywgdGhpcy50aHVtYlJpZ2h0IS5nZXRUb3BJbmRlbnQoKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmFsdWVMYWJlbFJpZ2h0KSB7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodC5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxDb21tb24hLnNldFZhbHVlKGAke3RoaXMudmFsdWVMYWJlbExlZnQhLmdldFZhbHVlKCl9IC0gJHt2YWx1ZX1gKTtcblxuICAgICAgaWYgKHRoaXMuaXNUd29WYWx1ZUxhYmVsc0Nsb3NlKCkpIHtcbiAgICAgICAgdGhpcy5tZXJnZUxhYmVscygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zcGxpdExhYmVscygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxSaWdodCAmJiB0aGlzLm1heExhYmVsKSB7XG4gICAgICBpZiAodGhpcy5pc1JpZ2h0VmFsdWVMYWJlbENsb3NlVG9NYXhMYWJlbCgpKSB7XG4gICAgICAgIHRoaXMubWF4TGFiZWwuc2V0T3BhY2l0eSgwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWF4TGFiZWwuc2V0T3BhY2l0eSgxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1cGRhdGVJbnB1dCh2YWx1ZTE6IG51bWJlciwgdmFsdWUyOiBudW1iZXIgfCBudWxsID0gbnVsbCk6IHZvaWQge1xuICAgIHRoaXMuaW5wdXQuc2V0VmFsdWUodmFsdWUxLCB2YWx1ZTIpO1xuICB9XG5cbiAgaGFuZGxlTGVmdElucHV0KGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyLCBzaGlmdFg6IG51bWJlciA9IDAsIHNoaWZ0WTogbnVtYmVyID0gMCk6IHZvaWQge1xuICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgY29uc3QgdHJhY2tTaGlmdCA9IHRoaXMudHJhY2suZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgIGxldCBuZXdMZWZ0ID0gY2xpZW50WCAtIHNoaWZ0WCAtIHRyYWNrU2hpZnQ7XG5cbiAgICAgIGlmIChuZXdMZWZ0IDwgMCkge1xuICAgICAgICBuZXdMZWZ0ID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgICBjb25zdCB0cmFja1dpZHRoID0gdGhpcy5nZXRUcmFja1dpZHRoKCk7XG5cbiAgICAgICAgaWYgKG5ld0xlZnQgPiB0cmFja1dpZHRoKSB7XG4gICAgICAgICAgbmV3TGVmdCA9IHRyYWNrV2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIGNvbnN0IHJpZ2h0VGh1bWJTaGlmdCA9IHRoaXMudGh1bWJSaWdodCEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgICAgY29uc3QgcmlnaHRUaHVtYlBvc2l0aW9uID0gcmlnaHRUaHVtYlNoaWZ0ICsgdGhpcy50aHVtYlJpZ2h0IS5nZXRXaWR0aCgpIC8gMiAtIHRyYWNrU2hpZnQ7XG5cbiAgICAgICAgaWYgKG5ld0xlZnQgPiByaWdodFRodW1iUG9zaXRpb24pIHtcbiAgICAgICAgICBuZXdMZWZ0ID0gcmlnaHRUaHVtYlBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMubm90aWZ5KCd2aWV3SW5wdXRMZWZ0JywgbmV3TGVmdCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIGNvbnN0IHRyYWNrU2hpZnQgPSB0aGlzLnRyYWNrLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgIGxldCBuZXdUb3AgPSBjbGllbnRZIC0gc2hpZnRZIC0gdHJhY2tTaGlmdDtcblxuICAgICAgY29uc3QgdHJhY2tIZWlnaHQgPSB0aGlzLmdldFRyYWNrSGVpZ2h0KCk7XG4gICAgICBpZiAobmV3VG9wID4gdHJhY2tIZWlnaHQpIHtcbiAgICAgICAgbmV3VG9wID0gdHJhY2tIZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5pc1JhbmdlKCkgJiYgbmV3VG9wIDwgMCkge1xuICAgICAgICBuZXdUb3AgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgICAgY29uc3QgcmlnaHRUaHVtYlNoaWZ0ID0gdGhpcy50aHVtYlJpZ2h0IS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICAgIGNvbnN0IHJpZ2h0VGh1bWJQb3NpdGlvbiA9IHJpZ2h0VGh1bWJTaGlmdCArIHRoaXMudGh1bWJSaWdodCEuZ2V0SGVpZ2h0KCkgLyAyIC0gdHJhY2tTaGlmdDtcblxuICAgICAgICBpZiAobmV3VG9wIDwgcmlnaHRUaHVtYlBvc2l0aW9uKSB7XG4gICAgICAgICAgbmV3VG9wID0gcmlnaHRUaHVtYlBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5ld0JvdHRvbSA9IHRyYWNrSGVpZ2h0IC0gbmV3VG9wO1xuXG4gICAgICB0aGlzLm5vdGlmeSgndmlld0lucHV0TGVmdCcsIG5ld0JvdHRvbSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlUmlnaHRJbnB1dChjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlciwgc2hpZnRYOiBudW1iZXIgPSAwLCBzaGlmdFk6IG51bWJlciA9IDApOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgIGNvbnN0IHRyYWNrU2hpZnQgPSB0aGlzLnRyYWNrLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICBsZXQgbmV3TGVmdCA9IGNsaWVudFggLSBzaGlmdFggLSB0cmFja1NoaWZ0O1xuXG4gICAgICBjb25zdCBsZWZ0VGh1bWJTaGlmdCA9IHRoaXMudGh1bWJMZWZ0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICBjb25zdCBsZWZ0VGh1bWJQb3NpdGlvbiA9IGxlZnRUaHVtYlNoaWZ0ICsgdGhpcy50aHVtYkxlZnQuZ2V0V2lkdGgoKSAvIDIgLSB0cmFja1NoaWZ0O1xuXG4gICAgICBpZiAobmV3TGVmdCA8IGxlZnRUaHVtYlBvc2l0aW9uKSB7XG4gICAgICAgIG5ld0xlZnQgPSBsZWZ0VGh1bWJQb3NpdGlvbjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdHJhY2tXaWR0aCA9IHRoaXMuZ2V0VHJhY2tXaWR0aCgpO1xuXG4gICAgICBpZiAobmV3TGVmdCA+IHRyYWNrV2lkdGgpIHtcbiAgICAgICAgbmV3TGVmdCA9IHRyYWNrV2lkdGg7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubm90aWZ5KCd2aWV3SW5wdXRSaWdodCcsIG5ld0xlZnQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBjb25zdCB0cmFja1NoaWZ0ID0gdGhpcy50cmFjay5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICBsZXQgbmV3VG9wID0gY2xpZW50WSAtIHNoaWZ0WSAtIHRyYWNrU2hpZnQ7XG5cbiAgICAgIGlmIChuZXdUb3AgPCAwKSB7XG4gICAgICAgIG5ld1RvcCA9IDA7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGxlZnRUaHVtYlNoaWZ0ID0gdGhpcy50aHVtYkxlZnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgY29uc3QgbGVmdFRodW1iUG9zaXRpb24gPSBsZWZ0VGh1bWJTaGlmdCArIHRoaXMudGh1bWJMZWZ0LmdldEhlaWdodCgpIC8gMiAtIHRyYWNrU2hpZnQ7XG5cbiAgICAgIGlmIChuZXdUb3AgPiBsZWZ0VGh1bWJQb3NpdGlvbikge1xuICAgICAgICBuZXdUb3AgPSBsZWZ0VGh1bWJQb3NpdGlvbjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV3Qm90dG9tID0gdGhpcy5nZXRUcmFja0hlaWdodCgpIC0gbmV3VG9wO1xuXG4gICAgICB0aGlzLm5vdGlmeSgndmlld0lucHV0UmlnaHQnLCBuZXdCb3R0b20pO1xuICAgIH1cbiAgfVxuXG4gIGFkZFNjYWxlKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuc2NhbGUgPSBuZXcgU2NhbGUobWluLCBtYXgsIHRoaXMpO1xuICAgIHRoaXMuc2xpZGVyLmFmdGVyKHRoaXMuc2NhbGUuZ2V0Q29tcG9uZW50KCkpO1xuXG4gICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLnNjYWxlLmZpdEhlaWdodEZvckhvcml6b250YWwoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy5zY2FsZS5maXRXaWR0aEZvclZlcnRpY2FsKCk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlU2NhbGUoKTogdm9pZCB7XG4gICAgdGhpcy5zY2FsZT8uZ2V0Q29tcG9uZW50KCkucmVtb3ZlKCk7XG4gICAgdGhpcy5zY2FsZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGdldFNjYWxlKCk6IFNjYWxlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5zY2FsZTtcbiAgfVxuXG4gIGdldFNjYWxlSW50ZXJ2YWxzKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuc2NhbGVJbnRlcnZhbHMgfHwgMDtcbiAgfVxuXG4gIGhhbmRsZVNjYWxlT3JUcmFja0NsaWNrKHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgdGhpcy5hZGRTbW9vdGhUcmFuc2l0aW9uKCdsZWZ0Jyk7XG5cbiAgICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLm5vdGlmeSgndmlld0lucHV0TGVmdCcsIHgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5ub3RpZnkoJ3ZpZXdJbnB1dExlZnQnLCB0aGlzLmdldFRyYWNrSGVpZ2h0KCkgLSB5KTtcbiAgICAgIH1cblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMucmVtb3ZlU21vb3RoVHJhbnNpdGlvbignbGVmdCcpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICBpZiAodGhpcy53aGljaFRodW1iSXNOZWFyZXIoeCwgeSkgPT09ICdsZWZ0Jykge1xuICAgICAgICB0aGlzLmFkZFNtb290aFRyYW5zaXRpb24oJ2xlZnQnKTtcblxuICAgICAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgICAgICB0aGlzLm5vdGlmeSgndmlld0lucHV0TGVmdCcsIHgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubm90aWZ5KCd2aWV3SW5wdXRMZWZ0JywgdGhpcy5nZXRUcmFja0hlaWdodCgpIC0geSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlbW92ZVNtb290aFRyYW5zaXRpb24oJ2xlZnQnKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkZFNtb290aFRyYW5zaXRpb24oJ3JpZ2h0Jyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgdGhpcy5ub3RpZnkoJ3ZpZXdJbnB1dFJpZ2h0JywgeCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5ub3RpZnkoJ3ZpZXdJbnB1dFJpZ2h0JywgdGhpcy5nZXRUcmFja0hlaWdodCgpIC0geSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlbW92ZVNtb290aFRyYW5zaXRpb24oJ3JpZ2h0Jyk7XG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZpeExhYmVsc0NvbnRhaW5lcldpZHRoRm9yVmVydGljYWwoKTogdm9pZCB7XG4gICAgY29uc3QgbGFiZWxzOiBIVE1MRWxlbWVudFtdID0gdGhpcy5jb2xsZWN0TGFiZWxzKCk7XG4gICAgdGhpcy5sYWJlbHNDb250YWluZXI/LmZpeFdpZHRoRm9yVmVydGljYWwobGFiZWxzKTtcbiAgfVxuXG4gIGZpeExhYmVsc0NvbnRhaW5lckhlaWdodEZvckhvcml6b250YWwoKTogdm9pZCB7XG4gICAgY29uc3QgbGFiZWxzOiBIVE1MRWxlbWVudFtdID0gdGhpcy5jb2xsZWN0TGFiZWxzKCk7XG4gICAgdGhpcy5sYWJlbHNDb250YWluZXI/LmZpeEhlaWdodEZvckhvcml6b250YWwobGFiZWxzKTtcbiAgfVxuXG4gIHNldFBhbmVsVmFsdWVzKG9wdGlvbnM6IFBhbmVsT3B0aW9ucyk6IHZvaWQge1xuICAgIHRoaXMucGFuZWw/LnNldFZhbHVlcyhvcHRpb25zKTtcbiAgfVxuXG4gIHVwZGF0ZVBhbmVsRnJvbSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5wYW5lbD8udXBkYXRlRnJvbSh2YWx1ZSk7XG4gIH1cblxuICB1cGRhdGVQYW5lbFRvKHZhbHVlOiBudW1iZXIgfCAnJyk6IHZvaWQge1xuICAgIHRoaXMucGFuZWw/LnVwZGF0ZVRvKHZhbHVlKTtcbiAgfVxuXG4gIHVwZGF0ZVBhbmVsU2NhbGVJbnRlcnZhbHModmFsdWU6IG51bWJlciB8ICcnKTogdm9pZCB7XG4gICAgdGhpcy5wYW5lbD8udXBkYXRlU2NhbGVJbnRlcnZhbHModmFsdWUpO1xuICB9XG5cbiAgdXBkYXRlUGFuZWxTdGVwKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnBhbmVsPy51cGRhdGVTdGVwKHZhbHVlKTtcbiAgfVxuXG4gIHVwZGF0ZVBhbmVsTWluKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnBhbmVsPy51cGRhdGVNaW4odmFsdWUpO1xuICB9XG5cbiAgdXBkYXRlUGFuZWxNYXgodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMucGFuZWw/LnVwZGF0ZU1heCh2YWx1ZSk7XG4gIH1cblxuICBjaGFuZ2VMZWZ0VmFsdWVGcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5ub3RpZnkoJ3ZpZXdTZXRMZWZ0RnJvbU91dHNpZGUnLCB2YWx1ZSk7XG4gIH1cblxuICBjaGFuZ2VSaWdodFZhbHVlRnJvbU91dHNpZGUodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubm90aWZ5KCd2aWV3U2V0UmlnaHRGcm9tT3V0c2lkZScsIHZhbHVlKTtcbiAgfVxuXG4gIGNoYW5nZU1pbkZyb21PdXRzaWRlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm5vdGlmeSgndmlld1NldE1pbicsIHZhbHVlKTtcbiAgfVxuXG4gIGNoYW5nZU1heEZyb21PdXRzaWRlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm5vdGlmeSgndmlld1NldE1heCcsIHZhbHVlKTtcbiAgfVxuXG4gIGNoYW5nZVN0ZXBGcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5ub3RpZnkoJ3ZpZXdTZXRTdGVwJywgdmFsdWUpO1xuICB9XG5cbiAgY2hhbmdlT3JpZW50YXRpb25Gcm9tT3V0c2lkZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMudmVydGljYWwgPSB0cnVlO1xuICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgdGhpcy50aHVtYkxlZnQuc2V0SW5kZW50KCdsZWZ0JywgMCk7XG4gICAgICB0aGlzLnRodW1iUmlnaHQ/LnNldEluZGVudCgnbGVmdCcsIDApO1xuICAgICAgdGhpcy5yYW5nZS5zZXRJbmRlbnQoJ2xlZnQnLCAwKTtcbiAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCdyaWdodCcsIDApO1xuICAgICAgdGhpcy5yYW5nZS5yZXNldFRvcEluZGVudCgpO1xuICAgICAgdGhpcy5yYW5nZS5yZXNldFdpZHRoKCk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0Py5zZXRJbmRlbnQoJ2xlZnQnLCAndW5zZXQnKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0Py5zZXRJbmRlbnQoJ2xlZnQnLCAndW5zZXQnKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbj8uc2V0SW5kZW50KCdsZWZ0JywgJ3Vuc2V0Jyk7XG4gICAgICB0aGlzLnNjYWxlPy5oYW5kbGVTd2l0Y2hGcm9tSG9yaXpvbnRhbFRvVmVydGljYWwoKTtcbiAgICAgIHRoaXMubm90aWZ5KCd2aWV3VG9nZ2xlT3JpZW50YXRpb24nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy52ZXJ0aWNhbCA9IGZhbHNlO1xuICAgICAgdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2Utc2xpZGVyX3ZlcnRpY2FsJyk7XG4gICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICB0aGlzLnRodW1iTGVmdC5zZXRJbmRlbnQoJ3RvcCcsIDApO1xuICAgICAgdGhpcy50aHVtYlJpZ2h0Py5zZXRJbmRlbnQoJ3RvcCcsIDApO1xuICAgICAgdGhpcy5yYW5nZS5zZXRJbmRlbnQoJ2JvdHRvbScsIDApO1xuICAgICAgdGhpcy5yYW5nZS5zZXRJbmRlbnQoJ3RvcCcsIDApO1xuICAgICAgdGhpcy5yYW5nZS5yZXNldEhlaWdodCgpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdD8uc2V0SW5kZW50KCd0b3AnLCAndW5zZXQnKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0Py5zZXRJbmRlbnQoJ3RvcCcsICd1bnNldCcpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uPy5zZXRJbmRlbnQoJ3RvcCcsICd1bnNldCcpO1xuICAgICAgdGhpcy5zY2FsZT8uaGFuZGxlU3dpdGNoRnJvbVZlcnRpY2FsVG9Ib3Jpem9udGFsKCk7XG4gICAgICB0aGlzLm5vdGlmeSgndmlld1RvZ2dsZU9yaWVudGF0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlUmFuZ2VGcm9tT3V0c2lkZSgpOiB2b2lkIHtcbiAgICBjb25zdCBpc1JhbmdlID0gIXRoaXMuaXNSYW5nZSgpO1xuXG4gICAgaWYgKGlzUmFuZ2UpIHtcbiAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgdGhpcy50aHVtYlJpZ2h0ID0gbmV3IFRodW1iKHRoaXMsICdyaWdodCcpO1xuXG4gICAgICBpZiAodGhpcy52YWx1ZUxhYmVsTGVmdCkge1xuICAgICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodCA9IG5ldyBMYWJlbCgncmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbCByYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsX3JpZ2h0Jyk7XG4gICAgICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbiA9IG5ldyBMYWJlbCgncmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbCByYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsX2NvbW1vbicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgICAgdGhpcy5yYW5nZS5yZXNldFdpZHRoKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMucmFuZ2UucmVzZXRIZWlnaHQoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzUmFuZ2UpIHtcbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMucmFuZ2UucmVzZXRUb3BJbmRlbnQoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICB0aGlzLnRodW1iUmlnaHQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHRoaXMubm90aWZ5KCd2aWV3VG9nZ2xlUmFuZ2UnKTtcbiAgfVxuXG4gIHRvZ2dsZVNjYWxlRnJvbU91dHNpZGUoKTogdm9pZCB7XG4gICAgdGhpcy5ub3RpZnkoJ3ZpZXdUb2dnbGVTY2FsZScpO1xuICB9XG5cbiAgY2hhbmdlU2NhbGVJbnRlcnZhbHModmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh2YWx1ZSA8PSAwKSByZXR1cm47XG5cbiAgICB0aGlzLnNjYWxlSW50ZXJ2YWxzID0gTWF0aC5mbG9vcih2YWx1ZSk7XG4gICAgdGhpcy5yZW1vdmVTY2FsZSgpO1xuICAgIHRoaXMubm90aWZ5KCd2aWV3U2V0U2NhbGVJbnRlcnZhbHMnKTtcbiAgfVxuXG4gIHRvZ2dsZVZhbHVlTGFiZWxzKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxMZWZ0KSB7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0LnJlbW92ZSgpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsUmlnaHQ/LnJlbW92ZSgpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uPy5yZW1vdmUoKTtcblxuICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAodGhpcy5taW5MYWJlbCkge1xuICAgICAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgICAgICB0aGlzLmZpeExhYmVsc0NvbnRhaW5lckhlaWdodEZvckhvcml6b250YWwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgdGhpcy5maXhMYWJlbHNDb250YWluZXJXaWR0aEZvclZlcnRpY2FsKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLm1pbkxhYmVsKSB7XG4gICAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyPy5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXIgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMudmFsdWVMYWJlbExlZnQpIHtcbiAgICAgIHRoaXMudmFsdWVMYWJlbExlZnQgPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWwgcmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9sZWZ0Jyk7XG5cbiAgICAgIGlmICghdGhpcy5sYWJlbHNDb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXIgPSBuZXcgTGFiZWxzQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuc2xpZGVyLmJlZm9yZSh0aGlzLmxhYmVsc0NvbnRhaW5lci5nZXRDb21wb25lbnQoKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyLmFwcGVuZCh0aGlzLnZhbHVlTGFiZWxMZWZ0LmdldENvbXBvbmVudCgpKTtcblxuICAgICAgaWYgKHRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0ID0gbmV3IExhYmVsKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsIHJhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWxfcmlnaHQnKTtcbiAgICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uID0gbmV3IExhYmVsKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsIHJhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWxfY29tbW9uJyk7XG5cbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXJcbiAgICAgICAgICAuYXBwZW5kKHRoaXMudmFsdWVMYWJlbFJpZ2h0IS5nZXRDb21wb25lbnQoKSwgdGhpcy52YWx1ZUxhYmVsQ29tbW9uIS5nZXRDb21wb25lbnQoKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubm90aWZ5KCd2aWV3QWRkVmFsdWVMYWJlbHMnKTtcblxuICAgICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMuZml4TGFiZWxzQ29udGFpbmVySGVpZ2h0Rm9ySG9yaXpvbnRhbCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLmZpeExhYmVsc0NvbnRhaW5lcldpZHRoRm9yVmVydGljYWwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0b2dnbGVNaW5NYXhMYWJlbHMoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubWluTGFiZWwpIHtcbiAgICAgIHRoaXMubWluTGFiZWwucmVtb3ZlKCk7XG4gICAgICB0aGlzLm1heExhYmVsPy5yZW1vdmUoKTtcblxuICAgICAgdGhpcy5taW5MYWJlbCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMubWF4TGFiZWwgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh0aGlzLnZhbHVlTGFiZWxMZWZ0KSB7XG4gICAgICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICAgIHRoaXMuZml4TGFiZWxzQ29udGFpbmVySGVpZ2h0Rm9ySG9yaXpvbnRhbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgICB0aGlzLmZpeExhYmVsc0NvbnRhaW5lcldpZHRoRm9yVmVydGljYWwoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMudmFsdWVMYWJlbExlZnQpIHtcbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXI/LnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmxhYmVsc0NvbnRhaW5lciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5taW5MYWJlbCkge1xuICAgICAgdGhpcy5taW5MYWJlbCA9IG5ldyBMYWJlbCgncmFuZ2Utc2xpZGVyX19taW4tbWF4LWxhYmVsIHJhbmdlLXNsaWRlcl9fbWluLW1heC1sYWJlbF9sZWZ0Jyk7XG4gICAgICB0aGlzLm1heExhYmVsID0gbmV3IExhYmVsKCdyYW5nZS1zbGlkZXJfX21pbi1tYXgtbGFiZWwgcmFuZ2Utc2xpZGVyX19taW4tbWF4LWxhYmVsX3JpZ2h0Jyk7XG5cbiAgICAgIGlmICghdGhpcy5sYWJlbHNDb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXIgPSBuZXcgTGFiZWxzQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuc2xpZGVyLmJlZm9yZSh0aGlzLmxhYmVsc0NvbnRhaW5lci5nZXRDb21wb25lbnQoKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyLmFwcGVuZCh0aGlzLm1pbkxhYmVsLmdldENvbXBvbmVudCgpLCB0aGlzLm1heExhYmVsLmdldENvbXBvbmVudCgpKTtcblxuICAgICAgdGhpcy5ub3RpZnkoJ3ZpZXdBZGRNaW5NYXhMYWJlbHMnKTtcblxuICAgICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMuZml4TGFiZWxzQ29udGFpbmVySGVpZ2h0Rm9ySG9yaXpvbnRhbCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLmZpeExhYmVsc0NvbnRhaW5lcldpZHRoRm9yVmVydGljYWwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYXNMYWJlbHMoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMudmFsdWVMYWJlbExlZnQgfHwgdGhpcy5taW5MYWJlbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGhhc1NjYWxlKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnNjYWxlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaGFzTWluTWF4TGFiZWxzKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLm1heExhYmVsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaGFzVmFsdWVMYWJlbHMoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMudmFsdWVMYWJlbExlZnQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBoYXNQYW5lbCgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5wYW5lbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlzUmFuZ2UoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMudGh1bWJSaWdodCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlzVmVydGljYWwoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXRUcmFja1dpZHRoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudHJhY2suZ2V0V2lkdGgoKTtcbiAgfVxuXG4gIGdldFRyYWNrSGVpZ2h0KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudHJhY2suZ2V0SGVpZ2h0KCk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlcigpOiB2b2lkIHtcbiAgICBjb25zdCBmcmFnbWVudCA9IG5ldyBEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICB0aGlzLnRyYWNrLmFwcGVuZCh0aGlzLnJhbmdlLmdldENvbXBvbmVudCgpKTtcbiAgICB0aGlzLnNsaWRlci5hcHBlbmQodGhpcy50cmFjay5nZXRDb21wb25lbnQoKSwgdGhpcy50aHVtYkxlZnQuZ2V0Q29tcG9uZW50KCkpO1xuICAgIGZyYWdtZW50LmFwcGVuZCh0aGlzLnNsaWRlciwgdGhpcy5pbnB1dC5nZXRDb21wb25lbnQoKSk7XG5cbiAgICBpZiAodGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgIHRoaXMuc2xpZGVyLmFwcGVuZCh0aGlzLnRodW1iUmlnaHQhLmdldENvbXBvbmVudCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCdsZWZ0JywgMCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCdib3R0b20nLCAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5taW5MYWJlbCAmJiB0aGlzLm1heExhYmVsKSB7XG4gICAgICB0aGlzLmxhYmVsc0NvbnRhaW5lciEuYXBwZW5kKHRoaXMubWluTGFiZWwuZ2V0Q29tcG9uZW50KCksIHRoaXMubWF4TGFiZWwuZ2V0Q29tcG9uZW50KCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxMZWZ0KSB7XG4gICAgICB0aGlzLmxhYmVsc0NvbnRhaW5lciEuYXBwZW5kKHRoaXMudmFsdWVMYWJlbExlZnQuZ2V0Q29tcG9uZW50KCkpO1xuXG4gICAgICBpZiAodGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXIhXG4gICAgICAgICAgLmFwcGVuZCh0aGlzLnZhbHVlTGFiZWxSaWdodCEuZ2V0Q29tcG9uZW50KCksIHRoaXMudmFsdWVMYWJlbENvbW1vbiEuZ2V0Q29tcG9uZW50KCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmxhYmVsc0NvbnRhaW5lcikge1xuICAgICAgdGhpcy5zbGlkZXIuYmVmb3JlKHRoaXMubGFiZWxzQ29udGFpbmVyLmdldENvbXBvbmVudCgpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LmFkZCgncmFuZ2Utc2xpZGVyX3ZlcnRpY2FsJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFuZWwpIHtcbiAgICAgIGNvbnN0IHBhbmVsV3JhcHBlciA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnZGl2JywgJ3JhbmdlLXNsaWRlcl9fcGFuZWwnKTtcbiAgICAgIHBhbmVsV3JhcHBlci5hcHBlbmQodGhpcy5wYW5lbC5nZXRDb21wb25lbnQoKSk7XG4gICAgICBmcmFnbWVudC5hcHBlbmQocGFuZWxXcmFwcGVyKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zY2FsZSkge1xuICAgICAgdGhpcy5zbGlkZXIuYWZ0ZXIodGhpcy5zY2FsZS5nZXRDb21wb25lbnQoKSk7XG4gICAgfVxuXG4gICAgdGhpcy5jb21wb25lbnQuYXBwZW5kKGZyYWdtZW50KTtcbiAgfVxuXG4gIHByaXZhdGUgZGVzdHJveSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5sYWJlbHNDb250YWluZXIpIHtcbiAgICAgIFsuLi50aGlzLmxhYmVsc0NvbnRhaW5lci5nZXRDb21wb25lbnQoKS5jaGlsZHJlbl0uZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgWy4uLnRoaXMuc2xpZGVyLmNoaWxkcmVuXS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgIH0pO1xuXG4gICAgWy4uLnRoaXMuY29tcG9uZW50LmNoaWxkcmVuXS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBtZXJnZUxhYmVscygpOiB2b2lkIHtcbiAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0Py5zZXRPcGFjaXR5KDApO1xuICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0Py5zZXRPcGFjaXR5KDApO1xuICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbj8uc2V0T3BhY2l0eSgxKTtcblxuICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgY29uc3QgZGlzdGFuY2VCZXR3ZWVuVGh1bWJzID0gKFxuICAgICAgICBwYXJzZUludCh0aGlzLnRodW1iUmlnaHQhLmdldExlZnRJbmRlbnQoKSwgMTApXG4gICAgICAgIC0gcGFyc2VJbnQodGhpcy50aHVtYkxlZnQuZ2V0TGVmdEluZGVudCgpLCAxMClcbiAgICAgICk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxDb21tb24/LnNldEluZGVudCgnbGVmdCcsIGAke3BhcnNlSW50KHRoaXMudmFsdWVMYWJlbExlZnQhLmdldExlZnRJbmRlbnQoKSwgMTApICsgZGlzdGFuY2VCZXR3ZWVuVGh1bWJzIC8gMn0lYCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIGNvbnN0IGRpc3RhbmNlQmV0d2VlblRodW1icyA9IChcbiAgICAgICAgcGFyc2VJbnQodGhpcy50aHVtYlJpZ2h0IS5nZXRUb3BJbmRlbnQoKSwgMTApIC0gcGFyc2VJbnQodGhpcy50aHVtYkxlZnQuZ2V0VG9wSW5kZW50KCksIDEwKVxuICAgICAgKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbj8uc2V0SW5kZW50KCd0b3AnLCBgJHtwYXJzZUludCh0aGlzLnZhbHVlTGFiZWxSaWdodCEuZ2V0VG9wSW5kZW50KCksIDEwKSAtIGRpc3RhbmNlQmV0d2VlblRodW1icyAvIDJ9JWApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3BsaXRMYWJlbHMoKTogdm9pZCB7XG4gICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uPy5zZXRPcGFjaXR5KDApO1xuICAgIHRoaXMudmFsdWVMYWJlbExlZnQ/LnNldE9wYWNpdHkoMSk7XG4gICAgdGhpcy52YWx1ZUxhYmVsUmlnaHQ/LnNldE9wYWNpdHkoMSk7XG4gIH1cblxuICBwcml2YXRlIGlzVHdvTGFiZWxzQ2xvc2UobGFiZWwxOiBMYWJlbCwgbGFiZWwyOiBMYWJlbCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBjb25zdCBib3R0b21MYWJlbEVkZ2UgPSBsYWJlbDEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgY29uc3QgdG9wTGFiZWxFZGdlID0gbGFiZWwyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcblxuICAgICAgcmV0dXJuICgoYm90dG9tTGFiZWxFZGdlIC0gdG9wTGFiZWxFZGdlKSA8IDMpO1xuICAgIH1cblxuICAgIGNvbnN0IGxlZnRMYWJlbEVkZ2UgPSBsYWJlbDEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQ7XG4gICAgY29uc3QgcmlnaHRMYWJlbEVkZ2UgPSBsYWJlbDIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcblxuICAgIHJldHVybiAoKHJpZ2h0TGFiZWxFZGdlIC0gbGVmdExhYmVsRWRnZSkgPCAzKTtcbiAgfVxuXG4gIHByaXZhdGUgaXNUd29WYWx1ZUxhYmVsc0Nsb3NlKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxMZWZ0ICYmIHRoaXMudmFsdWVMYWJlbFJpZ2h0KSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1R3b0xhYmVsc0Nsb3NlKHRoaXMudmFsdWVMYWJlbExlZnQsIHRoaXMudmFsdWVMYWJlbFJpZ2h0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIGlzTGVmdFZhbHVlTGFiZWxDbG9zZVRvTWluTGFiZWwoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMubWluTGFiZWwgJiYgdGhpcy52YWx1ZUxhYmVsTGVmdCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNUd29MYWJlbHNDbG9zZSh0aGlzLm1pbkxhYmVsLCB0aGlzLnZhbHVlTGFiZWxMZWZ0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIGlzTGVmdFZhbHVlTGFiZWxDbG9zZVRvTWF4TGFiZWwoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMudmFsdWVMYWJlbExlZnQgJiYgdGhpcy5tYXhMYWJlbCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNUd29MYWJlbHNDbG9zZSh0aGlzLnZhbHVlTGFiZWxMZWZ0LCB0aGlzLm1heExhYmVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIGlzUmlnaHRWYWx1ZUxhYmVsQ2xvc2VUb01heExhYmVsKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxSaWdodCAmJiB0aGlzLm1heExhYmVsKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1R3b0xhYmVsc0Nsb3NlKHRoaXMudmFsdWVMYWJlbFJpZ2h0LCB0aGlzLm1heExhYmVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIHdoaWNoVGh1bWJJc05lYXJlcih4OiBudW1iZXIsIHk6IG51bWJlcik6ICdsZWZ0JyB8ICdyaWdodCcge1xuICAgIGNvbnN0IGxlZnRUaHVtYkNvb3JkcyA9IHRoaXMudGh1bWJMZWZ0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHJpZ2h0VGh1bWJDb29yZHMgPSB0aGlzLnRodW1iUmlnaHQhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHRyYWNrQ29vcmRzID0gdGhpcy50cmFjay5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGxldCBkaXN0YW5jZUZyb21MZWZ0VGh1bWJDZW50ZXI6IG51bWJlciA9IDA7XG4gICAgbGV0IGRpc3RhbmNlRnJvbVJpZ2h0VGh1bWJDZW50ZXI6IG51bWJlciA9IDA7XG5cbiAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgIGNvbnN0IGxlZnRUaHVtYkNlbnRlciA9IGxlZnRUaHVtYkNvb3Jkcy5sZWZ0ICsgbGVmdFRodW1iQ29vcmRzLndpZHRoIC8gMiAtIHRyYWNrQ29vcmRzLmxlZnQ7XG4gICAgICBjb25zdCByaWdodFRodW1iQ2VudGVyID0gcmlnaHRUaHVtYkNvb3Jkcy5sZWZ0XG4gICAgICAgICsgcmlnaHRUaHVtYkNvb3Jkcy53aWR0aCAvIDJcbiAgICAgICAgLSB0cmFja0Nvb3Jkcy5sZWZ0O1xuXG4gICAgICBkaXN0YW5jZUZyb21MZWZ0VGh1bWJDZW50ZXIgPSBNYXRoLmFicyh4IC0gbGVmdFRodW1iQ2VudGVyKTtcbiAgICAgIGRpc3RhbmNlRnJvbVJpZ2h0VGh1bWJDZW50ZXIgPSBNYXRoLmFicyh4IC0gcmlnaHRUaHVtYkNlbnRlcik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIGNvbnN0IGxlZnRUaHVtYkNlbnRlciA9IGxlZnRUaHVtYkNvb3Jkcy50b3AgKyBsZWZ0VGh1bWJDb29yZHMuaGVpZ2h0IC8gMiAtIHRyYWNrQ29vcmRzLnRvcDtcbiAgICAgIGNvbnN0IHJpZ2h0VGh1bWJDZW50ZXIgPSByaWdodFRodW1iQ29vcmRzLnRvcCArIHJpZ2h0VGh1bWJDb29yZHMuaGVpZ2h0IC8gMiAtIHRyYWNrQ29vcmRzLnRvcDtcblxuICAgICAgZGlzdGFuY2VGcm9tTGVmdFRodW1iQ2VudGVyID0gTWF0aC5hYnMoeSAtIGxlZnRUaHVtYkNlbnRlcik7XG4gICAgICBkaXN0YW5jZUZyb21SaWdodFRodW1iQ2VudGVyID0gTWF0aC5hYnMoeSAtIHJpZ2h0VGh1bWJDZW50ZXIpO1xuICAgIH1cblxuICAgIGlmIChkaXN0YW5jZUZyb21MZWZ0VGh1bWJDZW50ZXIgPD0gZGlzdGFuY2VGcm9tUmlnaHRUaHVtYkNlbnRlcikge1xuICAgICAgcmV0dXJuICdsZWZ0JztcbiAgICB9XG5cbiAgICByZXR1cm4gJ3JpZ2h0JztcbiAgfVxuXG4gIHByaXZhdGUgYWRkU21vb3RoVHJhbnNpdGlvbihzaWRlOiAnbGVmdCcgfCAncmlnaHQnID0gJ2xlZnQnKTogdm9pZCB7XG4gICAgaWYgKHNpZGUgPT09ICdsZWZ0Jykge1xuICAgICAgdGhpcy50aHVtYkxlZnQuZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LmFkZCgncmFuZ2Utc2xpZGVyX190aHVtYl9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgICAgdGhpcy5yYW5nZS5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QuYWRkKCdyYW5nZS1zbGlkZXJfX3JhbmdlX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0Py5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QuYWRkKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKHNpZGUgPT09ICdyaWdodCcpIHtcbiAgICAgIHRoaXMudGh1bWJSaWdodCEuZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LmFkZCgncmFuZ2Utc2xpZGVyX190aHVtYl9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgICAgdGhpcy5yYW5nZS5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QuYWRkKCdyYW5nZS1zbGlkZXJfX3JhbmdlX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodD8uZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LmFkZCgncmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVtb3ZlU21vb3RoVHJhbnNpdGlvbihzaWRlOiAnbGVmdCcgfCAncmlnaHQnID0gJ2xlZnQnKTogdm9pZCB7XG4gICAgaWYgKHNpZGUgPT09ICdsZWZ0Jykge1xuICAgICAgdGhpcy50aHVtYkxlZnQuZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2Utc2xpZGVyX190aHVtYl9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgICAgdGhpcy5yYW5nZS5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QucmVtb3ZlKCdyYW5nZS1zbGlkZXJfX3JhbmdlX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0Py5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QucmVtb3ZlKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKHNpZGUgPT09ICdyaWdodCcpIHtcbiAgICAgIHRoaXMudGh1bWJSaWdodCEuZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2Utc2xpZGVyX190aHVtYl9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgICAgdGhpcy5yYW5nZS5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QucmVtb3ZlKCdyYW5nZS1zbGlkZXJfX3JhbmdlX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodD8uZ2V0Q29tcG9uZW50KCkuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9zbW9vdGgtdHJhbnNpdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY29sbGVjdExhYmVscygpOiBIVE1MRWxlbWVudFtdIHtcbiAgICBjb25zdCBsYWJlbHM6IEhUTUxFbGVtZW50W10gPSBbXTtcblxuICAgIGlmICh0aGlzLm1pbkxhYmVsICYmIHRoaXMubWF4TGFiZWwpIHtcbiAgICAgIGxhYmVscy5wdXNoKHRoaXMubWluTGFiZWwuZ2V0Q29tcG9uZW50KCkpO1xuICAgICAgbGFiZWxzLnB1c2godGhpcy5tYXhMYWJlbC5nZXRDb21wb25lbnQoKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmFsdWVMYWJlbExlZnQpIHtcbiAgICAgIGxhYmVscy5wdXNoKHRoaXMudmFsdWVMYWJlbExlZnQuZ2V0Q29tcG9uZW50KCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxSaWdodCkge1xuICAgICAgbGFiZWxzLnB1c2godGhpcy52YWx1ZUxhYmVsUmlnaHQuZ2V0Q29tcG9uZW50KCkpO1xuICAgIH1cblxuICAgIHJldHVybiBsYWJlbHM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlldztcbiIsImltcG9ydCBNb2RlbCBmcm9tICcuLi9Nb2RlbC9Nb2RlbCc7XG5pbXBvcnQgVmlldyBmcm9tICcuLi9WaWV3L1ZpZXcnO1xuaW1wb3J0IHsgSUV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi9FdmVudE1hbmFnZXIvRXZlbnRNYW5hZ2VyJztcblxuY2xhc3MgUHJlc2VudGVyIGltcGxlbWVudHMgSUV2ZW50TGlzdGVuZXIge1xuICBwcml2YXRlIG1vZGVsOiBNb2RlbDtcblxuICBwcml2YXRlIHZpZXc6IFZpZXc7XG5cbiAgY29uc3RydWN0b3IobW9kZWw6IE1vZGVsLCB2aWV3OiBWaWV3KSB7XG4gICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICAgIHRoaXMudmlldyA9IHZpZXc7XG5cbiAgICB0aGlzLmluaXRWaWV3VmFsdWVzKCk7XG4gICAgdGhpcy5tb2RlbC5zdWJzY3JpYmUodGhpcyk7XG4gICAgdGhpcy52aWV3LnN1YnNjcmliZSh0aGlzKTtcbiAgfVxuXG4gIGluZm9ybShldmVudFR5cGU6IHN0cmluZywgZGF0YTogbnVtYmVyIHwgbnVsbCA9IG51bGwpOiB2b2lkIHtcbiAgICBzd2l0Y2ggKGV2ZW50VHlwZSkge1xuICAgICAgY2FzZSAndmlld0lucHV0TGVmdCc6XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVZpZXdJbnB1dExlZnQoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3SW5wdXRSaWdodCc6XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVZpZXdJbnB1dFJpZ2h0KGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlld1NldExlZnRGcm9tT3V0c2lkZSc6XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVZpZXdTZXRMZWZ0RnJvbU91dHNpZGUoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3U2V0UmlnaHRGcm9tT3V0c2lkZSc6XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVZpZXdTZXRSaWdodEZyb21PdXRzaWRlKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlld1NldE1pbic6XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVZpZXdTZXRNaW4oZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3U2V0TWF4JzpcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMuaGFuZGxlVmlld1NldE1heChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZXdTZXRTdGVwJzpcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMuaGFuZGxlVmlld1NldFN0ZXAoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3VG9nZ2xlT3JpZW50YXRpb24nOlxuICAgICAgICB0aGlzLmhhbmRsZVZpZXdUb2dnbGVPcmllbnRhdGlvbigpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZXdUb2dnbGVSYW5nZSc6XG4gICAgICAgIHRoaXMuaGFuZGxlVmlld1RvZ2dsZVJhbmdlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlld1RvZ2dsZVNjYWxlJzpcbiAgICAgICAgdGhpcy5oYW5kbGVWaWV3VG9nZ2xlU2NhbGUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3U2V0U2NhbGVJbnRlcnZhbHMnOlxuICAgICAgICB0aGlzLmhhbmRsZVZpZXdTZXRTY2FsZUludGVydmFscygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZXdBZGRWYWx1ZUxhYmVscyc6XG4gICAgICAgIHRoaXMuaGFuZGxlVmlld0FkZFZhbHVlTGFiZWxzKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlld0FkZE1pbk1heExhYmVscyc6XG4gICAgICAgIHRoaXMuaGFuZGxlVmlld0FkZE1pbk1heExhYmVscygpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnbW9kZWxTZXRMZWZ0JzpcbiAgICAgICAgdGhpcy5oYW5kbGVNb2RlbFNldExlZnQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtb2RlbFNldFJpZ2h0JzpcbiAgICAgICAgdGhpcy5oYW5kbGVNb2RlbFNldFJpZ2h0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbW9kZWxTZXRNaW4nOlxuICAgICAgICB0aGlzLmhhbmRsZU1vZGVsU2V0TWluKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbW9kZWxTZXRNYXgnOlxuICAgICAgICB0aGlzLmhhbmRsZU1vZGVsU2V0TWF4KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbW9kZWxUb2dnbGVSYW5nZSc6XG4gICAgICAgIHRoaXMuaGFuZGxlTW9kZWxUb2dnbGVSYW5nZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21vZGVsU2V0U3RlcCc6XG4gICAgICAgIHRoaXMuaGFuZGxlTW9kZWxTZXRTdGVwKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyByZW1vdmVDYWxjSW5hY2N1cmFjeSh2YWx1ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTnVtYmVyKHZhbHVlLnRvRml4ZWQoMTApKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdFZpZXdWYWx1ZXMoKTogdm9pZCB7XG4gICAgY29uc3QgeyBtb2RlbCB9ID0gdGhpcztcbiAgICBjb25zdCB7IHZpZXcgfSA9IHRoaXM7XG5cbiAgICBjb25zdCBtaW4gPSBtb2RlbC5nZXRNaW4oKTtcbiAgICBjb25zdCBtYXggPSBtb2RlbC5nZXRNYXgoKTtcbiAgICBjb25zdCBsZWZ0VmFsdWUgPSBtb2RlbC5nZXRMZWZ0VmFsdWUoKTtcbiAgICBjb25zdCByaWdodFZhbHVlID0gbW9kZWwuZ2V0UmlnaHRWYWx1ZSgpO1xuXG4gICAgdmlldy5zZXRNaW5WYWx1ZShtaW4pO1xuICAgIHZpZXcuc2V0TWF4VmFsdWUobWF4KTtcbiAgICB0aGlzLnBhc3NMZWZ0VmFsdWVUb1ZpZXcobGVmdFZhbHVlKTtcblxuICAgIGlmICh2aWV3LmlzUmFuZ2UoKSAmJiAocmlnaHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSkge1xuICAgICAgdGhpcy5wYXNzUmlnaHRWYWx1ZVRvVmlldyhyaWdodFZhbHVlKTtcbiAgICAgIHZpZXcudXBkYXRlSW5wdXQobGVmdFZhbHVlLCByaWdodFZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmlldy51cGRhdGVJbnB1dChsZWZ0VmFsdWUpO1xuICAgIH1cblxuICAgIGlmICh2aWV3Lmhhc1NjYWxlKCkpIHtcbiAgICAgIC8vIGZpcnN0IHJlbW92ZSBzY2FsZSB3aXRoIGFyYml0cmFyeSB2YWx1ZXMsIHdoaWNoIHdhcyBhZGRlZCBhcyBhIHBsdWdcbiAgICAgIHZpZXcucmVtb3ZlU2NhbGUoKTtcbiAgICAgIHZpZXcuYWRkU2NhbGUobWluLCBtYXgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZpZXcuaGFzTGFiZWxzKCkpIHtcbiAgICAgIGlmICghdmlldy5pc1ZlcnRpY2FsKCkpIHtcbiAgICAgICAgdmlldy5maXhMYWJlbHNDb250YWluZXJIZWlnaHRGb3JIb3Jpem9udGFsKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh2aWV3LmlzVmVydGljYWwoKSkge1xuICAgICAgICB2aWV3LmZpeExhYmVsc0NvbnRhaW5lcldpZHRoRm9yVmVydGljYWwoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodmlldy5oYXNQYW5lbCgpKSB7XG4gICAgICB2aWV3LnNldFBhbmVsVmFsdWVzKHtcbiAgICAgICAgbWluLFxuICAgICAgICBtYXgsXG4gICAgICAgIHN0ZXA6IG1vZGVsLmdldFN0ZXAoKSxcbiAgICAgICAgZnJvbTogbGVmdFZhbHVlLFxuICAgICAgICB0bzogcmlnaHRWYWx1ZSA/PyBudWxsLFxuICAgICAgICB2ZXJ0aWNhbDogdmlldy5pc1ZlcnRpY2FsKCkgPz8gZmFsc2UsXG4gICAgICAgIHJhbmdlOiB2aWV3LmlzUmFuZ2UoKSxcbiAgICAgICAgc2NhbGU6IHZpZXcuaGFzU2NhbGUoKSxcbiAgICAgICAgc2NhbGVJbnRlcnZhbHM6IHZpZXcuZ2V0U2NhbGVJbnRlcnZhbHMoKSxcbiAgICAgICAgdmFsdWVMYWJlbHM6IHZpZXcuaGFzVmFsdWVMYWJlbHMoKSxcbiAgICAgICAgbWluTWF4TGFiZWxzOiB2aWV3Lmhhc01pbk1heExhYmVscygpLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3SW5wdXRMZWZ0KHB4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuY29udmVydFB4VG9WYWx1ZShweCk7XG4gICAgdGhpcy5tb2RlbC5zZXRMZWZ0VmFsdWUodmFsdWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNb2RlbFNldExlZnQoKTogdm9pZCB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLm1vZGVsLmdldExlZnRWYWx1ZSgpO1xuICAgIHRoaXMucGFzc0xlZnRWYWx1ZVRvVmlldyh2YWx1ZSk7XG4gICAgdGhpcy51cGRhdGVWaWV3SW5wdXQoKTtcblxuICAgIGlmICh0aGlzLnZpZXcuaGFzUGFuZWwoKSkge1xuICAgICAgdGhpcy52aWV3LnVwZGF0ZVBhbmVsRnJvbSh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3SW5wdXRSaWdodChweDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLmNvbnZlcnRQeFRvVmFsdWUocHgpO1xuICAgIHRoaXMubW9kZWwuc2V0UmlnaHRWYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1vZGVsU2V0UmlnaHQoKTogdm9pZCB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLm1vZGVsLmdldFJpZ2h0VmFsdWUoKSE7XG4gICAgdGhpcy5wYXNzUmlnaHRWYWx1ZVRvVmlldyh2YWx1ZSk7XG4gICAgdGhpcy51cGRhdGVWaWV3SW5wdXQoKTtcblxuICAgIGlmICh0aGlzLnZpZXcuaGFzUGFuZWwoKSkge1xuICAgICAgdGhpcy52aWV3LnVwZGF0ZVBhbmVsVG8odmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcGFzc0xlZnRWYWx1ZVRvVmlldyh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgcGVyY2VudCA9IHRoaXMuY29udmVydFZhbHVlVG9QZXJjZW50KHZhbHVlKTtcbiAgICB0aGlzLnZpZXcuc2V0TGVmdFZhbHVlKHZhbHVlLCBwZXJjZW50KTtcbiAgfVxuXG4gIHByaXZhdGUgcGFzc1JpZ2h0VmFsdWVUb1ZpZXcodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHBlcmNlbnQgPSB0aGlzLmNvbnZlcnRWYWx1ZVRvUGVyY2VudCh2YWx1ZSk7XG4gICAgdGhpcy52aWV3LnNldFJpZ2h0VmFsdWUodmFsdWUsIHBlcmNlbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVWaWV3SW5wdXQoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnZpZXcuaXNSYW5nZSgpKSB7XG4gICAgICB0aGlzLnZpZXcudXBkYXRlSW5wdXQodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmlldy5pc1JhbmdlKCkpIHtcbiAgICAgIHRoaXMudmlldy51cGRhdGVJbnB1dCh0aGlzLm1vZGVsLmdldExlZnRWYWx1ZSgpLCB0aGlzLm1vZGVsLmdldFJpZ2h0VmFsdWUoKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb252ZXJ0VmFsdWVUb1BlcmNlbnQodmFsdWU6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3QgbWluID0gdGhpcy5tb2RlbC5nZXRNaW4oKTtcbiAgICBjb25zdCBtYXggPSB0aGlzLm1vZGVsLmdldE1heCgpO1xuICAgIGxldCBwZXJjZW50ID0gKCh2YWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKSkgKiAxMDA7XG4gICAgcGVyY2VudCA9IFByZXNlbnRlci5yZW1vdmVDYWxjSW5hY2N1cmFjeShwZXJjZW50KTtcblxuICAgIHJldHVybiBwZXJjZW50O1xuICB9XG5cbiAgcHJpdmF0ZSBjb252ZXJ0UHhUb1ZhbHVlKHB4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCBwZXJjZW50ID0gMDtcblxuICAgIGlmICghdGhpcy52aWV3LmlzVmVydGljYWwoKSkge1xuICAgICAgY29uc3QgdHJhY2tXaWR0aEluUHggPSB0aGlzLnZpZXcuZ2V0VHJhY2tXaWR0aCgpO1xuICAgICAgcGVyY2VudCA9IChweCAqIDEwMCkgLyB0cmFja1dpZHRoSW5QeDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWV3LmlzVmVydGljYWwoKSkge1xuICAgICAgY29uc3QgdHJhY2tIZWlnaHRJblB4ID0gdGhpcy52aWV3LmdldFRyYWNrSGVpZ2h0KCk7XG4gICAgICBwZXJjZW50ID0gKHB4ICogMTAwKSAvIHRyYWNrSGVpZ2h0SW5QeDtcbiAgICB9XG5cbiAgICBjb25zdCBtaW4gPSB0aGlzLm1vZGVsLmdldE1pbigpO1xuICAgIGNvbnN0IG1heCA9IHRoaXMubW9kZWwuZ2V0TWF4KCk7XG4gICAgbGV0IHZhbHVlID0gKChtYXggLSBtaW4pICogKHBlcmNlbnQgLyAxMDApICsgbWluKTtcbiAgICB2YWx1ZSA9IHRoaXMuZml0VG9TdGVwKHZhbHVlKTtcbiAgICB2YWx1ZSA9IFByZXNlbnRlci5yZW1vdmVDYWxjSW5hY2N1cmFjeSh2YWx1ZSk7XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBwcml2YXRlIGZpdFRvU3RlcCh2YWx1ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgcmVzdWx0ID0gTWF0aC5yb3VuZCh2YWx1ZSAvIHRoaXMubW9kZWwuZ2V0U3RlcCgpKSAqIHRoaXMubW9kZWwuZ2V0U3RlcCgpO1xuICAgIHJlc3VsdCA9IFByZXNlbnRlci5yZW1vdmVDYWxjSW5hY2N1cmFjeShyZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZpZXdTZXRMZWZ0RnJvbU91dHNpZGUodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubW9kZWwuc2V0TGVmdFZhbHVlKHZhbHVlKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld1NldFJpZ2h0RnJvbU91dHNpZGUodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubW9kZWwuc2V0UmlnaHRWYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZpZXdTZXRNaW4odmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubW9kZWwuc2V0TWluKHZhbHVlKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTW9kZWxTZXRNaW4oKTogdm9pZCB7XG4gICAgdGhpcy52aWV3LnNldE1pblZhbHVlKHRoaXMubW9kZWwuZ2V0TWluKCkpO1xuICAgIHRoaXMucGFzc0xlZnRWYWx1ZVRvVmlldyh0aGlzLm1vZGVsLmdldExlZnRWYWx1ZSgpKTtcblxuICAgIGNvbnN0IHJpZ2h0VmFsdWUgPSB0aGlzLm1vZGVsLmdldFJpZ2h0VmFsdWUoKTtcbiAgICBpZiAocmlnaHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnBhc3NSaWdodFZhbHVlVG9WaWV3KHJpZ2h0VmFsdWUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZpZXcuaGFzU2NhbGUoKSkge1xuICAgICAgdGhpcy52aWV3LnJlbW92ZVNjYWxlKCk7XG4gICAgICB0aGlzLnZpZXcuYWRkU2NhbGUodGhpcy5tb2RlbC5nZXRNaW4oKSwgdGhpcy5tb2RlbC5nZXRNYXgoKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmlldy5oYXNQYW5lbCgpKSB7XG4gICAgICB0aGlzLnZpZXcudXBkYXRlUGFuZWxNaW4odGhpcy5tb2RlbC5nZXRNaW4oKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3U2V0TWF4KHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm1vZGVsLnNldE1heCh2YWx1ZSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1vZGVsU2V0TWF4KCk6IHZvaWQge1xuICAgIHRoaXMudmlldy5zZXRNYXhWYWx1ZSh0aGlzLm1vZGVsLmdldE1heCgpKTtcbiAgICB0aGlzLnBhc3NMZWZ0VmFsdWVUb1ZpZXcodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSk7XG5cbiAgICBjb25zdCByaWdodFZhbHVlID0gdGhpcy5tb2RlbC5nZXRSaWdodFZhbHVlKCk7XG4gICAgaWYgKHJpZ2h0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5wYXNzUmlnaHRWYWx1ZVRvVmlldyhyaWdodFZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWV3Lmhhc1NjYWxlKCkpIHtcbiAgICAgIHRoaXMudmlldy5yZW1vdmVTY2FsZSgpO1xuICAgICAgdGhpcy52aWV3LmFkZFNjYWxlKHRoaXMubW9kZWwuZ2V0TWluKCksIHRoaXMubW9kZWwuZ2V0TWF4KCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZpZXcuaGFzUGFuZWwoKSkge1xuICAgICAgdGhpcy52aWV3LnVwZGF0ZVBhbmVsTWF4KHRoaXMubW9kZWwuZ2V0TWF4KCkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld1NldFN0ZXAodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubW9kZWwuc2V0U3RlcCh2YWx1ZSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZpZXdUb2dnbGVPcmllbnRhdGlvbigpOiB2b2lkIHtcbiAgICB0aGlzLnBhc3NMZWZ0VmFsdWVUb1ZpZXcodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSk7XG5cbiAgICBpZiAodGhpcy52aWV3LmlzUmFuZ2UoKSkge1xuICAgICAgY29uc3QgcmlnaHRWYWx1ZSA9IHRoaXMubW9kZWwuZ2V0UmlnaHRWYWx1ZSgpO1xuICAgICAgaWYgKHJpZ2h0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnBhc3NSaWdodFZhbHVlVG9WaWV3KHJpZ2h0VmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnZpZXcuaGFzTGFiZWxzKCkpIHtcbiAgICAgIGlmICghdGhpcy52aWV3LmlzVmVydGljYWwoKSkge1xuICAgICAgICB0aGlzLnZpZXcuZml4TGFiZWxzQ29udGFpbmVySGVpZ2h0Rm9ySG9yaXpvbnRhbCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy52aWV3LmlzVmVydGljYWwoKSkge1xuICAgICAgICB0aGlzLnZpZXcuZml4TGFiZWxzQ29udGFpbmVyV2lkdGhGb3JWZXJ0aWNhbCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld1RvZ2dsZVJhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMubW9kZWwudG9nZ2xlUmFuZ2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTW9kZWxUb2dnbGVSYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnBhc3NMZWZ0VmFsdWVUb1ZpZXcodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSk7XG5cbiAgICBpZiAodGhpcy5tb2RlbC5pc1JhbmdlKCkpIHtcbiAgICAgIHRoaXMubW9kZWwuc2V0UmlnaHRWYWx1ZSgpO1xuICAgICAgY29uc3QgcmlnaHRWYWx1ZSA9IHRoaXMubW9kZWwuZ2V0UmlnaHRWYWx1ZSgpO1xuICAgICAgaWYgKHJpZ2h0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnBhc3NSaWdodFZhbHVlVG9WaWV3KHJpZ2h0VmFsdWUpO1xuICAgICAgICB0aGlzLnZpZXcudXBkYXRlSW5wdXQodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSwgcmlnaHRWYWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLnZpZXcuaGFzUGFuZWwoKSkge1xuICAgICAgICAgIHRoaXMudmlldy51cGRhdGVQYW5lbFRvKHJpZ2h0VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1vZGVsLmlzUmFuZ2UoKSkge1xuICAgICAgdGhpcy5tb2RlbC5yZW1vdmVSaWdodFZhbHVlKCk7XG4gICAgICB0aGlzLnZpZXcudXBkYXRlSW5wdXQodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSk7XG4gICAgICBpZiAodGhpcy52aWV3Lmhhc1BhbmVsKCkpIHtcbiAgICAgICAgdGhpcy52aWV3LnVwZGF0ZVBhbmVsVG8oJycpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTW9kZWxTZXRTdGVwKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZpZXcuaGFzUGFuZWwoKSkge1xuICAgICAgdGhpcy52aWV3LnVwZGF0ZVBhbmVsU3RlcCh0aGlzLm1vZGVsLmdldFN0ZXAoKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3VG9nZ2xlU2NhbGUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnZpZXcuaGFzU2NhbGUoKSkge1xuICAgICAgdGhpcy52aWV3LmFkZFNjYWxlKHRoaXMubW9kZWwuZ2V0TWluKCksIHRoaXMubW9kZWwuZ2V0TWF4KCkpO1xuXG4gICAgICBpZiAodGhpcy52aWV3Lmhhc1BhbmVsKCkpIHtcbiAgICAgICAgdGhpcy52aWV3LnVwZGF0ZVBhbmVsU2NhbGVJbnRlcnZhbHModGhpcy52aWV3LmdldFNjYWxlSW50ZXJ2YWxzKCkgPz8gNCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWV3Lmhhc1NjYWxlKCkpIHtcbiAgICAgIHRoaXMudmlldy5yZW1vdmVTY2FsZSgpO1xuXG4gICAgICBpZiAodGhpcy52aWV3Lmhhc1BhbmVsKCkpIHtcbiAgICAgICAgdGhpcy52aWV3LnVwZGF0ZVBhbmVsU2NhbGVJbnRlcnZhbHMoJycpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld1NldFNjYWxlSW50ZXJ2YWxzKCk6IHZvaWQge1xuICAgIHRoaXMudmlldy5hZGRTY2FsZSh0aGlzLm1vZGVsLmdldE1pbigpLCB0aGlzLm1vZGVsLmdldE1heCgpKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld0FkZFZhbHVlTGFiZWxzKCk6IHZvaWQge1xuICAgIHRoaXMucGFzc0xlZnRWYWx1ZVRvVmlldyh0aGlzLm1vZGVsLmdldExlZnRWYWx1ZSgpKTtcbiAgICBpZiAodGhpcy52aWV3LmlzUmFuZ2UoKSkge1xuICAgICAgY29uc3QgcmlnaHRWYWx1ZSA9IHRoaXMubW9kZWwuZ2V0UmlnaHRWYWx1ZSgpO1xuICAgICAgaWYgKHJpZ2h0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnBhc3NSaWdodFZhbHVlVG9WaWV3KHJpZ2h0VmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld0FkZE1pbk1heExhYmVscygpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXcuc2V0TWluVmFsdWUodGhpcy5tb2RlbC5nZXRNaW4oKSk7XG4gICAgdGhpcy52aWV3LnNldE1heFZhbHVlKHRoaXMubW9kZWwuZ2V0TWF4KCkpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByZXNlbnRlcjtcbiIsImltcG9ydCBNb2RlbCBmcm9tICcuL01vZGVsL01vZGVsJztcbmltcG9ydCBWaWV3IGZyb20gJy4vVmlldy9WaWV3JztcbmltcG9ydCBQcmVzZW50ZXIgZnJvbSAnLi9QcmVzZW50ZXIvUHJlc2VudGVyJztcblxudHlwZSBTbGlkZXJPcHRpb25zID0ge1xuICBtaW46IG51bWJlcixcbiAgbWF4OiBudW1iZXIsXG4gIGxlZnRWYWx1ZTogbnVtYmVyLFxuICByaWdodFZhbHVlOiBudW1iZXIsXG4gIHJhbmdlOiBib29sZWFuLFxuICBzdGVwOiBudW1iZXIsXG4gIG1pbk1heExhYmVsczogYm9vbGVhbixcbiAgdmFsdWVMYWJlbHM6IGJvb2xlYW4sXG4gIHZlcnRpY2FsOiBib29sZWFuLFxuICBzY2FsZTogYm9vbGVhbixcbiAgc2NhbGVJbnRlcnZhbHM6IG51bWJlcixcbiAgcGFuZWw6IGJvb2xlYW4sXG59O1xuXG5jbGFzcyBTbGlkZXIge1xuICBlbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcblxuICBtb2RlbDogTW9kZWw7XG5cbiAgdmlldzogVmlldztcblxuICBwcmVzZW50ZXI6IFByZXNlbnRlcjtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRGl2RWxlbWVudCwgb3B0aW9uczogU2xpZGVyT3B0aW9ucykge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5tb2RlbCA9IG5ldyBNb2RlbCh7XG4gICAgICBtaW46IG9wdGlvbnMubWluLFxuICAgICAgbWF4OiBvcHRpb25zLm1heCxcbiAgICAgIGxlZnRWYWx1ZTogb3B0aW9ucy5sZWZ0VmFsdWUsXG4gICAgICByaWdodFZhbHVlOiBvcHRpb25zLnJpZ2h0VmFsdWUsXG4gICAgICByYW5nZTogb3B0aW9ucy5yYW5nZSxcbiAgICAgIHN0ZXA6IG9wdGlvbnMuc3RlcCxcbiAgICB9KTtcbiAgICB0aGlzLnZpZXcgPSBuZXcgVmlldyhlbGVtZW50LCB7XG4gICAgICBtaW5NYXhMYWJlbHM6IG9wdGlvbnMubWluTWF4TGFiZWxzLFxuICAgICAgdmFsdWVMYWJlbHM6IG9wdGlvbnMudmFsdWVMYWJlbHMsXG4gICAgICB2ZXJ0aWNhbDogb3B0aW9ucy52ZXJ0aWNhbCxcbiAgICAgIHJhbmdlOiBvcHRpb25zLnJhbmdlLFxuICAgICAgc2NhbGU6IG9wdGlvbnMuc2NhbGUsXG4gICAgICBzY2FsZUludGVydmFsczogb3B0aW9ucy5zY2FsZUludGVydmFscyxcbiAgICAgIHBhbmVsOiBvcHRpb25zLnBhbmVsLFxuICAgIH0pO1xuICAgIHRoaXMucHJlc2VudGVyID0gbmV3IFByZXNlbnRlcih0aGlzLm1vZGVsLCB0aGlzLnZpZXcpO1xuXG4gICAgdGhpcy5tb2RlbC5zdWJzY3JpYmUodGhpcyk7XG4gIH1cblxuICBpbmZvcm0oZXZlbnRUeXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBzd2l0Y2ggKGV2ZW50VHlwZSkge1xuICAgICAgY2FzZSAnbW9kZWxMZWZ0U2V0JzpcbiAgICAgICAgaWYgKHRoaXMub25DaGFuZ2UpIHtcbiAgICAgICAgICB0aGlzLm9uQ2hhbmdlKHRoaXMubW9kZWwuZ2V0TGVmdFZhbHVlKCksIHRoaXMubW9kZWwuZ2V0UmlnaHRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21vZGVsUmlnaHRTZXQnOlxuICAgICAgICBpZiAodGhpcy5vbkNoYW5nZSkge1xuICAgICAgICAgIHRoaXMub25DaGFuZ2UodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSwgdGhpcy5tb2RlbC5nZXRSaWdodFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBzZXRMZWZ0VmFsdWUodmFsdWU6IG51bWJlcik6IHRoaXMge1xuICAgIHRoaXMudmlldy5jaGFuZ2VMZWZ0VmFsdWVGcm9tT3V0c2lkZSh2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZXRSaWdodFZhbHVlKHZhbHVlOiBudW1iZXIpOiB0aGlzIHtcbiAgICB0aGlzLnZpZXcuY2hhbmdlUmlnaHRWYWx1ZUZyb21PdXRzaWRlKHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNldFN0ZXAodmFsdWU6IG51bWJlcik6IHRoaXMge1xuICAgIHRoaXMudmlldy5jaGFuZ2VTdGVwRnJvbU91dHNpZGUodmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgb25DaGFuZ2U/OiAobGVmdFZhbHVlOiBudW1iZXIsIHJpZ2h0VmFsdWU6IG51bWJlciB8IHVuZGVmaW5lZCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IHsgU2xpZGVyLCBTbGlkZXJPcHRpb25zIH07XG4iLCJpbXBvcnQgJ2FpcmJuYi1icm93c2VyLXNoaW1zJztcblxuaW1wb3J0IHsgU2xpZGVyLCBTbGlkZXJPcHRpb25zIH0gZnJvbSAnLi9TbGlkZXInO1xuaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBKUXVlcnkge1xuICAgIHJhbmdlU2xpZGVyOiBJUmFuZ2VTbGlkZXI7XG4gIH1cblxuICBpbnRlcmZhY2UgSVJhbmdlU2xpZGVyIHtcbiAgICAob3B0aW9ucz86IG9iamVjdCk6IEpRdWVyeTxIVE1MRWxlbWVudD47XG4gIH1cbn1cblxuKGZ1bmN0aW9uIHJhbmdlU2xpZGVyV3JhcHBlcihqUSkge1xuICBjb25zdCAkID0galE7XG5cbiAgY29uc3QgZGVmYXVsdHM6IFJlYWRvbmx5PFNsaWRlck9wdGlvbnM+ID0ge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IDEwMCxcbiAgICByYW5nZTogdHJ1ZSxcbiAgICBsZWZ0VmFsdWU6IDI1LFxuICAgIHJpZ2h0VmFsdWU6IDc1LFxuICAgIHN0ZXA6IDEsXG4gICAgbWluTWF4TGFiZWxzOiB0cnVlLFxuICAgIHZhbHVlTGFiZWxzOiB0cnVlLFxuICAgIHZlcnRpY2FsOiBmYWxzZSxcbiAgICBzY2FsZTogZmFsc2UsXG4gICAgc2NhbGVJbnRlcnZhbHM6IDUsXG4gICAgcGFuZWw6IGZhbHNlLFxuICB9O1xuXG4gICQuZm4ucmFuZ2VTbGlkZXIgPSBmdW5jdGlvbiBpbml0U2xpZGVycyhvcHRpb25zOiBQYXJ0aWFsPFNsaWRlck9wdGlvbnM+ID0ge30pOiBKUXVlcnkge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gaW5pdFNsaWRlcigpIHtcbiAgICAgIGNvbnN0IHNldHRpbmdzRnJvbURhdGFzZXQ6IFBhcnRpYWw8U2xpZGVyT3B0aW9ucz4gPSB7XG4gICAgICAgIG1pbjogJCh0aGlzKS5kYXRhKCdtaW4nKSxcbiAgICAgICAgbWF4OiAkKHRoaXMpLmRhdGEoJ21heCcpLFxuICAgICAgICByYW5nZTogJCh0aGlzKS5kYXRhKCdyYW5nZScpLFxuICAgICAgICBsZWZ0VmFsdWU6ICQodGhpcykuZGF0YSgnbGVmdFZhbHVlJyksXG4gICAgICAgIHJpZ2h0VmFsdWU6ICQodGhpcykuZGF0YSgncmlnaHRWYWx1ZScpLFxuICAgICAgICBzdGVwOiAkKHRoaXMpLmRhdGEoJ3N0ZXAnKSxcbiAgICAgICAgbWluTWF4TGFiZWxzOiAkKHRoaXMpLmRhdGEoJ21pbk1heExhYmVscycpLFxuICAgICAgICB2YWx1ZUxhYmVsczogJCh0aGlzKS5kYXRhKCd2YWx1ZUxhYmVscycpLFxuICAgICAgICB2ZXJ0aWNhbDogJCh0aGlzKS5kYXRhKCd2ZXJ0aWNhbCcpLFxuICAgICAgICBzY2FsZTogJCh0aGlzKS5kYXRhKCdzY2FsZScpLFxuICAgICAgICBzY2FsZUludGVydmFsczogJCh0aGlzKS5kYXRhKCdzY2FsZUludGVydmFscycpLFxuICAgICAgICBwYW5lbDogJCh0aGlzKS5kYXRhKCdwYW5lbCcpLFxuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gdmFsaWRhdGUoc2V0dGluZ3M6IFNsaWRlck9wdGlvbnMpOiBTbGlkZXJPcHRpb25zIHtcbiAgICAgICAgbGV0IGZpeGVkU2V0dGluZ3M6IFNsaWRlck9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgc2V0dGluZ3MpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZVdyb25nVHlwZXMoKTogdm9pZCB7XG4gICAgICAgICAgZnVuY3Rpb24gY2hlY2tUeXBlKHByb3BlcnR5OiBrZXlvZiBTbGlkZXJPcHRpb25zKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzW3Byb3BlcnR5XSAhPT0gdHlwZW9mIGRlZmF1bHRzW3Byb3BlcnR5XSkge1xuICAgICAgICAgICAgICBkZWxldGUgZml4ZWRTZXR0aW5nc1twcm9wZXJ0eV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLyogVGhlcmUgaXMgbm8gT2JqZWN0LmtleXMoKS5mb3JFYWNoIGJlY2F1c2UgVFMgdGhyb3dzIGFuIGVycm9yOlxuICAgICAgICAgICAqIFwiVHlwZSAnc3RyaW5nW10nIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ2tleW9mIFJhbmdlU2xpZGVyT3B0aW9uc1tdJ1wiICovXG4gICAgICAgICAgY2hlY2tUeXBlKCdtaW4nKTtcbiAgICAgICAgICBjaGVja1R5cGUoJ21heCcpO1xuICAgICAgICAgIGNoZWNrVHlwZSgnbGVmdFZhbHVlJyk7XG4gICAgICAgICAgY2hlY2tUeXBlKCdyaWdodFZhbHVlJyk7XG4gICAgICAgICAgY2hlY2tUeXBlKCdyYW5nZScpO1xuICAgICAgICAgIGNoZWNrVHlwZSgnc3RlcCcpO1xuICAgICAgICAgIGNoZWNrVHlwZSgnbWluTWF4TGFiZWxzJyk7XG4gICAgICAgICAgY2hlY2tUeXBlKCd2YWx1ZUxhYmVscycpO1xuICAgICAgICAgIGNoZWNrVHlwZSgndmVydGljYWwnKTtcbiAgICAgICAgICBjaGVja1R5cGUoJ3NjYWxlJyk7XG4gICAgICAgICAgY2hlY2tUeXBlKCdzY2FsZUludGVydmFscycpO1xuICAgICAgICAgIGNoZWNrVHlwZSgncGFuZWwnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG1lcmdlV2l0aERlZmF1bHRzKCk6IHZvaWQge1xuICAgICAgICAgIGZpeGVkU2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIGZpeGVkU2V0dGluZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZml4VmFsdWVzKCk6IHZvaWQge1xuICAgICAgICAgIGlmIChmaXhlZFNldHRpbmdzLm1pbiA+IGZpeGVkU2V0dGluZ3MubWF4KSB7XG4gICAgICAgICAgICBbZml4ZWRTZXR0aW5ncy5taW4sIGZpeGVkU2V0dGluZ3MubWF4XSA9IFtmaXhlZFNldHRpbmdzLm1heCwgZml4ZWRTZXR0aW5ncy5taW5dO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChmaXhlZFNldHRpbmdzLmxlZnRWYWx1ZSA8IGZpeGVkU2V0dGluZ3MubWluKSB7XG4gICAgICAgICAgICBmaXhlZFNldHRpbmdzLmxlZnRWYWx1ZSA9IGZpeGVkU2V0dGluZ3MubWluO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChmaXhlZFNldHRpbmdzLnJpZ2h0VmFsdWUgPiBmaXhlZFNldHRpbmdzLm1heCkge1xuICAgICAgICAgICAgZml4ZWRTZXR0aW5ncy5yaWdodFZhbHVlID0gZml4ZWRTZXR0aW5ncy5tYXg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGZpeGVkU2V0dGluZ3MubGVmdFZhbHVlID4gZml4ZWRTZXR0aW5ncy5tYXgpIHtcbiAgICAgICAgICAgIGZpeGVkU2V0dGluZ3MubGVmdFZhbHVlID0gZml4ZWRTZXR0aW5ncy5tYXg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGZpeGVkU2V0dGluZ3MubGVmdFZhbHVlID4gZml4ZWRTZXR0aW5ncy5yaWdodFZhbHVlKSB7XG4gICAgICAgICAgICBbZml4ZWRTZXR0aW5ncy5sZWZ0VmFsdWUsIGZpeGVkU2V0dGluZ3MucmlnaHRWYWx1ZV0gPSAoXG4gICAgICAgICAgICAgIFtmaXhlZFNldHRpbmdzLnJpZ2h0VmFsdWUsIGZpeGVkU2V0dGluZ3MubGVmdFZhbHVlXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZml4ZWRTZXR0aW5ncy5zdGVwID4gTWF0aC5hYnMoZml4ZWRTZXR0aW5ncy5tYXggLSBmaXhlZFNldHRpbmdzLm1pbikpIHtcbiAgICAgICAgICAgIGZpeGVkU2V0dGluZ3Muc3RlcCA9IE1hdGguYWJzKGZpeGVkU2V0dGluZ3MubWF4IC0gZml4ZWRTZXR0aW5ncy5taW4pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChmaXhlZFNldHRpbmdzLnNjYWxlSW50ZXJ2YWxzIDwgMSkge1xuICAgICAgICAgICAgZml4ZWRTZXR0aW5ncy5zY2FsZUludGVydmFscyA9IDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKE51bWJlci5pc0ludGVnZXIoZml4ZWRTZXR0aW5ncy5zY2FsZUludGVydmFscykpIHtcbiAgICAgICAgICAgIGZpeGVkU2V0dGluZ3Muc2NhbGVJbnRlcnZhbHMgPSBNYXRoLmZsb29yKGZpeGVkU2V0dGluZ3Muc2NhbGVJbnRlcnZhbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlbW92ZVdyb25nVHlwZXMoKTtcbiAgICAgICAgbWVyZ2VXaXRoRGVmYXVsdHMoKTtcbiAgICAgICAgZml4VmFsdWVzKCk7XG5cbiAgICAgICAgcmV0dXJuIGZpeGVkU2V0dGluZ3M7XG4gICAgICB9XG5cbiAgICAgIGxldCBzZXR0aW5nczogU2xpZGVyT3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucywgc2V0dGluZ3NGcm9tRGF0YXNldCk7XG4gICAgICBzZXR0aW5ncyA9IHZhbGlkYXRlKHNldHRpbmdzKTtcblxuICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBIVE1MRGl2RWxlbWVudCkge1xuICAgICAgICAkKHRoaXMpLmRhdGEoJ3JhbmdlU2xpZGVyJywgbmV3IFNsaWRlcih0aGlzLCBzZXR0aW5ncykpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufShqUXVlcnkpKTtcbiJdLCJuYW1lcyI6WyJFdmVudE1hbmFnZXIiLCJsaXN0ZW5lcnMiLCJzdWJzY3JpYmUiLCJsaXN0ZW5lciIsInRoaXMiLCJwdXNoIiwidW5zdWJzY3JpYmUiLCJmaWx0ZXIiLCJpdGVtIiwibm90aWZ5IiwiZXZlbnRUeXBlIiwiZGF0YSIsImxlbmd0aCIsImZvckVhY2giLCJpbmZvcm0iLCJjb25zdHJ1Y3RvciIsInRhZyIsImNsYXNzTmFtZSIsImNvbXBvbmVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImVsZW1lbnQiLCJnZXRDb21wb25lbnQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnZXRXaWR0aCIsIm9mZnNldFdpZHRoIiwiZ2V0SGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0Iiwic2V0SW5kZW50Iiwic2lkZSIsImluZGVudCIsInN0eWxlIiwicmVtb3ZlIiwidmlldyIsInN1cGVyIiwiYXR0YWNoRXZlbnRIYW5kbGVycyIsImFwcGVuZCIsImVsZW1lbnRzIiwiaGFuZGxlQ2xpY2siLCJldmVudCIsImN1cnJlbnRUYXJnZXQiLCJIVE1MRWxlbWVudCIsIngiLCJjbGllbnRYIiwibGVmdCIsInkiLCJjbGllbnRZIiwidG9wIiwiaGFuZGxlU2NhbGVPclRyYWNrQ2xpY2siLCJhZGRFdmVudExpc3RlbmVyIiwiYmluZCIsInNldFdpZHRoIiwicGVyY2VudCIsIndpZHRoIiwic2V0SGVpZ2h0IiwiaGVpZ2h0IiwicmVzZXRXaWR0aCIsInJlc2V0SGVpZ2h0IiwicmVzZXRUb3BJbmRlbnQiLCJUaHVtYiIsInR5cGUiLCJnZXRMZWZ0SW5kZW50IiwiZ2V0VG9wSW5kZW50Iiwic2V0WkluZGV4IiwidmFsdWUiLCJ6SW5kZXgiLCJjbGFzc0xpc3QiLCJhZGQiLCJoYW5kbGVQb2ludGVyRG93biIsInNldFBvaW50ZXJDYXB0dXJlIiwicG9pbnRlcklkIiwicHJldmVudERlZmF1bHQiLCJzaGlmdFgiLCJzaGlmdFkiLCJoYW5kbGVQb2ludGVyTW92ZSIsIm5ld0V2ZW50IiwiaGFuZGxlTGVmdElucHV0IiwiaGFuZGxlUmlnaHRJbnB1dCIsImhhbmRsZVBvaW50ZXJVcCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVQb2ludGVyT3ZlciIsImhhbmRsZVBvaW50ZXJPdXQiLCJoYW5kbGVEcmFnU3RhcnQiLCJtaW4iLCJtYXgiLCJpbnRlcnZhbHMiLCJ2YWx1ZXMiLCJ2YWx1ZUVsZW1lbnRzIiwiaW50ZXJ2YWxzTnVtYmVyIiwiZ2V0U2NhbGVJbnRlcnZhbHMiLCJjcmVhdGVJbnRlcnZhbHMiLCJhZGRNYXJrc0luSW50ZXJ2YWxzIiwiYWRkVmFsdWVzIiwiZml0V2lkdGhGb3JWZXJ0aWNhbCIsIm1heFdpZHRoIiwidmFsdWVFbGVtZW50IiwicGFkZGluZ1JpZ2h0IiwiZml0SGVpZ2h0Rm9ySG9yaXpvbnRhbCIsIm1heEhlaWdodCIsInBhZGRpbmdCb3R0b20iLCJoYW5kbGVTd2l0Y2hGcm9tSG9yaXpvbnRhbFRvVmVydGljYWwiLCJoYW5kbGVTd2l0Y2hGcm9tVmVydGljYWxUb0hvcml6b250YWwiLCJpIiwiZnJhZ21lbnQiLCJEb2N1bWVudEZyYWdtZW50Iiwic3RlcCIsIk1hdGgiLCJyb3VuZCIsInRleHRDb250ZW50IiwibmV3VmFsdWVFbGVtZW50IiwiZml4V2lkdGhGb3JWZXJ0aWNhbCIsImxhYmVscyIsImxhYmVsIiwicGFkZGluZ0xlZnQiLCJmaXhIZWlnaHRGb3JIb3Jpem9udGFsIiwicGFkZGluZ1RvcCIsInNldE9wYWNpdHkiLCJvcGFjaXR5Iiwic2V0VmFsdWUiLCJnZXRWYWx1ZSIsIk51bWJlciIsInNldEF0dHJpYnV0ZXMiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJ0YWJJbmRleCIsInJlYWRPbmx5IiwiUGFuZWwiLCJmcm9tIiwidG8iLCJ2ZXJ0aWNhbCIsInJhbmdlIiwic2NhbGUiLCJzY2FsZUludGVydmFscyIsInZhbHVlTGFiZWxzIiwibWluTWF4TGFiZWxzIiwicmVuZGVyIiwic2V0VmFsdWVzIiwib3B0aW9ucyIsImNoZWNrZWQiLCJzZXRDaGVja01hcmtzIiwidXBkYXRlRnJvbSIsInVwZGF0ZUF0dHJpYnV0ZXNBZnRlckZyb21DaGFuZ2UiLCJ1cGRhdGVUbyIsInVwZGF0ZUF0dHJpYnV0ZXNBZnRlclRvQ2hhbmdlIiwidXBkYXRlU3RlcCIsInVwZGF0ZUF0dHJpYnV0ZXNBZnRlclN0ZXBDaGFuZ2UiLCJ1cGRhdGVNaW4iLCJ1cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJNaW5DaGFuZ2UiLCJ1cGRhdGVNYXgiLCJ1cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJNYXhDaGFuZ2UiLCJ1cGRhdGVTY2FsZUludGVydmFscyIsImlucHV0IiwibmFtZSIsImlzSW50ZWdlciIsInJlc3VsdCIsInRvU3RyaW5nIiwic3BsaXQiLCJjbG9zZXN0IiwidG9nZ2xlIiwic2V0VHlwZXMiLCJhZGRMYWJlbCIsImNhbGNTdGVwTWluIiwiYWJzIiwiZGlzYWJsZWQiLCJjaGVja2JveCIsInRvZ2dsZUNoZWNrYm94IiwiaXNSYW5nZSIsImhhbmRsZU1pbkNoYW5nZSIsImNoYW5nZU1pbkZyb21PdXRzaWRlIiwiaGFuZGxlTWF4Q2hhbmdlIiwiY2hhbmdlTWF4RnJvbU91dHNpZGUiLCJoYW5kbGVTdGVwQ2hhbmdlIiwiY2hhbmdlU3RlcEZyb21PdXRzaWRlIiwiaGFuZGxlRnJvbUNoYW5nZSIsImNoYW5nZUxlZnRWYWx1ZUZyb21PdXRzaWRlIiwiaGFuZGxlVG9DaGFuZ2UiLCJjaGFuZ2VSaWdodFZhbHVlRnJvbU91dHNpZGUiLCJoYW5kbGVWZXJ0aWNhbENoYW5nZSIsImNoYW5nZU9yaWVudGF0aW9uRnJvbU91dHNpZGUiLCJoYW5kbGVSYW5nZUNoYW5nZSIsInRvZ2dsZVJhbmdlRnJvbU91dHNpZGUiLCJoYW5kbGVTY2FsZUNoYW5nZSIsInRvZ2dsZVNjYWxlRnJvbU91dHNpZGUiLCJoYW5kbGVTY2FsZUludGVydmFsc0NoYW5nZSIsImZsb29yIiwiY2hhbmdlU2NhbGVJbnRlcnZhbHMiLCJoYW5kbGVWYWx1ZUxhYmVsc0NoYW5nZSIsInRvZ2dsZVZhbHVlTGFiZWxzIiwiaGFuZGxlTWluTWF4TGFiZWxzQ2hhbmdlIiwidG9nZ2xlTWluTWF4TGFiZWxzIiwiZXZlbnRNYW5hZ2VyIiwic2xpZGVyIiwidHJhY2siLCJ0aHVtYkxlZnQiLCJ0aHVtYlJpZ2h0IiwibGFiZWxzQ29udGFpbmVyIiwibWluTGFiZWwiLCJtYXhMYWJlbCIsInZhbHVlTGFiZWxMZWZ0IiwidmFsdWVMYWJlbFJpZ2h0IiwidmFsdWVMYWJlbENvbW1vbiIsInBhbmVsIiwic2V0TWluVmFsdWUiLCJzZXRNYXhWYWx1ZSIsInNldExlZnRWYWx1ZSIsImlzVHdvVmFsdWVMYWJlbHNDbG9zZSIsIm1lcmdlTGFiZWxzIiwic3BsaXRMYWJlbHMiLCJpc0xlZnRWYWx1ZUxhYmVsQ2xvc2VUb01pbkxhYmVsIiwiaXNMZWZ0VmFsdWVMYWJlbENsb3NlVG9NYXhMYWJlbCIsInNldFJpZ2h0VmFsdWUiLCJpc1JpZ2h0VmFsdWVMYWJlbENsb3NlVG9NYXhMYWJlbCIsInVwZGF0ZUlucHV0IiwidHJhY2tTaGlmdCIsIm5ld0xlZnQiLCJ0cmFja1dpZHRoIiwiZ2V0VHJhY2tXaWR0aCIsInJpZ2h0VGh1bWJQb3NpdGlvbiIsIm5ld1RvcCIsInRyYWNrSGVpZ2h0IiwiZ2V0VHJhY2tIZWlnaHQiLCJuZXdCb3R0b20iLCJsZWZ0VGh1bWJQb3NpdGlvbiIsImFkZFNjYWxlIiwiYWZ0ZXIiLCJyZW1vdmVTY2FsZSIsInVuZGVmaW5lZCIsImdldFNjYWxlIiwiYWRkU21vb3RoVHJhbnNpdGlvbiIsInNldFRpbWVvdXQiLCJyZW1vdmVTbW9vdGhUcmFuc2l0aW9uIiwid2hpY2hUaHVtYklzTmVhcmVyIiwiZml4TGFiZWxzQ29udGFpbmVyV2lkdGhGb3JWZXJ0aWNhbCIsImNvbGxlY3RMYWJlbHMiLCJmaXhMYWJlbHNDb250YWluZXJIZWlnaHRGb3JIb3Jpem9udGFsIiwic2V0UGFuZWxWYWx1ZXMiLCJ1cGRhdGVQYW5lbEZyb20iLCJ1cGRhdGVQYW5lbFRvIiwidXBkYXRlUGFuZWxTY2FsZUludGVydmFscyIsInVwZGF0ZVBhbmVsU3RlcCIsInVwZGF0ZVBhbmVsTWluIiwidXBkYXRlUGFuZWxNYXgiLCJkZXN0cm95IiwiYmVmb3JlIiwiaGFzTGFiZWxzIiwiaGFzU2NhbGUiLCJoYXNNaW5NYXhMYWJlbHMiLCJoYXNWYWx1ZUxhYmVscyIsImhhc1BhbmVsIiwiaXNWZXJ0aWNhbCIsInBhbmVsV3JhcHBlciIsImNoaWxkcmVuIiwiZGlzdGFuY2VCZXR3ZWVuVGh1bWJzIiwicGFyc2VJbnQiLCJpc1R3b0xhYmVsc0Nsb3NlIiwibGFiZWwxIiwibGFiZWwyIiwiYm90dG9tIiwibGVmdExhYmVsRWRnZSIsInJpZ2h0IiwibGVmdFRodW1iQ29vcmRzIiwicmlnaHRUaHVtYkNvb3JkcyIsInRyYWNrQ29vcmRzIiwiZGlzdGFuY2VGcm9tTGVmdFRodW1iQ2VudGVyIiwiZGlzdGFuY2VGcm9tUmlnaHRUaHVtYkNlbnRlciIsImxlZnRUaHVtYkNlbnRlciIsInJpZ2h0VGh1bWJDZW50ZXIiLCJQcmVzZW50ZXIiLCJtb2RlbCIsImluaXRWaWV3VmFsdWVzIiwiaGFuZGxlVmlld0lucHV0TGVmdCIsImhhbmRsZVZpZXdJbnB1dFJpZ2h0IiwiaGFuZGxlVmlld1NldExlZnRGcm9tT3V0c2lkZSIsImhhbmRsZVZpZXdTZXRSaWdodEZyb21PdXRzaWRlIiwiaGFuZGxlVmlld1NldE1pbiIsImhhbmRsZVZpZXdTZXRNYXgiLCJoYW5kbGVWaWV3U2V0U3RlcCIsImhhbmRsZVZpZXdUb2dnbGVPcmllbnRhdGlvbiIsImhhbmRsZVZpZXdUb2dnbGVSYW5nZSIsImhhbmRsZVZpZXdUb2dnbGVTY2FsZSIsImhhbmRsZVZpZXdTZXRTY2FsZUludGVydmFscyIsImhhbmRsZVZpZXdBZGRWYWx1ZUxhYmVscyIsImhhbmRsZVZpZXdBZGRNaW5NYXhMYWJlbHMiLCJoYW5kbGVNb2RlbFNldExlZnQiLCJoYW5kbGVNb2RlbFNldFJpZ2h0IiwiaGFuZGxlTW9kZWxTZXRNaW4iLCJoYW5kbGVNb2RlbFNldE1heCIsImhhbmRsZU1vZGVsVG9nZ2xlUmFuZ2UiLCJoYW5kbGVNb2RlbFNldFN0ZXAiLCJ0b0ZpeGVkIiwiZ2V0TWluIiwiZ2V0TWF4IiwibGVmdFZhbHVlIiwiZ2V0TGVmdFZhbHVlIiwicmlnaHRWYWx1ZSIsImdldFJpZ2h0VmFsdWUiLCJwYXNzTGVmdFZhbHVlVG9WaWV3IiwicGFzc1JpZ2h0VmFsdWVUb1ZpZXciLCJnZXRTdGVwIiwicHgiLCJjb252ZXJ0UHhUb1ZhbHVlIiwidXBkYXRlVmlld0lucHV0IiwiY29udmVydFZhbHVlVG9QZXJjZW50IiwicmVtb3ZlQ2FsY0luYWNjdXJhY3kiLCJmaXRUb1N0ZXAiLCJzZXRNaW4iLCJzZXRNYXgiLCJzZXRTdGVwIiwidG9nZ2xlUmFuZ2UiLCJyZW1vdmVSaWdodFZhbHVlIiwiU2xpZGVyIiwicHJlc2VudGVyIiwib25DaGFuZ2UiLCJqUSIsIiQiLCJkZWZhdWx0cyIsImZuIiwicmFuZ2VTbGlkZXIiLCJlYWNoIiwic2V0dGluZ3NGcm9tRGF0YXNldCIsInNldHRpbmdzIiwiZXh0ZW5kIiwiZml4ZWRTZXR0aW5ncyIsImNoZWNrVHlwZSIsInByb3BlcnR5IiwicmVtb3ZlV3JvbmdUeXBlcyIsInZhbGlkYXRlIiwiSFRNTERpdkVsZW1lbnQiXSwic291cmNlUm9vdCI6IiJ9