"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[577],{52283:(e,t,a)=>{a.d(t,{Z:()=>n});const n=class{constructor(e,t){this.component=document.createElement(e),t&&(this.component.className=t)}static createComponent(e,t){const a=document.createElement(e);return t&&(a.className=t),a}getComponent(){return this.component}getBoundingClientRect(){return this.component.getBoundingClientRect()}getWidth(){return this.component.offsetWidth}getHeight(){return this.component.offsetHeight}setIndent(e,t){"number"==typeof t&&(this.component.style[e]=`${t}%`),"string"==typeof t&&(this.component.style[e]=t)}remove(){this.component.remove()}}},23925:(e,t,a)=>{var n=a(52283);class s extends n.Z{constructor(e,t){super("form"),this.component=e,this.slider=t,this.min=n.Z.createComponent("input","panel__min panel__input"),this.max=n.Z.createComponent("input","panel__max panel__input"),this.step=n.Z.createComponent("input","panel__step panel__input"),this.from=n.Z.createComponent("input","panel__from panel__input"),this.to=n.Z.createComponent("input","panel__to panel__input"),this.vertical=n.Z.createComponent("input","panel__vertical panel__checkbox"),this.range=n.Z.createComponent("input","panel__range panel__checkbox"),this.scale=n.Z.createComponent("input","panel__scale panel__checkbox"),this.scaleIntervals=n.Z.createComponent("input","panel__scale-intervals panel__input"),this.valueLabels=n.Z.createComponent("input","panel__value-labels panel__checkbox"),this.minMaxLabels=n.Z.createComponent("input","panel__min-max-labels panel__checkbox"),this.render(),this.setValues(t.getValues()),this.attachEventHandlers(),t.subscribe(this)}static init(e,t){return new s(e,t)}inform(e,t){switch(e){case"sliderSetLeft":"number"==typeof t&&this.handleSliderChangeValue("from",t);break;case"sliderSetRight":"number"==typeof t&&this.handleSliderChangeValue("to",t);break;case"sliderSetMin":"number"==typeof t&&this.handleSliderChangeValue("min",t);break;case"sliderSetMax":"number"==typeof t&&this.handleSliderChangeValue("max",t);break;case"sliderSetStep":"number"==typeof t&&this.handleSliderChangeValue("step",t);break;case"sliderToggleRange":this.handleSliderToggle("range");break;case"sliderToggleOrientation":this.handleSliderToggle("vertical");break;case"sliderToggleValueLabels":this.handleSliderToggle("valueLabels");break;case"sliderToggleMinMaxLabels":this.handleSliderToggle("minMaxLabels");break;case"sliderToggleScale":this.handleSliderToggle("scale");break;case"sliderSetScaleIntervals":"number"==typeof t&&this.handleSliderChangeValue("scaleIntervals",t)}}static toggleCheckbox(e){const t=e.closest("label");null==t||t.classList.toggle("panel__label_for-checkbox_checked")}render(){(()=>{this.min.type="number",this.max.type="number",this.step.type="number",this.from.type="number",this.to.type="number",this.vertical.type="checkbox",this.range.type="checkbox",this.scale.type="checkbox",this.scaleIntervals.type="number",this.valueLabels.type="checkbox",this.minMaxLabels.type="checkbox"})();const e=(e,t,a)=>{const s=n.Z.createComponent("label","panel__label");return s.textContent=t,a&&s.classList.add(a),s.append(e),s};this.component.append(e(this.range,"Range:","panel__label_for-checkbox"),e(this.vertical,"Vertical:","panel__label_for-checkbox"),e(this.valueLabels,"Value labels:","panel__label_for-checkbox"),e(this.minMaxLabels,"Min&max labels:","panel__label_for-checkbox"),e(this.scale,"Scale:","panel__label_for-checkbox"),e(this.scaleIntervals,"Scale intervals:"),e(this.min,"Min:"),e(this.max,"Max:"),e(this.from,"From:"),e(this.to,"To:"),e(this.step,"Step:"))}setValues(e){this.min.setAttribute("value",`${e.min}`),this.max.setAttribute("value",`${e.max}`),this.step.setAttribute("value",`${e.step}`),this.from.setAttribute("value",`${e.leftValue}`),this.to.setAttribute("value",void 0!==e.rightValue?`${e.rightValue}`:""),this.vertical.checked=e.vertical,this.range.checked=e.range,this.scale.checked=e.scale,this.scaleIntervals.setAttribute("value",`${e.scaleIntervals}`),this.valueLabels.checked=e.valueLabels,this.minMaxLabels.checked=e.minMaxLabels,(()=>{[this.vertical,this.range,this.scale,this.valueLabels,this.minMaxLabels].forEach((e=>{e.checked&&s.toggleCheckbox(e)}))})()}handleInput(e,t){const{target:a}=t;a instanceof HTMLInputElement&&a.hasAttribute("value")&&this.slider[e](Number(a.value))}handleToggle(e){this.slider[e]()}handleSliderChangeValue(e,t){this[e].value=`${t}`}handleSliderToggle(e){s.toggleCheckbox(this[e])}attachEventHandlers(){this.range.addEventListener("change",this.handleToggle.bind(this,"toggleRange")),this.vertical.addEventListener("change",this.handleToggle.bind(this,"toggleOrientation")),this.valueLabels.addEventListener("change",this.handleToggle.bind(this,"toggleValueLabels")),this.minMaxLabels.addEventListener("change",this.handleToggle.bind(this,"toggleMinMaxLabels")),this.scale.addEventListener("change",this.handleToggle.bind(this,"toggleScale")),this.scaleIntervals.addEventListener("change",this.handleInput.bind(this,"setScaleIntervals")),this.min.addEventListener("change",this.handleInput.bind(this,"setMin")),this.max.addEventListener("change",this.handleInput.bind(this,"setMax")),this.from.addEventListener("change",this.handleInput.bind(this,"setLeftValue")),this.to.addEventListener("change",this.handleInput.bind(this,"setRightValue")),this.step.addEventListener("change",this.handleInput.bind(this,"setStep"))}}const l=s;var i=a(65638);i((()=>{[...document.querySelectorAll("form")].filter((e=>e.classList.contains("js-panel"))).forEach((e=>{setTimeout((()=>{const t=i(e).data("slider"),a=i(`#${t}`).data("rangeSlider");l.init(e,a)}),0)}))}));var h=a(65638);h((()=>{h(".js-range-slider").rangeSlider({panel:!1})}))}},e=>{e.O(0,[216],(()=>(23925,e(e.s=23925)))),e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVtby9kZW1vLmpzIiwibWFwcGluZ3MiOiJxR0FzREEsUUF0REEsTUFHRUEsWUFBWUMsRUFBUUMsR0FDbEJDLEtBQUtDLFVBQVlDLFNBQVNDLGNBQWNMLEdBRXBDQyxJQUNGQyxLQUFLQyxVQUFVRixVQUFZQSxHQUlyQix1QkFDUkQsRUFBUUMsR0FFUixNQUFNSyxFQUFVRixTQUFTQyxjQUFjTCxHQU12QyxPQUpJQyxJQUNGSyxFQUFRTCxVQUFZQSxHQUdmSyxFQUdUQyxlQUNFLE9BQU9MLEtBQUtDLFVBR2RLLHdCQUNFLE9BQU9OLEtBQUtDLFVBQVVLLHdCQUd4QkMsV0FDRSxPQUFPUCxLQUFLQyxVQUFVTyxZQUd4QkMsWUFDRSxPQUFPVCxLQUFLQyxVQUFVUyxhQUd4QkMsVUFBVUMsRUFBMkNDLEdBQzdCLGlCQUFYQSxJQUNUYixLQUFLQyxVQUFVYSxNQUFNRixHQUFRLEdBQUdDLE1BR1osaUJBQVhBLElBQ1RiLEtBQUtDLFVBQVVhLE1BQU1GLEdBQVFDLEdBSWpDRSxTQUNFZixLQUFLQyxVQUFVYyxZLCtCQ3pDbkIsTUFBTUMsVUFBY0MsRUFBQSxFQXlCbEJwQixZQUFZSSxFQUE0QmlCLEdBQ3RDQyxNQUFNLFFBRU5uQixLQUFLQyxVQUFZQSxFQUNqQkQsS0FBS2tCLE9BQVNBLEVBRWRsQixLQUFLb0IsSUFBTUgsRUFBQSxrQkFBNEIsUUFBUywyQkFDaERqQixLQUFLcUIsSUFBTUosRUFBQSxrQkFBNEIsUUFBUywyQkFDaERqQixLQUFLc0IsS0FBT0wsRUFBQSxrQkFBNEIsUUFBUyw0QkFDakRqQixLQUFLdUIsS0FBT04sRUFBQSxrQkFBNEIsUUFBUyw0QkFDakRqQixLQUFLd0IsR0FBS1AsRUFBQSxrQkFBNEIsUUFBUywwQkFDL0NqQixLQUFLeUIsU0FBV1IsRUFBQSxrQkFBNEIsUUFBUyxtQ0FDckRqQixLQUFLMEIsTUFBUVQsRUFBQSxrQkFBNEIsUUFBUyxnQ0FDbERqQixLQUFLMkIsTUFBUVYsRUFBQSxrQkFBNEIsUUFBUyxnQ0FDbERqQixLQUFLNEIsZUFBaUJYLEVBQUEsa0JBQTRCLFFBQVMsdUNBQzNEakIsS0FBSzZCLFlBQWNaLEVBQUEsa0JBQTRCLFFBQVMsdUNBQ3hEakIsS0FBSzhCLGFBQWViLEVBQUEsa0JBQTRCLFFBQVMseUNBRXpEakIsS0FBSytCLFNBQ0wvQixLQUFLZ0MsVUFBVWQsRUFBT2UsYUFDdEJqQyxLQUFLa0Msc0JBQ0xoQixFQUFPaUIsVUFBVW5DLE1BR25CLFlBQVlDLEVBQTRCaUIsR0FDdEMsT0FBTyxJQUFJRixFQUFNZixFQUFXaUIsR0FHOUJrQixPQUF1Q0MsRUFBY0MsR0FDbkQsT0FBUUQsR0FDTixJQUFLLGdCQUNpQixpQkFBVEMsR0FDVHRDLEtBQUt1Qyx3QkFBd0IsT0FBUUQsR0FFdkMsTUFDRixJQUFLLGlCQUNpQixpQkFBVEEsR0FDVHRDLEtBQUt1Qyx3QkFBd0IsS0FBTUQsR0FFckMsTUFDRixJQUFLLGVBQ2lCLGlCQUFUQSxHQUNUdEMsS0FBS3VDLHdCQUF3QixNQUFPRCxHQUV0QyxNQUNGLElBQUssZUFDaUIsaUJBQVRBLEdBQ1R0QyxLQUFLdUMsd0JBQXdCLE1BQU9ELEdBRXRDLE1BQ0YsSUFBSyxnQkFDaUIsaUJBQVRBLEdBQ1R0QyxLQUFLdUMsd0JBQXdCLE9BQVFELEdBRXZDLE1BQ0YsSUFBSyxvQkFDSHRDLEtBQUt3QyxtQkFBbUIsU0FDeEIsTUFDRixJQUFLLDBCQUNIeEMsS0FBS3dDLG1CQUFtQixZQUN4QixNQUNGLElBQUssMEJBQ0h4QyxLQUFLd0MsbUJBQW1CLGVBQ3hCLE1BQ0YsSUFBSywyQkFDSHhDLEtBQUt3QyxtQkFBbUIsZ0JBQ3hCLE1BQ0YsSUFBSyxvQkFDSHhDLEtBQUt3QyxtQkFBbUIsU0FDeEIsTUFDRixJQUFLLDBCQUNpQixpQkFBVEYsR0FDVHRDLEtBQUt1Qyx3QkFBd0IsaUJBQWtCRCxJQVMvQyxzQkFBc0JHLEdBQzVCLE1BQU1DLEVBQWlDRCxFQUFNRSxRQUFRLFNBQ3JERCxNQUFBQSxHQUFBQSxFQUFPRSxVQUFVQyxPQUFPLHFDQUdsQmQsU0FDVyxNQUNmL0IsS0FBS29CLElBQUkwQixLQUFPLFNBQ2hCOUMsS0FBS3FCLElBQUl5QixLQUFPLFNBQ2hCOUMsS0FBS3NCLEtBQUt3QixLQUFPLFNBQ2pCOUMsS0FBS3VCLEtBQUt1QixLQUFPLFNBQ2pCOUMsS0FBS3dCLEdBQUdzQixLQUFPLFNBQ2Y5QyxLQUFLeUIsU0FBU3FCLEtBQU8sV0FDckI5QyxLQUFLMEIsTUFBTW9CLEtBQU8sV0FDbEI5QyxLQUFLMkIsTUFBTW1CLEtBQU8sV0FDbEI5QyxLQUFLNEIsZUFBZWtCLEtBQU8sU0FDM0I5QyxLQUFLNkIsWUFBWWlCLEtBQU8sV0FDeEI5QyxLQUFLOEIsYUFBYWdCLEtBQU8sWUFFM0JDLEdBRUEsTUFBTUMsRUFBVyxDQUNmUCxFQUF5QlEsRUFBY2xELEtBRXZDLE1BQU0yQyxFQUEwQnpCLEVBQUEsa0JBQTRCLFFBQVMsZ0JBU3JFLE9BUkF5QixFQUFNUSxZQUFjRCxFQUVoQmxELEdBQ0YyQyxFQUFNRSxVQUFVTyxJQUFJcEQsR0FHdEIyQyxFQUFNVSxPQUFPWCxHQUVOQyxHQUVUMUMsS0FBS0MsVUFBVW1ELE9BQ2JKLEVBQVNoRCxLQUFLMEIsTUFBTyxTQUFVLDZCQUMvQnNCLEVBQVNoRCxLQUFLeUIsU0FBVSxZQUFhLDZCQUNyQ3VCLEVBQVNoRCxLQUFLNkIsWUFBYSxnQkFBaUIsNkJBQzVDbUIsRUFBU2hELEtBQUs4QixhQUFjLGtCQUFtQiw2QkFDL0NrQixFQUFTaEQsS0FBSzJCLE1BQU8sU0FBVSw2QkFDL0JxQixFQUFTaEQsS0FBSzRCLGVBQWdCLG9CQUM5Qm9CLEVBQVNoRCxLQUFLb0IsSUFBSyxRQUNuQjRCLEVBQVNoRCxLQUFLcUIsSUFBSyxRQUNuQjJCLEVBQVNoRCxLQUFLdUIsS0FBTSxTQUNwQnlCLEVBQVNoRCxLQUFLd0IsR0FBSSxPQUNsQndCLEVBQVNoRCxLQUFLc0IsS0FBTSxVQUloQlUsVUFBVXFCLEdBQ2hCckQsS0FBS29CLElBQUlrQyxhQUFhLFFBQVMsR0FBR0QsRUFBUWpDLE9BQzFDcEIsS0FBS3FCLElBQUlpQyxhQUFhLFFBQVMsR0FBR0QsRUFBUWhDLE9BQzFDckIsS0FBS3NCLEtBQUtnQyxhQUFhLFFBQVMsR0FBR0QsRUFBUS9CLFFBQzNDdEIsS0FBS3VCLEtBQUsrQixhQUFhLFFBQVMsR0FBR0QsRUFBUUUsYUFDM0N2RCxLQUFLd0IsR0FBRzhCLGFBQWEsYUFBZ0NFLElBQXZCSCxFQUFRSSxXQUEyQixHQUFHSixFQUFRSSxhQUFlLElBQzNGekQsS0FBS3lCLFNBQVNpQyxRQUFVTCxFQUFRNUIsU0FDaEN6QixLQUFLMEIsTUFBTWdDLFFBQVVMLEVBQVEzQixNQUM3QjFCLEtBQUsyQixNQUFNK0IsUUFBVUwsRUFBUTFCLE1BQzdCM0IsS0FBSzRCLGVBQWUwQixhQUFhLFFBQVMsR0FBR0QsRUFBUXpCLGtCQUNyRDVCLEtBQUs2QixZQUFZNkIsUUFBVUwsRUFBUXhCLFlBQ25DN0IsS0FBSzhCLGFBQWE0QixRQUFVTCxFQUFRdkIsYUFFZCxNQUNELENBQ2pCOUIsS0FBS3lCLFNBQ0x6QixLQUFLMEIsTUFDTDFCLEtBQUsyQixNQUNMM0IsS0FBSzZCLFlBQ0w3QixLQUFLOEIsY0FFSTZCLFNBQVNDLElBQ2RBLEVBQVNGLFNBQ1gxQyxFQUFNNkMsZUFBZUQsT0FJM0JFLEdBR01DLFlBQVlDLEVBQWtDQyxHQUNwRCxNQUFNLE9BQUVDLEdBQVdELEVBQ2ZDLGFBQWtCQyxrQkFBb0JELEVBQU9FLGFBQWEsVUFDNURwRSxLQUFLa0IsT0FBTzhDLEdBQVFLLE9BQU9ILEVBQU9JLFFBSTlCQyxhQUFhUCxHQUNuQmhFLEtBQUtrQixPQUFPOEMsS0FHTnpCLHdCQUF3QmlDLEVBQXVCRixHQUNyRHRFLEtBQUt3RSxHQUFVRixNQUFRLEdBQUdBLElBR3BCOUIsbUJBQW1CZ0MsR0FDekJ4RCxFQUFNNkMsZUFBZTdELEtBQUt3RSxJQUdwQnRDLHNCQUNObEMsS0FBSzBCLE1BQU0rQyxpQkFBaUIsU0FBVXpFLEtBQUt1RSxhQUFhRyxLQUFLMUUsS0FBTSxnQkFDbkVBLEtBQUt5QixTQUFTZ0QsaUJBQWlCLFNBQVV6RSxLQUFLdUUsYUFBYUcsS0FBSzFFLEtBQU0sc0JBQ3RFQSxLQUFLNkIsWUFBWTRDLGlCQUFpQixTQUFVekUsS0FBS3VFLGFBQWFHLEtBQUsxRSxLQUFNLHNCQUN6RUEsS0FBSzhCLGFBQWEyQyxpQkFBaUIsU0FBVXpFLEtBQUt1RSxhQUFhRyxLQUFLMUUsS0FBTSx1QkFDMUVBLEtBQUsyQixNQUFNOEMsaUJBQWlCLFNBQVV6RSxLQUFLdUUsYUFBYUcsS0FBSzFFLEtBQU0sZ0JBQ25FQSxLQUFLNEIsZUFBZTZDLGlCQUFpQixTQUFVekUsS0FBSytELFlBQVlXLEtBQUsxRSxLQUFNLHNCQUMzRUEsS0FBS29CLElBQUlxRCxpQkFBaUIsU0FBVXpFLEtBQUsrRCxZQUFZVyxLQUFLMUUsS0FBTSxXQUNoRUEsS0FBS3FCLElBQUlvRCxpQkFBaUIsU0FBVXpFLEtBQUsrRCxZQUFZVyxLQUFLMUUsS0FBTSxXQUNoRUEsS0FBS3VCLEtBQUtrRCxpQkFBaUIsU0FBVXpFLEtBQUsrRCxZQUFZVyxLQUFLMUUsS0FBTSxpQkFDakVBLEtBQUt3QixHQUFHaUQsaUJBQWlCLFNBQVV6RSxLQUFLK0QsWUFBWVcsS0FBSzFFLEtBQU0sa0JBQy9EQSxLQUFLc0IsS0FBS21ELGlCQUFpQixTQUFVekUsS0FBSytELFlBQVlXLEtBQUsxRSxLQUFNLGFBSXJFLFUsZUNuT0EyRSxHQUFFLEtBRWUsSUFERHpFLFNBQVMwRSxpQkFBaUIsU0FDZEMsUUFBUUMsR0FBU0EsRUFBS2xDLFVBQVVtQyxTQUFTLGNBRTVEcEIsU0FBU3FCLElBQ2RDLFlBQVcsS0FDVCxNQUFNQyxFQUFXUCxFQUFFSyxHQUFPMUMsS0FBSyxVQUN6QjZDLEVBQWlCUixFQUFFLElBQUlPLEtBQVk1QyxLQUFLLGVBQzlDLE9BQVcwQyxFQUFPRyxLQUNqQixTLGVDUlAsR0FBRSxLQUNBLEVBQUUsb0JBQW9CQyxZQUFZLENBQ2hDSixPQUFPLFMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9SYW5nZVNsaWRlci9WaWV3L0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50LnRzIiwid2VicGFjazovLy8uL2RlbW8vUGFuZWwvUGFuZWwudHMiLCJ3ZWJwYWNrOi8vLy4vZGVtby9QYW5lbC9pbml0LnRzIiwid2VicGFjazovLy8uL2RlbW8vZGVtby50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBCYXNlRWxlbWVudDxUIGV4dGVuZHMga2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwPiB7XG4gIHByb3RlY3RlZCBjb21wb25lbnQ6IEhUTUxFbGVtZW50VGFnTmFtZU1hcFtUXTtcblxuICBjb25zdHJ1Y3Rvcih0YWc6IFQsIGNsYXNzTmFtZT86IHN0cmluZykge1xuICAgIHRoaXMuY29tcG9uZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuXG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgdGhpcy5jb21wb25lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBzdGF0aWMgY3JlYXRlQ29tcG9uZW50PEsgZXh0ZW5kcyBrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXA+KFxuICAgIHRhZzogSywgY2xhc3NOYW1lPzogc3RyaW5nLFxuICApOiBIVE1MRWxlbWVudFRhZ05hbWVNYXBbS10ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG5cbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIGdldENvbXBvbmVudCgpOiBIVE1MRWxlbWVudFRhZ05hbWVNYXBbVF0ge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudDtcbiAgfVxuXG4gIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOiBET01SZWN0IHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIH1cblxuICBnZXRXaWR0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vZmZzZXRXaWR0aDtcbiAgfVxuXG4gIGdldEhlaWdodCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vZmZzZXRIZWlnaHQ7XG4gIH1cblxuICBzZXRJbmRlbnQoc2lkZTogJ3RvcCcgfCAncmlnaHQnIHwgJ2JvdHRvbScgfCAnbGVmdCcsIGluZGVudDogbnVtYmVyIHwgc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiBpbmRlbnQgPT09ICdudW1iZXInKSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC5zdHlsZVtzaWRlXSA9IGAke2luZGVudH0lYDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGluZGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LnN0eWxlW3NpZGVdID0gaW5kZW50O1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZSgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5yZW1vdmUoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCYXNlRWxlbWVudDtcbiIsImltcG9ydCBCYXNlRWxlbWVudCBmcm9tICcuLi8uLi9SYW5nZVNsaWRlci9WaWV3L0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50JztcbmltcG9ydCB7IElFdmVudExpc3RlbmVyLCBQb3NzaWJsZUV2ZW50cyB9IGZyb20gJy4uLy4uL1JhbmdlU2xpZGVyL0V2ZW50TWFuYWdlci9FdmVudE1hbmFnZXInO1xuaW1wb3J0IFNsaWRlck9wdGlvbnMgZnJvbSAnLi4vLi4vUmFuZ2VTbGlkZXIvUHJlc2VudGVyL1NsaWRlck9wdGlvbnMnO1xuaW1wb3J0IHsgSW5wdXRTbGlkZXJQdWJsaWNNZXRob2RzLCBUb2dnbGVTbGlkZXJQdWJsaWNNZXRob2RzIH0gZnJvbSAnLi4vLi4vUmFuZ2VTbGlkZXIvUHJlc2VudGVyL1NsaWRlclB1YmxpY01ldGhvZHMnO1xuaW1wb3J0IFByZXNlbnRlciBmcm9tICcuLi8uLi9SYW5nZVNsaWRlci9QcmVzZW50ZXIvUHJlc2VudGVyJztcblxudHlwZSBQYW5lbElucHV0cyA9ICdtaW4nIHwgJ21heCcgfCAnc3RlcCcgfCAnZnJvbScgfCAndG8nIHwgJ3NjYWxlSW50ZXJ2YWxzJztcbnR5cGUgUGFuZWxDaGVja2JveGVzID0gJ3ZlcnRpY2FsJyB8ICdyYW5nZScgfCAnc2NhbGUnIHwgJ3ZhbHVlTGFiZWxzJyB8ICdtaW5NYXhMYWJlbHMnO1xuXG5jbGFzcyBQYW5lbCBleHRlbmRzIEJhc2VFbGVtZW50PCdmb3JtJz4gaW1wbGVtZW50cyBJRXZlbnRMaXN0ZW5lciB7XG4gIHByaXZhdGUgc2xpZGVyOiBQcmVzZW50ZXI7XG5cbiAgcHJpdmF0ZSBtaW46IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBtYXg6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBzdGVwOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHByaXZhdGUgZnJvbTogSFRNTElucHV0RWxlbWVudDtcblxuICBwcml2YXRlIHRvOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHByaXZhdGUgdmVydGljYWw6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSByYW5nZTogSFRNTElucHV0RWxlbWVudDtcblxuICBwcml2YXRlIHNjYWxlOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHByaXZhdGUgc2NhbGVJbnRlcnZhbHM6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSB2YWx1ZUxhYmVsczogSFRNTElucHV0RWxlbWVudDtcblxuICBwcml2YXRlIG1pbk1heExhYmVsczogSFRNTElucHV0RWxlbWVudDtcblxuICBjb25zdHJ1Y3Rvcihjb21wb25lbnQ6IEhUTUxGb3JtRWxlbWVudCwgc2xpZGVyOiBQcmVzZW50ZXIpIHtcbiAgICBzdXBlcignZm9ybScpO1xuXG4gICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgdGhpcy5zbGlkZXIgPSBzbGlkZXI7XG5cbiAgICB0aGlzLm1pbiA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX21pbiBwYW5lbF9faW5wdXQnKTtcbiAgICB0aGlzLm1heCA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX21heCBwYW5lbF9faW5wdXQnKTtcbiAgICB0aGlzLnN0ZXAgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX19zdGVwIHBhbmVsX19pbnB1dCcpO1xuICAgIHRoaXMuZnJvbSA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX2Zyb20gcGFuZWxfX2lucHV0Jyk7XG4gICAgdGhpcy50byA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX3RvIHBhbmVsX19pbnB1dCcpO1xuICAgIHRoaXMudmVydGljYWwgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX192ZXJ0aWNhbCBwYW5lbF9fY2hlY2tib3gnKTtcbiAgICB0aGlzLnJhbmdlID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fcmFuZ2UgcGFuZWxfX2NoZWNrYm94Jyk7XG4gICAgdGhpcy5zY2FsZSA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX3NjYWxlIHBhbmVsX19jaGVja2JveCcpO1xuICAgIHRoaXMuc2NhbGVJbnRlcnZhbHMgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX19zY2FsZS1pbnRlcnZhbHMgcGFuZWxfX2lucHV0Jyk7XG4gICAgdGhpcy52YWx1ZUxhYmVscyA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX3ZhbHVlLWxhYmVscyBwYW5lbF9fY2hlY2tib3gnKTtcbiAgICB0aGlzLm1pbk1heExhYmVscyA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX21pbi1tYXgtbGFiZWxzIHBhbmVsX19jaGVja2JveCcpO1xuXG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgICB0aGlzLnNldFZhbHVlcyhzbGlkZXIuZ2V0VmFsdWVzKCkpO1xuICAgIHRoaXMuYXR0YWNoRXZlbnRIYW5kbGVycygpO1xuICAgIHNsaWRlci5zdWJzY3JpYmUodGhpcyk7XG4gIH1cblxuICBzdGF0aWMgaW5pdChjb21wb25lbnQ6IEhUTUxGb3JtRWxlbWVudCwgc2xpZGVyOiBQcmVzZW50ZXIpIHtcbiAgICByZXR1cm4gbmV3IFBhbmVsKGNvbXBvbmVudCwgc2xpZGVyKTtcbiAgfVxuXG4gIGluZm9ybTxFIGV4dGVuZHMga2V5b2YgUG9zc2libGVFdmVudHM+KGV2ZW50VHlwZTogRSwgZGF0YTogUG9zc2libGVFdmVudHNbRV0pOiB2b2lkIHtcbiAgICBzd2l0Y2ggKGV2ZW50VHlwZSkge1xuICAgICAgY2FzZSAnc2xpZGVyU2V0TGVmdCc6XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVNsaWRlckNoYW5nZVZhbHVlKCdmcm9tJywgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzbGlkZXJTZXRSaWdodCc6XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVNsaWRlckNoYW5nZVZhbHVlKCd0bycsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2xpZGVyU2V0TWluJzpcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMuaGFuZGxlU2xpZGVyQ2hhbmdlVmFsdWUoJ21pbicsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2xpZGVyU2V0TWF4JzpcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMuaGFuZGxlU2xpZGVyQ2hhbmdlVmFsdWUoJ21heCcsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2xpZGVyU2V0U3RlcCc6XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVNsaWRlckNoYW5nZVZhbHVlKCdzdGVwJywgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzbGlkZXJUb2dnbGVSYW5nZSc6XG4gICAgICAgIHRoaXMuaGFuZGxlU2xpZGVyVG9nZ2xlKCdyYW5nZScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NsaWRlclRvZ2dsZU9yaWVudGF0aW9uJzpcbiAgICAgICAgdGhpcy5oYW5kbGVTbGlkZXJUb2dnbGUoJ3ZlcnRpY2FsJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2xpZGVyVG9nZ2xlVmFsdWVMYWJlbHMnOlxuICAgICAgICB0aGlzLmhhbmRsZVNsaWRlclRvZ2dsZSgndmFsdWVMYWJlbHMnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzbGlkZXJUb2dnbGVNaW5NYXhMYWJlbHMnOlxuICAgICAgICB0aGlzLmhhbmRsZVNsaWRlclRvZ2dsZSgnbWluTWF4TGFiZWxzJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2xpZGVyVG9nZ2xlU2NhbGUnOlxuICAgICAgICB0aGlzLmhhbmRsZVNsaWRlclRvZ2dsZSgnc2NhbGUnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzbGlkZXJTZXRTY2FsZUludGVydmFscyc6XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVNsaWRlckNoYW5nZVZhbHVlKCdzY2FsZUludGVydmFscycsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyB0b2dnbGVDaGVja2JveChpbnB1dDogSFRNTElucHV0RWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnN0IGxhYmVsOiBIVE1MTGFiZWxFbGVtZW50IHwgbnVsbCA9IGlucHV0LmNsb3Nlc3QoJ2xhYmVsJyk7XG4gICAgbGFiZWw/LmNsYXNzTGlzdC50b2dnbGUoJ3BhbmVsX19sYWJlbF9mb3ItY2hlY2tib3hfY2hlY2tlZCcpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXIoKTogdm9pZCB7XG4gICAgY29uc3Qgc2V0VHlwZXMgPSAoKSA9PiB7XG4gICAgICB0aGlzLm1pbi50eXBlID0gJ251bWJlcic7XG4gICAgICB0aGlzLm1heC50eXBlID0gJ251bWJlcic7XG4gICAgICB0aGlzLnN0ZXAudHlwZSA9ICdudW1iZXInO1xuICAgICAgdGhpcy5mcm9tLnR5cGUgPSAnbnVtYmVyJztcbiAgICAgIHRoaXMudG8udHlwZSA9ICdudW1iZXInO1xuICAgICAgdGhpcy52ZXJ0aWNhbC50eXBlID0gJ2NoZWNrYm94JztcbiAgICAgIHRoaXMucmFuZ2UudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICB0aGlzLnNjYWxlLnR5cGUgPSAnY2hlY2tib3gnO1xuICAgICAgdGhpcy5zY2FsZUludGVydmFscy50eXBlID0gJ251bWJlcic7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxzLnR5cGUgPSAnY2hlY2tib3gnO1xuICAgICAgdGhpcy5taW5NYXhMYWJlbHMudHlwZSA9ICdjaGVja2JveCc7XG4gICAgfTtcbiAgICBzZXRUeXBlcygpO1xuXG4gICAgY29uc3QgYWRkTGFiZWwgPSAoXG4gICAgICBpbnB1dDogSFRNTElucHV0RWxlbWVudCwgbmFtZTogc3RyaW5nLCBjbGFzc05hbWU/OiBzdHJpbmcsXG4gICAgKTogSFRNTExhYmVsRWxlbWVudCA9PiB7XG4gICAgICBjb25zdCBsYWJlbDogSFRNTExhYmVsRWxlbWVudCA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnbGFiZWwnLCAncGFuZWxfX2xhYmVsJyk7XG4gICAgICBsYWJlbC50ZXh0Q29udGVudCA9IG5hbWU7XG5cbiAgICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgICAgbGFiZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgICAgfVxuXG4gICAgICBsYWJlbC5hcHBlbmQoaW5wdXQpO1xuXG4gICAgICByZXR1cm4gbGFiZWw7XG4gICAgfTtcbiAgICB0aGlzLmNvbXBvbmVudC5hcHBlbmQoXG4gICAgICBhZGRMYWJlbCh0aGlzLnJhbmdlLCAnUmFuZ2U6JywgJ3BhbmVsX19sYWJlbF9mb3ItY2hlY2tib3gnKSxcbiAgICAgIGFkZExhYmVsKHRoaXMudmVydGljYWwsICdWZXJ0aWNhbDonLCAncGFuZWxfX2xhYmVsX2Zvci1jaGVja2JveCcpLFxuICAgICAgYWRkTGFiZWwodGhpcy52YWx1ZUxhYmVscywgJ1ZhbHVlIGxhYmVsczonLCAncGFuZWxfX2xhYmVsX2Zvci1jaGVja2JveCcpLFxuICAgICAgYWRkTGFiZWwodGhpcy5taW5NYXhMYWJlbHMsICdNaW4mbWF4IGxhYmVsczonLCAncGFuZWxfX2xhYmVsX2Zvci1jaGVja2JveCcpLFxuICAgICAgYWRkTGFiZWwodGhpcy5zY2FsZSwgJ1NjYWxlOicsICdwYW5lbF9fbGFiZWxfZm9yLWNoZWNrYm94JyksXG4gICAgICBhZGRMYWJlbCh0aGlzLnNjYWxlSW50ZXJ2YWxzLCAnU2NhbGUgaW50ZXJ2YWxzOicpLFxuICAgICAgYWRkTGFiZWwodGhpcy5taW4sICdNaW46JyksXG4gICAgICBhZGRMYWJlbCh0aGlzLm1heCwgJ01heDonKSxcbiAgICAgIGFkZExhYmVsKHRoaXMuZnJvbSwgJ0Zyb206JyksXG4gICAgICBhZGRMYWJlbCh0aGlzLnRvLCAnVG86JyksXG4gICAgICBhZGRMYWJlbCh0aGlzLnN0ZXAsICdTdGVwOicpLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHNldFZhbHVlcyhvcHRpb25zOiBTbGlkZXJPcHRpb25zKTogdm9pZCB7XG4gICAgdGhpcy5taW4uc2V0QXR0cmlidXRlKCd2YWx1ZScsIGAke29wdGlvbnMubWlufWApO1xuICAgIHRoaXMubWF4LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBgJHtvcHRpb25zLm1heH1gKTtcbiAgICB0aGlzLnN0ZXAuc2V0QXR0cmlidXRlKCd2YWx1ZScsIGAke29wdGlvbnMuc3RlcH1gKTtcbiAgICB0aGlzLmZyb20uc2V0QXR0cmlidXRlKCd2YWx1ZScsIGAke29wdGlvbnMubGVmdFZhbHVlfWApO1xuICAgIHRoaXMudG8uc2V0QXR0cmlidXRlKCd2YWx1ZScsIG9wdGlvbnMucmlnaHRWYWx1ZSAhPT0gdW5kZWZpbmVkID8gYCR7b3B0aW9ucy5yaWdodFZhbHVlfWAgOiAnJyk7XG4gICAgdGhpcy52ZXJ0aWNhbC5jaGVja2VkID0gb3B0aW9ucy52ZXJ0aWNhbDtcbiAgICB0aGlzLnJhbmdlLmNoZWNrZWQgPSBvcHRpb25zLnJhbmdlO1xuICAgIHRoaXMuc2NhbGUuY2hlY2tlZCA9IG9wdGlvbnMuc2NhbGU7XG4gICAgdGhpcy5zY2FsZUludGVydmFscy5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgYCR7b3B0aW9ucy5zY2FsZUludGVydmFsc31gKTtcbiAgICB0aGlzLnZhbHVlTGFiZWxzLmNoZWNrZWQgPSBvcHRpb25zLnZhbHVlTGFiZWxzO1xuICAgIHRoaXMubWluTWF4TGFiZWxzLmNoZWNrZWQgPSBvcHRpb25zLm1pbk1heExhYmVscztcblxuICAgIGNvbnN0IHNldENoZWNrTWFya3MgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjaGVja2JveGVzID0gW1xuICAgICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICAgICB0aGlzLnJhbmdlLFxuICAgICAgICB0aGlzLnNjYWxlLFxuICAgICAgICB0aGlzLnZhbHVlTGFiZWxzLFxuICAgICAgICB0aGlzLm1pbk1heExhYmVscyxcbiAgICAgIF07XG4gICAgICBjaGVja2JveGVzLmZvckVhY2goKGNoZWNrYm94KSA9PiB7XG4gICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICAgICAgUGFuZWwudG9nZ2xlQ2hlY2tib3goY2hlY2tib3gpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHNldENoZWNrTWFya3MoKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlSW5wdXQobWV0aG9kOiBJbnB1dFNsaWRlclB1YmxpY01ldGhvZHMsIGV2ZW50OiBFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSBldmVudDtcbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiB0YXJnZXQuaGFzQXR0cmlidXRlKCd2YWx1ZScpKSB7XG4gICAgICB0aGlzLnNsaWRlclttZXRob2RdKE51bWJlcih0YXJnZXQudmFsdWUpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVRvZ2dsZShtZXRob2Q6IFRvZ2dsZVNsaWRlclB1YmxpY01ldGhvZHMpOiB2b2lkIHtcbiAgICB0aGlzLnNsaWRlclttZXRob2RdKCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVNsaWRlckNoYW5nZVZhbHVlKHByb3BlcnR5OiBQYW5lbElucHV0cywgdmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXNbcHJvcGVydHldLnZhbHVlID0gYCR7dmFsdWV9YDtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlU2xpZGVyVG9nZ2xlKHByb3BlcnR5OiBQYW5lbENoZWNrYm94ZXMpOiB2b2lkIHtcbiAgICBQYW5lbC50b2dnbGVDaGVja2JveCh0aGlzW3Byb3BlcnR5XSk7XG4gIH1cblxuICBwcml2YXRlIGF0dGFjaEV2ZW50SGFuZGxlcnMoKTogdm9pZCB7XG4gICAgdGhpcy5yYW5nZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZVRvZ2dsZS5iaW5kKHRoaXMsICd0b2dnbGVSYW5nZScpKTtcbiAgICB0aGlzLnZlcnRpY2FsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlVG9nZ2xlLmJpbmQodGhpcywgJ3RvZ2dsZU9yaWVudGF0aW9uJykpO1xuICAgIHRoaXMudmFsdWVMYWJlbHMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVUb2dnbGUuYmluZCh0aGlzLCAndG9nZ2xlVmFsdWVMYWJlbHMnKSk7XG4gICAgdGhpcy5taW5NYXhMYWJlbHMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVUb2dnbGUuYmluZCh0aGlzLCAndG9nZ2xlTWluTWF4TGFiZWxzJykpO1xuICAgIHRoaXMuc2NhbGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVUb2dnbGUuYmluZCh0aGlzLCAndG9nZ2xlU2NhbGUnKSk7XG4gICAgdGhpcy5zY2FsZUludGVydmFscy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZUlucHV0LmJpbmQodGhpcywgJ3NldFNjYWxlSW50ZXJ2YWxzJykpO1xuICAgIHRoaXMubWluLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlSW5wdXQuYmluZCh0aGlzLCAnc2V0TWluJykpO1xuICAgIHRoaXMubWF4LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlSW5wdXQuYmluZCh0aGlzLCAnc2V0TWF4JykpO1xuICAgIHRoaXMuZnJvbS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZUlucHV0LmJpbmQodGhpcywgJ3NldExlZnRWYWx1ZScpKTtcbiAgICB0aGlzLnRvLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlSW5wdXQuYmluZCh0aGlzLCAnc2V0UmlnaHRWYWx1ZScpKTtcbiAgICB0aGlzLnN0ZXAuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVJbnB1dC5iaW5kKHRoaXMsICdzZXRTdGVwJykpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBhbmVsO1xuIiwiaW1wb3J0IFBhbmVsIGZyb20gJy4vUGFuZWwnO1xuXG4kKCgpID0+IHtcbiAgY29uc3QgZm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtJyk7XG4gIGNvbnN0IHBhbmVscyA9IFsuLi5mb3Jtc10uZmlsdGVyKChmb3JtKSA9PiBmb3JtLmNsYXNzTGlzdC5jb250YWlucygnanMtcGFuZWwnKSk7XG5cbiAgcGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBzbGlkZXJJZCA9ICQocGFuZWwpLmRhdGEoJ3NsaWRlcicpO1xuICAgICAgY29uc3Qgc2xpZGVySW5zdGFuY2UgPSAkKGAjJHtzbGlkZXJJZH1gKS5kYXRhKCdyYW5nZVNsaWRlcicpO1xuICAgICAgUGFuZWwuaW5pdChwYW5lbCwgc2xpZGVySW5zdGFuY2UpO1xuICAgIH0sIDApO1xuICB9KTtcbn0pO1xuIiwiaW1wb3J0ICcuL2RlbW8uc2Nzcyc7XG5pbXBvcnQgJy4vUGFuZWwvaW5pdCc7XG5cbiQoKCkgPT4ge1xuICAkKCcuanMtcmFuZ2Utc2xpZGVyJykucmFuZ2VTbGlkZXIoe1xuICAgIHBhbmVsOiBmYWxzZSxcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsInRhZyIsImNsYXNzTmFtZSIsInRoaXMiLCJjb21wb25lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJlbGVtZW50IiwiZ2V0Q29tcG9uZW50IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZ2V0V2lkdGgiLCJvZmZzZXRXaWR0aCIsImdldEhlaWdodCIsIm9mZnNldEhlaWdodCIsInNldEluZGVudCIsInNpZGUiLCJpbmRlbnQiLCJzdHlsZSIsInJlbW92ZSIsIlBhbmVsIiwiQmFzZUVsZW1lbnQiLCJzbGlkZXIiLCJzdXBlciIsIm1pbiIsIm1heCIsInN0ZXAiLCJmcm9tIiwidG8iLCJ2ZXJ0aWNhbCIsInJhbmdlIiwic2NhbGUiLCJzY2FsZUludGVydmFscyIsInZhbHVlTGFiZWxzIiwibWluTWF4TGFiZWxzIiwicmVuZGVyIiwic2V0VmFsdWVzIiwiZ2V0VmFsdWVzIiwiYXR0YWNoRXZlbnRIYW5kbGVycyIsInN1YnNjcmliZSIsImluZm9ybSIsImV2ZW50VHlwZSIsImRhdGEiLCJoYW5kbGVTbGlkZXJDaGFuZ2VWYWx1ZSIsImhhbmRsZVNsaWRlclRvZ2dsZSIsImlucHV0IiwibGFiZWwiLCJjbG9zZXN0IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwidHlwZSIsInNldFR5cGVzIiwiYWRkTGFiZWwiLCJuYW1lIiwidGV4dENvbnRlbnQiLCJhZGQiLCJhcHBlbmQiLCJvcHRpb25zIiwic2V0QXR0cmlidXRlIiwibGVmdFZhbHVlIiwidW5kZWZpbmVkIiwicmlnaHRWYWx1ZSIsImNoZWNrZWQiLCJmb3JFYWNoIiwiY2hlY2tib3giLCJ0b2dnbGVDaGVja2JveCIsInNldENoZWNrTWFya3MiLCJoYW5kbGVJbnB1dCIsIm1ldGhvZCIsImV2ZW50IiwidGFyZ2V0IiwiSFRNTElucHV0RWxlbWVudCIsImhhc0F0dHJpYnV0ZSIsIk51bWJlciIsInZhbHVlIiwiaGFuZGxlVG9nZ2xlIiwicHJvcGVydHkiLCJhZGRFdmVudExpc3RlbmVyIiwiYmluZCIsIiQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZmlsdGVyIiwiZm9ybSIsImNvbnRhaW5zIiwicGFuZWwiLCJzZXRUaW1lb3V0Iiwic2xpZGVySWQiLCJzbGlkZXJJbnN0YW5jZSIsInJhbmdlU2xpZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==